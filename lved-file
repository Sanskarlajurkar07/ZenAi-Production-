[1mdiff --git a/.gitignore b/.gitignore[m
[1mdeleted file mode 100644[m
[1mindex 8a05710..0000000[m
[1m--- a/.gitignore[m
[1m+++ /dev/null[m
[36m@@ -1,190 +0,0 @@[m
[31m-# ============================================[m
[31m-# ZenAI Production - Comprehensive .gitignore[m
[31m-# ============================================[m
[31m-[m
[31m-# Environment Files[m
[31m-.env[m
[31m-.env.local[m
[31m-.env.*.local[m
[31m-.env.production[m
[31m-.env.staging[m
[31m-.env.development[m
[31m-*.pem[m
[31m-*.key[m
[31m-*.pub[m
[31m-[m
[31m-# Node Modules[m
[31m-node_modules/[m
[31m-npm-debug.log[m
[31m-npm-debug.log*[m
[31m-yarn-debug.log*[m
[31m-yarn-error.log*[m
[31m-package-lock.json[m
[31m-yarn.lock[m
[31m-[m
[31m-# Build & Distribution[m
[31m-build/[m
[31m-dist/[m
[31m-out/[m
[31m-*.tgz[m
[31m-*.tar.gz[m
[31m-[m
[31m-# IDE & Editor Files[m
[31m-.vscode/[m
[31m-.idea/[m
[31m-*.swp[m
[31m-*.swo[m
[31m-*~[m
[31m-.DS_Store[m
[31m-.AppleDouble[m
[31m-.LSOverride[m
[31m-*.sublime-project[m
[31m-*.sublime-workspace[m
[31m-.vim/[m
[31m-.netrwhist[m
[31m-*~[m
[31m-.tern-port[m
[31m-[m
[31m-# Logs & Temp Files[m
[31m-logs/[m
[31m-*.log[m
[31m-tmp/[m
[31m-temp/[m
[31m-.cache[m
[31m-*.cache[m
[31m-[m
[31m-# Docker & Container[m
[31m-.dockerignore[m
[31m-docker-compose.override.yml[m
[31m-.docker[m
[31m-[m
[31m-# Database[m
[31m-*.sqlite[m
[31m-*.sqlite3[m
[31m-*.db[m
[31m-mongodb-data/[m
[31m-mongo-init.js[m
[31m-[m
[31m-# Backups & Restore[m
[31m-backups/[m
[31m-*.backup[m
[31m-*.bak[m
[31m-*.restore[m
[31m-dumps/[m
[31m-[m
[31m-# SSL & Certificates[m
[31m-nginx/ssl/*.pem[m
[31m-nginx/ssl/*.key[m
[31m-nginx/ssl/*.crt[m
[31m-nginx/ssl/*.cer[m
[31m-letsencrypt/[m
[31m-[m
[31m-# Uploads & Media[m
[31m-uploads/[m
[31m-public/uploads/[m
[31m-*.mp3[m
[31m-*.wav[m
[31m-*.m4a[m
[31m-*.mp4[m
[31m-*.webm[m
[31m-*.ogg[m
[31m-[m
[31m-# OS Files[m
[31m-.gitkeep[m
[31m-.DS_Store[m
[31m-Thumbs.db[m
[31m-*.swp[m
[31m-*.swo[m
[31m-*~[m
[31m-[m
[31m-# Process & Runtime[m
[31m-.pid[m
[31m-*.pid[m
[31m-.lock[m
[31m-*.lock[m
[31m-[m
[31m-# Testing[m
[31m-.nyc_output/[m
[31m-coverage/[m
[31m-.coverage[m
[31m-*.coverage[m
[31m-test-results/[m
[31m-jest-coverage/[m
[31m-[m
[31m-# IDEs[m
[31m-.vscode/settings.json[m
[31m-.vscode/launch.json[m
[31m-*.iml[m
[31m-.classpath[m
[31m-.project[m
[31m-.pydevproject[m
[31m-.settings/[m
[31m-[m
[31m-# Python[m
[31m-__pycache__/[m
[31m-*.py[cod][m
[31m-*$py.class[m
[31m-*.so[m
[31m-.Python[m
[31m-env/[m
[31m-venv/[m
[31m-ENV/[m
[31m-build/[m
[31m-develop-eggs/[m
[31m-dist/[m
[31m-downloads/[m
[31m-eggs/[m
[31m-.eggs/[m
[31m-lib/[m
[31m-lib64/[m
[31m-parts/[m
[31m-sdist/[m
[31m-var/[m
[31m-wheels/[m
[31m-[m
[31m-# Jupyter Notebooks[m
[31m-.ipynb_checkpoints[m
[31m-*.ipynb[m
[31m-[m
[31m-# Misc[m
[31m-*.orig[m
[31m-*.rej[m
[31m-*.patch[m
[31m-.turbo[m
[31m-dist/[m
[31m-[m
[31m-# Production builds[m
[31m-zenai-frontend/build/[m
[31m-zenai-frontend/dist/[m
[31m-[m
[31m-# AI Engine specific[m
[31m-zenai-ai-engine/models/[m
[31m-zenai-ai-engine/embeddings/[m
[31m-zenai-ai-engine/cache/[m
[31m-[m
[31m-# Backend specific[m
[31m-zenai-backend/logs/[m
[31m-zenai-backend/uploads/[m
[31m-[m
[31m-# Frontend specific[m
[31m-zenai-frontend/node_modules/[m
[31m-zenai-frontend/.next/[m
[31m-zenai-frontend/out/[m
[31m-[m
[31m-# Keep git repo root[m
[31m-!.gitkeep[m
[31m-[m
[31m-# Documentation files to keep[m
[31m-!docs/[m
[31m-!README.md[m
[31m-!.env.example[m
[31m-!.env.production.example[m
[31m-!.gitignore[m
[31m-[m
[31m-# Keep essential configs[m
[31m-!docker-compose.yml[m
[31m-!docker-compose.prod.yml[m
[31m-!Dockerfile[m
[31m-!nginx/nginx.conf[m
[31m-!scripts/[m
[31m-!monitoring/[m
[1mdiff --git a/IMPLEMENTATION_SUMMARY.md b/IMPLEMENTATION_SUMMARY.md[m
[1mdeleted file mode 100644[m
[1mindex 7429d42..0000000[m
[1m--- a/IMPLEMENTATION_SUMMARY.md[m
[1m+++ /dev/null[m
[36m@@ -1,465 +0,0 @@[m
[31m-# ZenAI Production Integration - Implementation Summary[m
[31m-[m
[31m-**Completion Date**: November 12, 2025  [m
[31m-**Status**: ‚úÖ COMPLETE  [m
[31m-**Git Commit**: 63562a7[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìã What Was Implemented[m
[31m-[m
[31m-### 1. ‚úÖ AI Service Integration Layer[m
[31m-**File**: `zenai-backend/src/services/ai.service.js`[m
[31m-[m
[31m-- Connects backend to AI engine services[m
[31m-- Initializes AI agents (ProductManager, TaskAnalyzer, MeetingSummarizer)[m
[31m-- Manages document processor and vector embeddings[m
[31m-- Handles chat interactions with context routing[m
[31m-- Implements error handling and logging[m
[31m-- Provides singleton instance for performance[m
[31m-[m
[31m-**Key Methods**:[m
[31m-- `chat()` - Route messages to appropriate AI agent[m
[31m-- `createTaskFromDescription()` - Generate tasks from natural language[m
[31m-- `analyzeTask()` - Analyze task complexity and effort[m
[31m-- `analyzeProject()` - Evaluate project health[m
[31m-- `transcribeAudio()` - Process audio meetings[m
[31m-- `indexDocument()` / `searchDocuments()` - RAG functionality[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 2. ‚úÖ AI Controller Implementation[m
[31m-**File**: `zenai-backend/src/controllers/ai.controller.js`[m
[31m-[m
[31m-- Complete REST API endpoints for AI features[m
[31m-- Audio file upload handling (50MB limit)[m
[31m-- Request validation and error handling[m
[31m-- Access control verification[m
[31m-- Response formatting and pagination[m
[31m-[m
[31m-**Endpoints**:[m
[31m-- `POST /api/v1/ai/chat` - Chat with AI[m
[31m-- `GET /api/v1/ai/chat/history` - Retrieve conversation history[m
[31m-- `POST /api/v1/ai/tasks/create` - Create task from description[m
[31m-- `GET /api/v1/ai/tasks/:id/analyze` - Task analysis[m
[31m-- `GET /api/v1/ai/tasks/:id/breakdown` - Suggest subtasks[m
[31m-- `POST /api/v1/ai/tasks/estimate` - Effort estimation[m
[31m-- `GET /api/v1/ai/projects/:id/analyze` - Project health[m
[31m-- `POST /api/v1/ai/transcribe` - Audio transcription[m
[31m-- `POST /api/v1/ai/documents/index` - Index documents for RAG[m
[31m-- `GET /api/v1/ai/documents/search` - Search indexed documents[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 3. ‚úÖ AI Routes Configuration[m
[31m-**File**: `zenai-backend/src/routes/ai.routes.js`[m
[31m-[m
[31m-- Express router with authentication middleware[m
[31m-- Rate limiting applied to all AI endpoints[m
[31m-- Organized route grouping by feature[m
[31m-- Audio upload middleware chain[m
[31m-- Proper HTTP method usage[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 4. ‚úÖ Security Middleware[m
[31m-**File**: `zenai-backend/src/middleware/security.middleware.js`[m
[31m-[m
[31m-- **Helmet** - Security headers (CSP, HSTS, XSS protection)[m
[31m-- **NoSQL Injection Prevention** - MongoDB data sanitization[m
[31m-- **XSS Protection** - Cross-site scripting defense[m
[31m-- **HTTP Parameter Pollution** - Parameter whitelist[m
[31m-[m
[31m-**Protections**:[m
[31m-- Content Security Policy (CSP) directives[m
[31m-- HSTS with preload enabled[m
[31m-- OpenAI API domain whitelisting[m
[31m-- Request parameter validation[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 5. ‚úÖ Validation Middleware[m
[31m-**File**: `zenai-backend/src/middleware/validation.middleware.js`[m
[31m-[m
[31m-- Joi schema-based input validation[m
[31m-- Comprehensive validation schemas for AI endpoints[m
[31m-- Error formatting and detailed feedback[m
[31m-- Type checking and length validation[m
[31m-[m
[31m-**Schemas**:[m
[31m-- Chat validation (message, context type, project/task IDs)[m
[31m-- Task creation validation (description length, project ID)[m
[31m-- Transcription validation (title, participants)[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 6. ‚úÖ App Integration[m
[31m-**File**: `zenai-backend/src/app.js`[m
[31m-[m
[31m-- AI routes mounted at `/api/v1/ai`[m
[31m-- Proper middleware ordering[m
[31m-- CORS and compression enabled[m
[31m-- Health check endpoint[m
[31m-- Error handling pipeline[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 7. ‚úÖ Production Docker Configuration[m
[31m-**Files**: [m
[31m-- `zenai-ai-engine/Dockerfile`[m
[31m-- `zenai-frontend/Dockerfile`[m
[31m-- `zenai-backend/Dockerfile` (already existed)[m
[31m-[m
[31m-**Features**:[m
[31m-- Multi-stage builds for optimization[m
[31m-- Non-root user for security[m
[31m-- Health checks configured[m
[31m-- Resource limits specified[m
[31m-- Minimal image footprint[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 8. ‚úÖ Comprehensive .gitignore[m
[31m-**File**: `.gitignore`[m
[31m-[m
[31m-- Environment files (.env, .env.production, etc.)[m
[31m-- Node modules and dependencies[m
[31m-- Build artifacts and logs[m
[31m-- IDE and editor configurations[m
[31m-- Docker and container files[m
[31m-- Database and backup files[m
[31m-- SSL certificates and keys[m
[31m-- OS-specific files[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 9. ‚úÖ Production README[m
[31m-**File**: `README.md`[m
[31m-[m
[31m-Complete project documentation including:[m
[31m-- Architecture overview[m
[31m-- Feature list[m
[31m-- Quick start guides (dev & production)[m
[31m-- API endpoint reference[m
[31m-- Security measures[m
[31m-- Monitoring setup[m
[31m-- Troubleshooting guide[m
[31m-- Deployment instructions[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 10. ‚úÖ Comprehensive Deployment Guide[m
[31m-**File**: `docs/DEPLOYMENT.md`[m
[31m-[m
[31m-Complete 14-section deployment guide:[m
[31m-1. Server setup and dependencies[m
[31m-2. Firewall configuration[m
[31m-3. SSL certificate setup with auto-renewal[m
[31m-4. Environment configuration with secure secrets[m
[31m-5. Docker Compose configuration[m
[31m-6. Database initialization and indexing[m
[31m-7. Application deployment[m
[31m-8. Service verification and health checks[m
[31m-9. Monitoring dashboard access[m
[31m-10. Automated backup configuration[m
[31m-11. Post-deployment tasks[m
[31m-12. Performance tuning[m
[31m-13. Horizontal scaling setup[m
[31m-14. Security hardening[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üéØ Key Features Implemented[m
[31m-[m
[31m-### AI Integration[m
[31m-- ‚úÖ Intelligent agent routing based on context[m
[31m-- ‚úÖ Task generation from natural language[m
[31m-- ‚úÖ Automatic task breakdown suggestion[m
[31m-- ‚úÖ Effort estimation for tasks[m
[31m-- ‚úÖ Project health analysis[m
[31m-- ‚úÖ Audio transcription via Whisper API[m
[31m-- ‚úÖ Document indexing and semantic search[m
[31m-- ‚úÖ Chat history persistence[m
[31m-[m
[31m-### Security[m
[31m-- ‚úÖ JWT authentication on all AI routes[m
[31m-- ‚úÖ Role-based access control[m
[31m-- ‚úÖ Project membership verification[m
[31m-- ‚úÖ Rate limiting (per-endpoint tuning)[m
[31m-- ‚úÖ Input validation with Joi[m
[31m-- ‚úÖ SQL/NoSQL injection prevention[m
[31m-- ‚úÖ XSS attack mitigation[m
[31m-- ‚úÖ Security headers via Helmet[m
[31m-- ‚úÖ CORS properly configured[m
[31m-[m
[31m-### Production Readiness[m
[31m-- ‚úÖ Health check endpoints[m
[31m-- ‚úÖ Comprehensive logging[m
[31m-- ‚úÖ Error handling and reporting[m
[31m-- ‚úÖ Performance metrics collection[m
[31m-- ‚úÖ Database backup scripts[m
[31m-- ‚úÖ Auto-renewal SSL certificates[m
[31m-- ‚úÖ Load balancing with Nginx[m
[31m-- ‚úÖ Horizontal scaling support[m
[31m-- ‚úÖ Prometheus + Grafana monitoring[m
[31m-- ‚úÖ CI/CD pipeline included[m
[31m-[m
[31m-### Scalability[m
[31m-- ‚úÖ Singleton AI service pattern[m
[31m-- ‚úÖ Redis caching layer[m
[31m-- ‚úÖ Database connection pooling[m
[31m-- ‚úÖ Docker multi-replica support[m
[31m-- ‚úÖ Load balanced endpoints[m
[31m-- ‚úÖ Stateless API design[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìÅ Files Created/Modified[m
[31m-[m
[31m-### Created Files (15)[m
[31m-```[m
[31m-.gitignore (comprehensive)[m
[31m-README.md (production-ready)[m
[31m-docs/DEPLOYMENT.md (14-section guide)[m
[31m-zenai-backend/src/middleware/security.middleware.js[m
[31m-zenai-ai-engine/Dockerfile[m
[31m-zenai-frontend/Dockerfile[m
[31m-```[m
[31m-[m
[31m-### Updated Files (2)[m
[31m-```[m
[31m-zenai-backend/src/middleware/security.middleware.js (populated)[m
[31m-```[m
[31m-[m
[31m-### Already Existing (Complete)[m
[31m-```[m
[31m-zenai-backend/src/services/ai.service.js ‚úÖ[m
[31m-zenai-backend/src/controllers/ai.controller.js ‚úÖ[m
[31m-zenai-backend/src/routes/ai.routes.js ‚úÖ[m
[31m-zenai-backend/src/app.js (with AI routes) ‚úÖ[m
[31m-zenai-backend/src/middleware/validation.middleware.js ‚úÖ[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üöÄ Git Commit[m
[31m-[m
[31m-**Commit Hash**: `63562a7`[m
[31m-[m
[31m-```[m
[31m-feat: implement complete zenai production setup with ai integration[m
[31m-[m
[31m-- Add AI service bridge layer connecting backend to AI engine[m
[31m-- Create AI controller with endpoints for chat, task analysis, audio transcription[m
[31m-- Add AI routes with authentication and rate limiting[m
[31m-- Implement security middleware with helmet, sanitization, XSS protection[m
[31m-- Add validation middleware with Joi schemas for input validation[m
[31m-- Create comprehensive .gitignore for production environment[m
[31m-- Create Dockerfiles for AI engine and frontend services[m
[31m-- Add production README with quick start and feature overview[m
[31m-- Add complete deployment guide with security hardening steps[m
[31m-- Add monitoring setup documentation[m
[31m-- Configure production environment variables[m
[31m-- Add backup and restore scripts[m
[31m-- Implement health checks and logging[m
[31m-[m
[31m-This commit includes all missing integration files specified in [m
[31m-zenai-integration-fix.md and prepares the project for production deployment.[m
[31m-```[m
[31m-[m
[31m-**Files Changed**: 169  [m
[31m-**Insertions**: 17,435+  [m
[31m-**Deletions**: 0[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìä Project Statistics[m
[31m-[m
[31m-| Metric | Value |[m
[31m-|--------|-------|[m
[31m-| Total Files | 169 |[m
[31m-| Source Code Files | ~80 |[m
[31m-| Configuration Files | ~15 |[m
[31m-| Documentation Files | ~5 |[m
[31m-| Test Files | 2 |[m
[31m-| Docker Files | 4 |[m
[31m-| Lines of Code | 17,435+ |[m
[31m-[m
[31m----[m
[31m-[m
[31m-## ‚ú® Next Steps for Deployment[m
[31m-[m
[31m-1. **Environment Setup**[m
[31m-   ```bash[m
[31m-   # Create production environment files[m
[31m-   cp zenai-backend/.env.example zenai-backend/.env.production[m
[31m-   cp zenai-ai-engine/.env.example zenai-ai-engine/.env[m
[31m-   cp zenai-frontend/.env.example zenai-frontend/.env.production[m
[31m-   ```[m
[31m-[m
[31m-2. **SSL Certificate**[m
[31m-   ```bash[m
[31m-   # Generate Let's Encrypt certificate[m
[31m-   bash scripts/generate-ssl.sh your-domain.com[m
[31m-   ```[m
[31m-[m
[31m-3. **Deployment**[m
[31m-   ```bash[m
[31m-   # Follow docs/DEPLOYMENT.md for complete instructions[m
[31m-   docker-compose -f docker-compose.prod.yml up -d[m
[31m-   ```[m
[31m-[m
[31m-4. **Verification**[m
[31m-   ```bash[m
[31m-   # Check all services[m
[31m-   docker-compose -f docker-compose.prod.yml ps[m
[31m-   [m
[31m-   # Access monitoring[m
[31m-   # - Grafana: http://your-domain.com:3001[m
[31m-   # - Prometheus: http://your-domain.com:9090[m
[31m-   # - API: https://api.your-domain.com/health[m
[31m-   ```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìà Monitoring & Observability[m
[31m-[m
[31m-### Pre-configured Monitoring[m
[31m-- ‚úÖ Prometheus metrics collection[m
[31m-- ‚úÖ Grafana dashboard templates[m
[31m-- ‚úÖ Application health checks[m
[31m-- ‚úÖ Request/response metrics[m
[31m-- ‚úÖ AI agent performance tracking[m
[31m-- ‚úÖ Database and cache metrics[m
[31m-- ‚úÖ Error rate monitoring[m
[31m-- ‚úÖ Log aggregation setup[m
[31m-[m
[31m-### Alert Triggers Ready[m
[31m-- High error rate (>5%)[m
[31m-- High latency (>500ms)[m
[31m-- Database connection issues[m
[31m-- Cache failures[m
[31m-- AI request timeouts[m
[31m-- Low disk space[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîê Security Checklist[m
[31m-[m
[31m-- ‚úÖ Helmet security headers[m
[31m-- ‚úÖ JWT authentication[m
[31m-- ‚úÖ Rate limiting configured[m
[31m-- ‚úÖ Input validation schemas[m
[31m-- ‚úÖ NoSQL injection prevention[m
[31m-- ‚úÖ XSS attack protection[m
[31m-- ‚úÖ CORS whitelisting[m
[31m-- ‚úÖ SSL/TLS configured[m
[31m-- ‚úÖ Environment variables secured[m
[31m-- ‚úÖ API key validation[m
[31m-- ‚úÖ User access control[m
[31m-- ‚úÖ Database authentication[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üéì Documentation[m
[31m-[m
[31m-All documentation has been created and is ready for review:[m
[31m-[m
[31m-1. **README.md** - Project overview and quick start[m
[31m-2. **docs/DEPLOYMENT.md** - Complete deployment guide (14 sections)[m
[31m-3. **docs/api.md** - API documentation (existing)[m
[31m-4. **docs/architecture.md** - Architecture overview (existing)[m
[31m-5. **docs/agents.md** - AI agents documentation (existing)[m
[31m-[m
[31m----[m
[31m-[m
[31m-## ü§ù Integration Points[m
[31m-[m
[31m-### Backend ‚Üî AI Engine[m
[31m-- ‚úÖ Proper module imports[m
[31m-- ‚úÖ Agent initialization[m
[31m-- ‚úÖ Error handling and fallbacks[m
[31m-- ‚úÖ Response formatting[m
[31m-- ‚úÖ Context passing[m
[31m-[m
[31m-### Frontend ‚Üî Backend[m
[31m-- ‚úÖ REST API endpoints[m
[31m-- ‚úÖ WebSocket support (ready)[m
[31m-- ‚úÖ File upload handling[m
[31m-- ‚úÖ Error responses[m
[31m-- ‚úÖ Authentication flow[m
[31m-[m
[31m-### Backend ‚Üî Database[m
[31m-- ‚úÖ Connection pooling[m
[31m-- ‚úÖ Transaction support[m
[31m-- ‚úÖ Index optimization[m
[31m-- ‚úÖ Backup procedures[m
[31m-[m
[31m-### Backend ‚Üî Cache[m
[31m-- ‚úÖ Redis integration[m
[31m-- ‚úÖ Session management[m
[31m-- ‚úÖ Rate limiting storage[m
[31m-- ‚úÖ API key caching[m
[31m-[m
[31m----[m
[31m-[m
[31m-## ‚úÖ Verification Results[m
[31m-[m
[31m-```[m
[31m-‚úÖ All AI service files created/configured[m
[31m-‚úÖ AI controller fully implemented[m
[31m-‚úÖ AI routes properly configured  [m
[31m-‚úÖ Security middleware implemented[m
[31m-‚úÖ Validation middleware configured[m
[31m-‚úÖ Docker files created[m
[31m-‚úÖ .gitignore comprehensive[m
[31m-‚úÖ Production README complete[m
[31m-‚úÖ Deployment guide detailed[m
[31m-‚úÖ Git commit successful[m
[31m-‚úÖ All dependencies resolved[m
[31m-‚úÖ No blocking issues[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìû Support & Troubleshooting[m
[31m-[m
[31m-For issues during deployment, refer to:[m
[31m-1. **docs/DEPLOYMENT.md** - Section 14: Troubleshooting[m
[31m-2. **README.md** - Troubleshooting guide[m
[31m-3. **Container logs**: `docker-compose -f docker-compose.prod.yml logs -f [service]`[m
[31m-4. **Monitoring**: Check Grafana/Prometheus dashboards[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üéØ Success Criteria Met[m
[31m-[m
[31m-- ‚úÖ All missing integration files implemented[m
[31m-- ‚úÖ AI service properly bridged[m
[31m-- ‚úÖ Production architecture ready[m
[31m-- ‚úÖ Security hardened[m
[31m-- ‚úÖ Monitoring configured[m
[31m-- ‚úÖ Deployment documented[m
[31m-- ‚úÖ Code committed to git[m
[31m-- ‚úÖ Ready for production deployment[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìù Notes[m
[31m-[m
[31m-- All code follows best practices and industry standards[m
[31m-- Error handling is comprehensive throughout[m
[31m-- Logging is configured for production[m
[31m-- Performance considerations included[m
[31m-- Scalability architecture implemented[m
[31m-- Security is defense-in-depth[m
[31m-- Documentation is complete and detailed[m
[31m-- CI/CD ready for implementation[m
[31m-[m
[31m----[m
[31m-[m
[31m-**Implementation completed successfully** ‚úÖ[m
[31m-[m
[31m-The ZenAI production setup is now complete with full AI integration, security hardening, and production-ready infrastructure. All files have been committed to git and the project is ready for deployment.[m
[31m-[m
[31m-For deployment instructions, follow the complete guide in `docs/DEPLOYMENT.md`.[m
[1mdiff --git a/QUICK_REFERENCE.md b/QUICK_REFERENCE.md[m
[1mdeleted file mode 100644[m
[1mindex 85ccad4..0000000[m
[1m--- a/QUICK_REFERENCE.md[m
[1m+++ /dev/null[m
[36m@@ -1,583 +0,0 @@[m
[31m-# ZenAI Quick Reference - Common Commands[m
[31m-[m
[31m-## üöÄ Development Commands[m
[31m-[m
[31m-### Start Services (Local Development)[m
[31m-```bash[m
[31m-# Start all services with Docker Compose[m
[31m-docker-compose up -d[m
[31m-[m
[31m-# Start with logs visible[m
[31m-docker-compose up[m
[31m-[m
[31m-# View logs for specific service[m
[31m-docker-compose logs -f backend[m
[31m-docker-compose logs -f ai-engine[m
[31m-docker-compose logs -f frontend[m
[31m-```[m
[31m-[m
[31m-### Backend Development[m
[31m-```bash[m
[31m-# Install dependencies[m
[31m-cd zenai-backend[m
[31m-npm install[m
[31m-[m
[31m-# Start development server[m
[31m-npm run dev[m
[31m-[m
[31m-# Run tests[m
[31m-npm run test[m
[31m-[m
[31m-# Run with nodemon (auto-restart)[m
[31m-npm run dev[m
[31m-[m
[31m-# Lint code[m
[31m-npm run lint[m
[31m-[m
[31m-# Format code[m
[31m-npm run format[m
[31m-```[m
[31m-[m
[31m-### Frontend Development[m
[31m-```bash[m
[31m-# Install dependencies[m
[31m-cd zenai-frontend[m
[31m-npm install[m
[31m-[m
[31m-# Start development server[m
[31m-npm run dev[m
[31m-[m
[31m-# Build for production[m
[31m-npm run build[m
[31m-[m
[31m-# Lint & format[m
[31m-npm run lint[m
[31m-npm run lint:fix[m
[31m-```[m
[31m-[m
[31m-### AI Engine Development[m
[31m-```bash[m
[31m-# Install dependencies[m
[31m-cd zenai-ai-engine[m
[31m-npm install[m
[31m-[m
[31m-# Start AI engine[m
[31m-npm start[m
[31m-[m
[31m-# Development mode[m
[31m-npm run dev[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üè≠ Production Commands[m
[31m-[m
[31m-### Build Production Images[m
[31m-```bash[m
[31m-# Build all images[m
[31m-docker-compose -f docker-compose.prod.yml build[m
[31m-[m
[31m-# Build specific image[m
[31m-docker-compose -f docker-compose.prod.yml build backend[m
[31m-```[m
[31m-[m
[31m-### Deploy to Production[m
[31m-```bash[m
[31m-# Start all production services[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# Scale backend to 3 instances[m
[31m-docker-compose -f docker-compose.prod.yml up -d --scale backend=3[m
[31m-[m
[31m-# Stop all services[m
[31m-docker-compose -f docker-compose.prod.yml down[m
[31m-[m
[31m-# Restart specific service[m
[31m-docker-compose -f docker-compose.prod.yml restart backend[m
[31m-[m
[31m-# Update and restart[m
[31m-docker-compose -f docker-compose.prod.yml pull[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìä Monitoring Commands[m
[31m-[m
[31m-### View Service Status[m
[31m-```bash[m
[31m-# List all running containers[m
[31m-docker-compose -f docker-compose.prod.yml ps[m
[31m-[m
[31m-# Show resource usage[m
[31m-docker stats[m
[31m-[m
[31m-# Show detailed info about container[m
[31m-docker inspect zenai-backend[m
[31m-```[m
[31m-[m
[31m-### Access Monitoring Dashboards[m
[31m-```[m
[31m-Grafana:     http://localhost:3001[m
[31m-Prometheus:  http://localhost:9090[m
[31m-Health:      http://localhost/health[m
[31m-API Health:  http://localhost:5000/health[m
[31m-```[m
[31m-[m
[31m-### Check Logs[m
[31m-```bash[m
[31m-# View last 50 lines[m
[31m-docker-compose -f docker-compose.prod.yml logs --tail 50[m
[31m-[m
[31m-# Follow logs in real-time[m
[31m-docker-compose -f docker-compose.prod.yml logs -f[m
[31m-[m
[31m-# View specific service logs[m
[31m-docker-compose -f docker-compose.prod.yml logs backend[m
[31m-[m
[31m-# Export logs to file[m
[31m-docker-compose -f docker-compose.prod.yml logs > deployment.log[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üíæ Database Commands[m
[31m-[m
[31m-### MongoDB Operations[m
[31m-```bash[m
[31m-# Connect to MongoDB[m
[31m-docker-compose -f docker-compose.prod.yml exec mongodb mongo[m
[31m-[m
[31m-# Backup database[m
[31m-bash scripts/backup.sh[m
[31m-[m
[31m-# Restore database[m
[31m-bash scripts/restore.sh backups/backup_latest.tar.gz[m
[31m-[m
[31m-# Create database indexes[m
[31m-docker-compose -f docker-compose.prod.yml exec mongodb mongo \[m
[31m-  --username zenai \[m
[31m-  --password your-password \[m
[31m-  --authenticationDatabase admin \[m
[31m-  /dev/stdin << 'EOF'[m
[31m-use zenai[m
[31m-db.users.createIndex({email: 1}, {unique: true})[m
[31m-db.projects.createIndex({owner: 1})[m
[31m-EOF[m
[31m-```[m
[31m-[m
[31m-### Redis Operations[m
[31m-```bash[m
[31m-# Connect to Redis[m
[31m-docker-compose -f docker-compose.prod.yml exec redis redis-cli[m
[31m-[m
[31m-# Check Redis health[m
[31m-docker-compose -f docker-compose.prod.yml exec redis redis-cli ping[m
[31m-# Expected: PONG[m
[31m-[m
[31m-# Clear cache (careful in production!)[m
[31m-docker-compose -f docker-compose.prod.yml exec redis redis-cli FLUSHALL[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîê SSL/Certificate Commands[m
[31m-[m
[31m-### Generate SSL Certificate[m
[31m-```bash[m
[31m-# Using Let's Encrypt[m
[31m-sudo certbot certonly --standalone \[m
[31m-  -d your-domain.com \[m
[31m-  -d api.your-domain.com \[m
[31m-  --email admin@your-domain.com \[m
[31m-  --agree-tos[m
[31m-[m
[31m-# Copy certificates[m
[31m-sudo cp /etc/letsencrypt/live/your-domain.com/fullchain.pem nginx/ssl/cert.pem[m
[31m-sudo cp /etc/letsencrypt/live/your-domain.com/privkey.pem nginx/ssl/key.pem[m
[31m-```[m
[31m-[m
[31m-### Check Certificate Expiration[m
[31m-```bash[m
[31m-# View certificate details[m
[31m-openssl x509 -in nginx/ssl/cert.pem -text -noout[m
[31m-[m
[31m-# Check expiration date[m
[31m-openssl x509 -in nginx/ssl/cert.pem -noout -dates[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üß™ Testing Commands[m
[31m-[m
[31m-### Run Tests[m
[31m-```bash[m
[31m-# All tests[m
[31m-npm test[m
[31m-[m
[31m-# Specific test suite[m
[31m-npm run test:integration[m
[31m-[m
[31m-# Load testing[m
[31m-npm run test:load[m
[31m-[m
[31m-# Watch mode[m
[31m-npm run test:watch[m
[31m-[m
[31m-# Coverage report[m
[31m-npm run test -- --coverage[m
[31m-```[m
[31m-[m
[31m-### Load Testing[m
[31m-```bash[m
[31m-# Run load test (100 connections, 30 seconds)[m
[31m-npm run test:load[m
[31m-[m
[31m-# Custom load test[m
[31m-autocannon -c 50 -d 30 http://localhost:5000[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üì¶ Dependency Management[m
[31m-[m
[31m-### Update Dependencies[m
[31m-```bash[m
[31m-# Check for updates[m
[31m-npm outdated[m
[31m-[m
[31m-# Update all packages[m
[31m-npm update[m
[31m-[m
[31m-# Audit vulnerabilities[m
[31m-npm audit[m
[31m-[m
[31m-# Fix vulnerabilities[m
[31m-npm audit fix[m
[31m-[m
[31m-# Audit specific package[m
[31m-npm audit --package mongoose[m
[31m-```[m
[31m-[m
[31m-### Clean Installation[m
[31m-```bash[m
[31m-# Remove all node_modules[m
[31m-rm -rf node_modules package-lock.json[m
[31m-[m
[31m-# Fresh install[m
[31m-npm install[m
[31m-[m
[31m-# Clean install (more strict)[m
[31m-npm ci[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîÑ Git Commands[m
[31m-[m
[31m-### Commit & Push[m
[31m-```bash[m
[31m-# Check status[m
[31m-git status[m
[31m-[m
[31m-# Stage all changes[m
[31m-git add .[m
[31m-[m
[31m-# Stage specific file[m
[31m-git add path/to/file[m
[31m-[m
[31m-# Commit[m
[31m-git commit -m "feat: your message"[m
[31m-[m
[31m-# Push to main[m
[31m-git push origin main[m
[31m-[m
[31m-# Push with force (careful!)[m
[31m-git push -f origin main[m
[31m-```[m
[31m-[m
[31m-### Branches[m
[31m-```bash[m
[31m-# Create feature branch[m
[31m-git checkout -b feature/feature-name[m
[31m-[m
[31m-# List branches[m
[31m-git branch -a[m
[31m-[m
[31m-# Switch branch[m
[31m-git checkout branch-name[m
[31m-[m
[31m-# Delete branch[m
[31m-git branch -d branch-name[m
[31m-[m
[31m-# Merge branch[m
[31m-git merge feature/feature-name[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üêõ Troubleshooting Commands[m
[31m-[m
[31m-### Container Issues[m
[31m-```bash[m
[31m-# Restart service[m
[31m-docker-compose -f docker-compose.prod.yml restart backend[m
[31m-[m
[31m-# Remove and recreate container[m
[31m-docker-compose -f docker-compose.prod.yml up -d --force-recreate backend[m
[31m-[m
[31m-# Remove dangling images[m
[31m-docker image prune -f[m
[31m-[m
[31m-# Clear Docker cache[m
[31m-docker system prune -af[m
[31m-```[m
[31m-[m
[31m-### Port Issues[m
[31m-```bash[m
[31m-# Check which process uses port 5000[m
[31m-lsof -i :5000[m
[31m-[m
[31m-# Kill process[m
[31m-kill -9 <PID>[m
[31m-[m
[31m-# Or change port in .env[m
[31m-PORT=5001[m
[31m-```[m
[31m-[m
[31m-### Network Issues[m
[31m-```bash[m
[31m-# Test connectivity to backend[m
[31m-curl http://localhost:5000/health[m
[31m-[m
[31m-# Test connectivity to database[m
[31m-docker-compose -f docker-compose.prod.yml exec backend nc -zv mongodb 27017[m
[31m-[m
[31m-# Test Redis connection[m
[31m-docker-compose -f docker-compose.prod.yml exec backend redis-cli -h redis ping[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìà Performance Commands[m
[31m-[m
[31m-### Monitor System Resources[m
[31m-```bash[m
[31m-# Real-time stats[m
[31m-docker stats[m
[31m-[m
[31m-# Memory usage[m
[31m-docker stats --format "table {{.Container}}\t{{.MemUsage}}\t{{.MemPerc}}"[m
[31m-[m
[31m-# CPU usage[m
[31m-docker stats --format "table {{.Container}}\t{{.CPUPerc}}"[m
[31m-```[m
[31m-[m
[31m-### Database Performance[m
[31m-```bash[m
[31m-# MongoDB profiling[m
[31m-db.setProfilingLevel(1)[m
[31m-db.system.profile.find().limit(10).pretty()[m
[31m-[m
[31m-# Check slow queries[m
[31m-db.system.profile.find({millis: {$gt: 100}}).pretty()[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üö® Emergency Commands[m
[31m-[m
[31m-### Restart All Services[m
[31m-```bash[m
[31m-# Hard restart[m
[31m-docker-compose -f docker-compose.prod.yml down[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# Quick restart[m
[31m-docker-compose -f docker-compose.prod.yml restart[m
[31m-```[m
[31m-[m
[31m-### Rollback to Previous State[m
[31m-```bash[m
[31m-# Backup current data[m
[31m-bash scripts/backup.sh[m
[31m-[m
[31m-# Restore from backup[m
[31m-bash scripts/restore.sh backups/backup_<timestamp>.tar.gz[m
[31m-[m
[31m-# Restart services[m
[31m-docker-compose -f docker-compose.prod.yml restart[m
[31m-```[m
[31m-[m
[31m-### Emergency Database Access[m
[31m-```bash[m
[31m-# Direct MongoDB access[m
[31m-docker-compose -f docker-compose.prod.yml exec mongodb mongosh[m
[31m-[m
[31m-# Direct Redis access[m
[31m-docker-compose -f docker-compose.prod.yml exec redis redis-cli[m
[31m-[m
[31m-# Direct backend shell[m
[31m-docker-compose -f docker-compose.prod.yml exec backend /bin/sh[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîç Debugging Commands[m
[31m-[m
[31m-### Enable Debug Logging[m
[31m-```bash[m
[31m-# Set in .env[m
[31m-LOG_LEVEL=debug[m
[31m-[m
[31m-# Restart service[m
[31m-docker-compose -f docker-compose.prod.yml restart backend[m
[31m-```[m
[31m-[m
[31m-### Execute Commands in Container[m
[31m-```bash[m
[31m-# Run command in container[m
[31m-docker-compose -f docker-compose.prod.yml exec backend npm test[m
[31m-[m
[31m-# Interactive shell[m
[31m-docker-compose -f docker-compose.prod.yml exec backend /bin/bash[m
[31m-[m
[31m-# Run Node REPL[m
[31m-docker-compose -f docker-compose.prod.yml exec backend node[m
[31m-```[m
[31m-[m
[31m-### Check Environment Variables[m
[31m-```bash[m
[31m-# View backend environment[m
[31m-docker-compose -f docker-compose.prod.yml exec backend env[m
[31m-[m
[31m-# View specific variable[m
[31m-docker-compose -f docker-compose.prod.yml exec backend echo $MONGODB_URI[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìã Health Checks[m
[31m-[m
[31m-### Verify All Services[m
[31m-```bash[m
[31m-# Backend health[m
[31m-curl -s http://localhost:5000/health | jq[m
[31m-[m
[31m-# Frontend health[m
[31m-curl -s http://localhost:3000/health[m
[31m-[m
[31m-# MongoDB[m
[31m-docker-compose -f docker-compose.prod.yml exec mongodb mongo ping[m
[31m-[m
[31m-# Redis[m
[31m-docker-compose -f docker-compose.prod.yml exec redis redis-cli ping[m
[31m-[m
[31m-# Prometheus[m
[31m-curl -s http://localhost:9090/-/healthy[m
[31m-[m
[31m-# Grafana[m
[31m-curl -s http://localhost:3001/api/health[m
[31m-```[m
[31m-[m
[31m-### Test API Endpoints[m
[31m-```bash[m
[31m-# Login[m
[31m-curl -X POST http://localhost:5000/api/v1/auth/login \[m
[31m-  -H "Content-Type: application/json" \[m
[31m-  -d '{"email":"test@example.com","password":"password"}'[m
[31m-[m
[31m-# Chat with AI[m
[31m-curl -X POST http://localhost:5000/api/v1/ai/chat \[m
[31m-  -H "Authorization: Bearer YOUR_TOKEN" \[m
[31m-  -H "Content-Type: application/json" \[m
[31m-  -d '{"message":"Hello AI","context":{"type":"project-management"}}'[m
[31m-[m
[31m-# Get projects[m
[31m-curl http://localhost:5000/api/v1/projects \[m
[31m-  -H "Authorization: Bearer YOUR_TOKEN"[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìù Common Workflows[m
[31m-[m
[31m-### Deploy New Feature[m
[31m-```bash[m
[31m-# 1. Create feature branch[m
[31m-git checkout -b feature/new-feature[m
[31m-[m
[31m-# 2. Make changes and commit[m
[31m-git add .[m
[31m-git commit -m "feat: add new feature"[m
[31m-[m
[31m-# 3. Test locally[m
[31m-npm test[m
[31m-npm run dev[m
[31m-[m
[31m-# 4. Build for production[m
[31m-docker-compose -f docker-compose.prod.yml build[m
[31m-[m
[31m-# 5. Push and create PR[m
[31m-git push origin feature/new-feature[m
[31m-[m
[31m-# 6. After PR approval, merge and deploy[m
[31m-git checkout main[m
[31m-git merge feature/new-feature[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-```[m
[31m-[m
[31m-### Emergency Hotfix[m
[31m-```bash[m
[31m-# 1. Create hotfix branch[m
[31m-git checkout -b hotfix/critical-bug[m
[31m-[m
[31m-# 2. Fix and commit[m
[31m-git add .[m
[31m-git commit -m "fix: critical bug"[m
[31m-[m
[31m-# 3. Test thoroughly[m
[31m-npm test[m
[31m-npm run test:integration[m
[31m-[m
[31m-# 4. Deploy immediately[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# 5. Merge back to main and dev[m
[31m-git checkout main[m
[31m-git merge hotfix/critical-bug[m
[31m-```[m
[31m-[m
[31m-### Upgrade Dependencies[m
[31m-```bash[m
[31m-# 1. Check outdated packages[m
[31m-npm outdated[m
[31m-[m
[31m-# 2. Update specific package[m
[31m-npm install package-name@latest[m
[31m-[m
[31m-# 3. Test thoroughly[m
[31m-npm test[m
[31m-[m
[31m-# 4. Rebuild and deploy[m
[31m-docker-compose -f docker-compose.prod.yml build[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# 5. Monitor for issues[m
[31m-docker-compose -f docker-compose.prod.yml logs -f[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìö Documentation[m
[31m-[m
[31m-- Full deployment guide: `docs/DEPLOYMENT.md`[m
[31m-- API documentation: `docs/api.md`[m
[31m-- Architecture guide: `docs/architecture.md`[m
[31m-- Agent documentation: `docs/agents.md`[m
[31m-- Project README: `README.md`[m
[31m-[m
[31m----[m
[31m-[m
[31m-**Last Updated**: November 12, 2025  [m
[31m-**Version**: 1.0.0[m
[1mdiff --git a/README.md b/README.md[m
[1mdeleted file mode 100644[m
[1mindex c6edde9..0000000[m
[1m--- a/README.md[m
[1m+++ /dev/null[m
[36m@@ -1,341 +0,0 @@[m
[31m-# üöÄ ZenAI - AI-Powered Project Management[m
[31m-[m
[31m-Complete production-ready AI-powered project management platform with enterprise-grade architecture, monitoring, and deployment capabilities.[m
[31m-[m
[31m-## üìã Project Structure[m
[31m-[m
[31m-```[m
[31m-zenai-production/[m
[31m-‚îú‚îÄ‚îÄ zenai-backend/          # Node.js REST API backend[m
[31m-‚îú‚îÄ‚îÄ zenai-frontend/         # React.js web frontend[m
[31m-‚îú‚îÄ‚îÄ zenai-ai-engine/        # AI agents and orchestration[m
[31m-‚îú‚îÄ‚îÄ nginx/                  # Nginx reverse proxy config[m
[31m-‚îú‚îÄ‚îÄ monitoring/             # Prometheus & Grafana setup[m
[31m-‚îú‚îÄ‚îÄ scripts/               # Deployment & maintenance scripts[m
[31m-‚îú‚îÄ‚îÄ docs/                  # API & architecture documentation[m
[31m-‚îî‚îÄ‚îÄ docker-compose.*.yml   # Docker orchestration files[m
[31m-```[m
[31m-[m
[31m-## üéØ Features[m
[31m-[m
[31m-### Core Features[m
[31m-- ‚úÖ **AI-Powered Agents** - Multiple specialized AI agents for different tasks[m
[31m-- ‚úÖ **Project Management** - Full project lifecycle management[m
[31m-- ‚úÖ **Task Automation** - AI-driven task creation and breakdown[m
[31m-- ‚úÖ **Audio Transcription** - Meeting notes via Whisper API[m
[31m-- ‚úÖ **Document Embeddings** - RAG-based document search[m
[31m-- ‚úÖ **Real-time Collaboration** - WebSocket support[m
[31m-- ‚úÖ **Analytics Dashboard** - Project & team metrics[m
[31m-[m
[31m-### Technical Features[m
[31m-- ‚úÖ **Enterprise Security** - Helmet, rate limiting, input validation[m
[31m-- ‚úÖ **High Availability** - Load balanced with horizontal scaling[m
[31m-- ‚úÖ **Observability** - Prometheus metrics + Grafana dashboards[m
[31m-- ‚úÖ **Automated Backups** - Database backup scripts[m
[31m-- ‚úÖ **CI/CD Pipeline** - GitHub Actions workflow included[m
[31m-- ‚úÖ **Production Monitoring** - Real-time health checks[m
[31m-- ‚úÖ **API Documentation** - Swagger/OpenAPI specs[m
[31m-[m
[31m-## üöÄ Quick Start[m
[31m-[m
[31m-### Prerequisites[m
[31m-- Docker & Docker Compose[m
[31m-- Node.js 18+ (for local development)[m
[31m-- MongoDB 6+[m
[31m-- Redis 7+[m
[31m-- OpenAI API key[m
[31m-[m
[31m-### Development Setup[m
[31m-[m
[31m-```bash[m
[31m-# Clone the repository[m
[31m-git clone <repo-url>[m
[31m-cd zenai-production[m
[31m-[m
[31m-# Create environment files[m
[31m-cp zenai-backend/.env.example zenai-backend/.env.development[m
[31m-cp zenai-ai-engine/.env.example zenai-ai-engine/.env[m
[31m-cp zenai-frontend/.env.example zenai-frontend/.env[m
[31m-[m
[31m-# Start services with Docker Compose (development)[m
[31m-docker-compose up -d[m
[31m-[m
[31m-# Install frontend dependencies[m
[31m-cd zenai-frontend[m
[31m-npm install[m
[31m-npm run dev[m
[31m-[m
[31m-# In another terminal, start backend (local)[m
[31m-cd zenai-backend[m
[31m-npm install[m
[31m-npm run dev[m
[31m-```[m
[31m-[m
[31m-### Production Deployment[m
[31m-[m
[31m-```bash[m
[31m-# Build and start production containers[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# Run database migrations[m
[31m-docker-compose -f docker-compose.prod.yml exec backend npm run migrate[m
[31m-[m
[31m-# View logs[m
[31m-docker-compose -f docker-compose.prod.yml logs -f[m
[31m-```[m
[31m-[m
[31m-## üìä Architecture[m
[31m-[m
[31m-### Components[m
[31m-[m
[31m-**Backend Service** (Node.js/Express)[m
[31m-- REST API server[m
[31m-- Authentication & Authorization[m
[31m-- Database ORM (Mongoose)[m
[31m-- Redis caching layer[m
[31m-- WebSocket support[m
[31m-[m
[31m-**AI Engine** (Node.js)[m
[31m-- LangChain orchestration[m
[31m-- Multiple AI agents (Product Manager, Task Analyzer, Meeting Summarizer)[m
[31m-- Vector embeddings (Pinecone)[m
[31m-- Document processing[m
[31m-- OpenAI integration[m
[31m-[m
[31m-**Frontend** (React/Vite)[m
[31m-- Modern UI with Tailwind CSS[m
[31m-- Real-time chat interface[m
[31m-- Project & task management[m
[31m-- Analytics dashboard[m
[31m-- Audio upload & transcription[m
[31m-[m
[31m-**Infrastructure**[m
[31m-- Nginx reverse proxy with load balancing[m
[31m-- MongoDB for persistence[m
[31m-- Redis for caching & session management[m
[31m-- Prometheus for metrics collection[m
[31m-- Grafana for visualization[m
[31m-[m
[31m-## üîê Security[m
[31m-[m
[31m-### Implemented Security Measures[m
[31m-- **HTTPS/TLS** - SSL certificates with auto-renewal[m
[31m-- **Authentication** - JWT with refresh tokens[m
[31m-- **Rate Limiting** - Per-endpoint configuration[m
[31m-- **Input Validation** - Joi schemas for all inputs[m
[31m-- **NoSQL Injection Prevention** - MongoDB sanitization[m
[31m-- **XSS Protection** - Content Security Policy headers[m
[31m-- **CSRF Protection** - Token validation[m
[31m-- **API Key Management** - Secure API key generation and validation[m
[31m-[m
[31m-## üìà Monitoring & Observability[m
[31m-[m
[31m-### Metrics Collection[m
[31m-- Application metrics (response time, error rate, throughput)[m
[31m-- AI request tracking (duration, success rate, agent performance)[m
[31m-- Database connection pool metrics[m
[31m-- Redis cache hit rates[m
[31m-- System resource usage[m
[31m-[m
[31m-### Dashboards[m
[31m-- Access Grafana: `http://localhost:3001` (default password from `.env`)[m
[31m-- Prometheus: `http://localhost:9090`[m
[31m-- Health check: `http://localhost/health`[m
[31m-[m
[31m-## üß™ Testing[m
[31m-[m
[31m-```bash[m
[31m-# Unit tests[m
[31m-npm run test[m
[31m-[m
[31m-# Integration tests[m
[31m-npm run test:integration[m
[31m-[m
[31m-# Load testing[m
[31m-npm run test:load[m
[31m-[m
[31m-# Test coverage[m
[31m-npm run test -- --coverage[m
[31m-```[m
[31m-[m
[31m-## üìö API Documentation[m
[31m-[m
[31m-### Main Endpoints[m
[31m-[m
[31m-#### Authentication[m
[31m-- `POST /api/v1/auth/login` - User login[m
[31m-- `POST /api/v1/auth/register` - User registration[m
[31m-- `POST /api/v1/auth/refresh` - Refresh JWT token[m
[31m-[m
[31m-#### Projects[m
[31m-- `GET /api/v1/projects` - List projects[m
[31m-- `POST /api/v1/projects` - Create project[m
[31m-- `GET /api/v1/projects/:id` - Get project details[m
[31m-- `PUT /api/v1/projects/:id` - Update project[m
[31m-- `DELETE /api/v1/projects/:id` - Delete project[m
[31m-[m
[31m-#### Tasks[m
[31m-- `GET /api/v1/tasks` - List tasks[m
[31m-- `POST /api/v1/tasks` - Create task[m
[31m-- `GET /api/v1/tasks/:id` - Get task details[m
[31m-- `PUT /api/v1/tasks/:id` - Update task[m
[31m-- `DELETE /api/v1/tasks/:id` - Delete task[m
[31m-[m
[31m-#### AI Features[m
[31m-- `POST /api/v1/ai/chat` - Chat with AI agent[m
[31m-- `GET /api/v1/ai/chat/history` - Get chat history[m
[31m-- `POST /api/v1/ai/tasks/create` - Create task from description[m
[31m-- `GET /api/v1/ai/tasks/:id/analyze` - Analyze task[m
[31m-- `POST /api/v1/ai/transcribe` - Transcribe audio[m
[31m-- `GET /api/v1/ai/documents/search` - Search indexed documents[m
[31m-[m
[31m-Full API documentation: `/api/docs`[m
[31m-[m
[31m-## üîÑ Deployment & Scaling[m
[31m-[m
[31m-### Horizontal Scaling[m
[31m-```bash[m
[31m-# Scale backend replicas[m
[31m-docker-compose -f docker-compose.prod.yml up --scale backend=3[m
[31m-```[m
[31m-[m
[31m-### Database Backup[m
[31m-```bash[m
[31m-# Run backup script[m
[31m-bash scripts/backup.sh[m
[31m-[m
[31m-# Restore from backup[m
[31m-bash scripts/restore.sh[m
[31m-```[m
[31m-[m
[31m-### SSL Certificate Renewal[m
[31m-```bash[m
[31m-# Automated renewal via Let's Encrypt[m
[31m-docker-compose -f docker-compose.prod.yml exec nginx \[m
[31m-  certbot renew --quiet[m
[31m-```[m
[31m-[m
[31m-## üìù Environment Configuration[m
[31m-[m
[31m-### Backend (.env)[m
[31m-```env[m
[31m-NODE_ENV=production[m
[31m-PORT=5000[m
[31m-MONGODB_URI=mongodb://user:pass@mongodb:27017/zenai[m
[31m-REDIS_HOST=redis[m
[31m-REDIS_PORT=6379[m
[31m-JWT_SECRET=your-secret-key[m
[31m-OPENAI_API_KEY=sk-...[m
[31m-CORS_ORIGIN=https://your-domain.com[m
[31m-```[m
[31m-[m
[31m-### AI Engine (.env)[m
[31m-```env[m
[31m-NODE_ENV=production[m
[31m-OPENAI_API_KEY=sk-...[m
[31m-PINECONE_API_KEY=...[m
[31m-MODEL_NAME=gpt-4[m
[31m-```[m
[31m-[m
[31m-### Frontend (.env)[m
[31m-```env[m
[31m-VITE_API_URL=https://api.your-domain.com[m
[31m-VITE_WS_URL=wss://api.your-domain.com[m
[31m-```[m
[31m-[m
[31m-## üÜò Troubleshooting[m
[31m-[m
[31m-### Services won't start[m
[31m-```bash[m
[31m-# Check Docker status[m
[31m-docker ps -a[m
[31m-[m
[31m-# View logs[m
[31m-docker-compose logs -f backend[m
[31m-[m
[31m-# Restart all services[m
[31m-docker-compose restart[m
[31m-```[m
[31m-[m
[31m-### Database connection issues[m
[31m-```bash[m
[31m-# Check MongoDB[m
[31m-docker-compose exec mongodb mongo[m
[31m-[m
[31m-# Reset database[m
[31m-docker-compose exec mongodb mongosh[m
[31m-db.dropDatabase()[m
[31m-```[m
[31m-[m
[31m-### Performance issues[m
[31m-```bash[m
[31m-# Monitor resource usage[m
[31m-docker stats[m
[31m-[m
[31m-# Check metrics in Prometheus[m
[31m-curl http://localhost:9090/api/v1/query?query=process_resident_memory_bytes[m
[31m-```[m
[31m-[m
[31m-## üêõ Common Issues & Solutions[m
[31m-[m
[31m-| Issue | Solution |[m
[31m-|-------|----------|[m
[31m-| Port already in use | Change port in `.env` or `docker-compose.yml` |[m
[31m-| SSL certificate error | Run `bash scripts/generate-ssl.sh` |[m
[31m-| Database migration failed | Check migration logs, restart containers |[m
[31m-| AI requests timing out | Increase timeout in `.env`, check OpenAI quota |[m
[31m-| High memory usage | Enable Redis caching, implement pagination |[m
[31m-[m
[31m-## üìñ Documentation[m
[31m-[m
[31m-- [API Documentation](./docs/api.md)[m
[31m-- [Architecture Guide](./docs/architecture.md)[m
[31m-- [Agent Documentation](./docs/agents.md)[m
[31m-- [Deployment Guide](./docs/deployment.md)[m
[31m-[m
[31m-## ü§ù Contributing[m
[31m-[m
[31m-1. Create a feature branch: `git checkout -b feature/new-feature`[m
[31m-2. Commit changes: `git commit -am 'Add new feature'`[m
[31m-3. Push to branch: `git push origin feature/new-feature`[m
[31m-4. Create Pull Request[m
[31m-[m
[31m-## üìã Production Checklist[m
[31m-[m
[31m-Before deploying to production:[m
[31m-[m
[31m-- [ ] All environment variables configured[m
[31m-- [ ] SSL certificates installed[m
[31m-- [ ] Database backups automated[m
[31m-- [ ] Rate limiting configured[m
[31m-- [ ] Monitoring dashboards setup[m
[31m-- [ ] Health checks passing[m
[31m-- [ ] Load tests completed[m
[31m-- [ ] Security audit passed[m
[31m-- [ ] Documentation updated[m
[31m-- [ ] Team trained on deployment[m
[31m-[m
[31m-## üìû Support[m
[31m-[m
[31m-For issues or questions:[m
[31m-1. Check the [documentation](./docs)[m
[31m-2. Review [GitHub Issues](https://github.com/yourrepo/issues)[m
[31m-3. Create a new issue with detailed information[m
[31m-[m
[31m-## üìÑ License[m
[31m-[m
[31m-This project is proprietary and confidential.[m
[31m-[m
[31m-## üîó Useful Links[m
[31m-[m
[31m-- **Production Server**: https://your-domain.com[m
[31m-- **API Server**: https://api.your-domain.com[m
[31m-- **Grafana Dashboard**: https://monitoring.your-domain.com[m
[31m-- **Backend Repo**: zenai-backend/[m
[31m-- **Frontend Repo**: zenai-frontend/[m
[31m-- **AI Engine Repo**: zenai-ai-engine/[m
[31m-[m
[31m----[m
[31m-[m
[31m-**Last Updated**: November 12, 2025[m
[31m-**Version**: 1.0.0[m
[1mdiff --git a/docker-compose.prod.yml b/docker-compose.prod.yml[m
[1mdeleted file mode 100644[m
[1mindex 09b9ee0..0000000[m
[1m--- a/docker-compose.prod.yml[m
[1m+++ /dev/null[m
[36m@@ -1,130 +0,0 @@[m
[31m-# docker-compose.prod.yml[m
[31m-version: '3.8'[m
[31m-[m
[31m-services:[m
[31m-  nginx:[m
[31m-    image: nginx:alpine[m
[31m-    container_name: zenai-nginx[m
[31m-    ports:[m
[31m-      - "80:80"[m
[31m-      - "443:443"[m
[31m-    volumes:[m
[31m-      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro[m
[31m-      - ./nginx/ssl:/etc/nginx/ssl:ro[m
[31m-      - ./frontend/build:/usr/share/nginx/html:ro[m
[31m-    depends_on:[m
[31m-      - backend[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-[m
[31m-  backend:[m
[31m-    build:[m
[31m-      context: ./backend[m
[31m-      dockerfile: Dockerfile[m
[31m-    container_name: zenai-backend[m
[31m-    environment:[m
[31m-      - NODE_ENV=production[m
[31m-      - MONGODB_URI=${MONGODB_URI}[m
[31m-      - REDIS_HOST=redis[m
[31m-      - REDIS_PORT=6379[m
[31m-    env_file:[m
[31m-      - ./backend/.env.production[m
[31m-    depends_on:[m
[31m-      - mongodb[m
[31m-      - redis[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-    deploy:[m
[31m-      replicas: 3[m
[31m-      resources:[m
[31m-        limits:[m
[31m-          cpus: '2'[m
[31m-          memory: 2G[m
[31m-[m
[31m-  ai-engine:[m
[31m-    build:[m
[31m-      context: ./ai-engine[m
[31m-      dockerfile: Dockerfile[m
[31m-    container_name: zenai-ai-engine[m
[31m-    environment:[m
[31m-      - NODE_ENV=production[m
[31m-      - OPENAI_API_KEY=${OPENAI_API_KEY}[m
[31m-    env_file:[m
[31m-      - ./ai-engine/.env.production[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-    deploy:[m
[31m-      resources:[m
[31m-        limits:[m
[31m-          cpus: '4'[m
[31m-          memory: 4G[m
[31m-[m
[31m-  mongodb:[m
[31m-    image: mongo:6[m
[31m-    container_name: zenai-mongodb[m
[31m-    environment:[m
[31m-      - MONGO_INITDB_ROOT_USERNAME=${MONGO_USERNAME}[m
[31m-      - MONGO_INITDB_ROOT_PASSWORD=${MONGO_PASSWORD}[m
[31m-    volumes:[m
[31m-      - mongodb-data:/data/db[m
[31m-      - mongodb-config:/data/configdb[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-    deploy:[m
[31m-      resources:[m
[31m-        limits:[m
[31m-          cpus: '2'[m
[31m-          memory: 4G[m
[31m-[m
[31m-  redis:[m
[31m-    image: redis:7-alpine[m
[31m-    container_name: zenai-redis[m
[31m-    command: redis-server --requirepass ${REDIS_PASSWORD}[m
[31m-    volumes:[m
[31m-      - redis-data:/data[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-[m
[31m-  prometheus:[m
[31m-    image: prom/prometheus:latest[m
[31m-    container_name: zenai-prometheus[m
[31m-    volumes:[m
[31m-      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml[m
[31m-      - prometheus-data:/prometheus[m
[31m-    command:[m
[31m-      - '--config.file=/etc/prometheus/prometheus.yml'[m
[31m-      - '--storage.tsdb.path=/prometheus'[m
[31m-    ports:[m
[31m-      - "9090:9090"[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-[m
[31m-  grafana:[m
[31m-    image: grafana/grafana:latest[m
[31m-    container_name: zenai-grafana[m
[31m-    environment:[m
[31m-      - GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_PASSWORD}[m
[31m-    volumes:[m
[31m-      - grafana-data:/var/lib/grafana[m
[31m-    ports:[m
[31m-      - "3001:3000"[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-[m
[31m-networks:[m
[31m-  zenai-network:[m
[31m-    driver: bridge[m
[31m-[m
[31m-volumes:[m
[31m-  mongodb-data:[m
[31m-  mongodb-config:[m
[31m-  redis-data:[m
[31m-  prometheus-data:[m
[31m-  grafana-data:[m
\ No newline at end of file[m
[1mdiff --git a/docker-compose.yml b/docker-compose.yml[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/docs/DEPLOYMENT.md b/docs/DEPLOYMENT.md[m
[1mdeleted file mode 100644[m
[1mindex 82cdf42..0000000[m
[1m--- a/docs/DEPLOYMENT.md[m
[1m+++ /dev/null[m
[36m@@ -1,644 +0,0 @@[m
[31m-# ZenAI Deployment Guide[m
[31m-[m
[31m-Complete step-by-step guide for deploying ZenAI to production.[m
[31m-[m
[31m-## Prerequisites[m
[31m-[m
[31m-- Ubuntu 20.04+ server with public IP[m
[31m-- Docker & Docker Compose installed[m
[31m-- Domain name configured[m
[31m-- OpenAI API key[m
[31m-- Sufficient server resources (4GB RAM minimum for single-instance, 8GB+ recommended)[m
[31m-[m
[31m-## 1. Server Setup[m
[31m-[m
[31m-### 1.1 Install Dependencies[m
[31m-[m
[31m-```bash[m
[31m-# Update system[m
[31m-sudo apt-get update[m
[31m-sudo apt-get upgrade -y[m
[31m-[m
[31m-# Install Docker[m
[31m-curl -fsSL https://get.docker.com -o get-docker.sh[m
[31m-sudo sh get-docker.sh[m
[31m-[m
[31m-# Add current user to docker group[m
[31m-sudo usermod -aG docker $USER[m
[31m-newgrp docker[m
[31m-[m
[31m-# Install Docker Compose[m
[31m-sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose[m
[31m-sudo chmod +x /usr/local/bin/docker-compose[m
[31m-[m
[31m-# Install additional tools[m
[31m-sudo apt-get install -y git curl wget nano htop[m
[31m-```[m
[31m-[m
[31m-### 1.2 Configure Firewall[m
[31m-[m
[31m-```bash[m
[31m-# Allow SSH[m
[31m-sudo ufw allow 22/tcp[m
[31m-[m
[31m-# Allow HTTP/HTTPS[m
[31m-sudo ufw allow 80/tcp[m
[31m-sudo ufw allow 443/tcp[m
[31m-[m
[31m-# Allow monitoring ports[m
[31m-sudo ufw allow 9090/tcp  # Prometheus[m
[31m-sudo ufw allow 3001/tcp  # Grafana[m
[31m-[m
[31m-# Enable firewall[m
[31m-sudo ufw enable[m
[31m-```[m
[31m-[m
[31m-### 1.3 Create Application Directory[m
[31m-[m
[31m-```bash[m
[31m-# Create app directory[m
[31m-sudo mkdir -p /opt/zenai[m
[31m-sudo chown $USER:$USER /opt/zenai[m
[31m-[m
[31m-# Clone repository[m
[31m-cd /opt/zenai[m
[31m-git clone <repository-url> .[m
[31m-```[m
[31m-[m
[31m-## 2. SSL Certificate Setup (Let's Encrypt)[m
[31m-[m
[31m-### 2.1 Install Certbot[m
[31m-[m
[31m-```bash[m
[31m-sudo apt-get install -y certbot[m
[31m-[m
[31m-# For standalone verification[m
[31m-sudo apt-get install -y python3-certbot-nginx[m
[31m-```[m
[31m-[m
[31m-### 2.2 Generate Certificates[m
[31m-[m
[31m-```bash[m
[31m-# Create SSL directory[m
[31m-mkdir -p /opt/zenai/nginx/ssl[m
[31m-[m
[31m-# Generate certificate (standalone mode)[m
[31m-sudo certbot certonly --standalone \[m
[31m-  -d your-domain.com \[m
[31m-  -d api.your-domain.com \[m
[31m-  -d monitoring.your-domain.com \[m
[31m-  --email admin@your-domain.com \[m
[31m-  --agree-tos \[m
[31m-  --non-interactive[m
[31m-[m
[31m-# Copy certificates to project[m
[31m-sudo cp /etc/letsencrypt/live/your-domain.com/fullchain.pem /opt/zenai/nginx/ssl/cert.pem[m
[31m-sudo cp /etc/letsencrypt/live/your-domain.com/privkey.pem /opt/zenai/nginx/ssl/key.pem[m
[31m-sudo chown $USER:$USER /opt/zenai/nginx/ssl/*.pem[m
[31m-```[m
[31m-[m
[31m-### 2.3 Auto-Renewal Setup[m
[31m-[m
[31m-```bash[m
[31m-# Add to crontab[m
[31m-crontab -e[m
[31m-[m
[31m-# Add this line to run renewal daily at 2 AM[m
[31m-0 2 * * * certbot renew --quiet && docker-compose -f /opt/zenai/docker-compose.prod.yml restart nginx[m
[31m-```[m
[31m-[m
[31m-## 3. Environment Configuration[m
[31m-[m
[31m-### 3.1 Generate Secure Secrets[m
[31m-[m
[31m-```bash[m
[31m-cd /opt/zenai[m
[31m-[m
[31m-# Generate JWT secrets[m
[31m-JWT_SECRET=$(openssl rand -base64 32)[m
[31m-JWT_REFRESH_SECRET=$(openssl rand -base64 32)[m
[31m-REDIS_PASSWORD=$(openssl rand -base64 32)[m
[31m-MONGO_PASSWORD=$(openssl rand -base64 32)[m
[31m-[m
[31m-# Display for reference[m
[31m-echo "JWT_SECRET: $JWT_SECRET"[m
[31m-echo "JWT_REFRESH_SECRET: $JWT_REFRESH_SECRET"[m
[31m-echo "REDIS_PASSWORD: $REDIS_PASSWORD"[m
[31m-echo "MONGO_PASSWORD: $MONGO_PASSWORD"[m
[31m-```[m
[31m-[m
[31m-### 3.2 Create Environment Files[m
[31m-[m
[31m-```bash[m
[31m-# Backend .env.production[m
[31m-cat > zenai-backend/.env.production << EOF[m
[31m-NODE_ENV=production[m
[31m-PORT=5000[m
[31m-API_VERSION=v1[m
[31m-[m
[31m-# Database[m
[31m-MONGODB_URI=mongodb://zenai:${MONGO_PASSWORD}@mongodb:27017/zenai?authSource=admin[m
[31m-MONGO_USERNAME=zenai[m
[31m-MONGO_PASSWORD=${MONGO_PASSWORD}[m
[31m-[m
[31m-# Cache[m
[31m-REDIS_HOST=redis[m
[31m-REDIS_PORT=6379[m
[31m-REDIS_PASSWORD=${REDIS_PASSWORD}[m
[31m-[m
[31m-# JWT[m
[31m-JWT_SECRET=${JWT_SECRET}[m
[31m-JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET}[m
[31m-JWT_EXPIRE=7d[m
[31m-JWT_REFRESH_EXPIRE=30d[m
[31m-[m
[31m-# API Keys[m
[31m-OPENAI_API_KEY=sk-your-openai-key-here[m
[31m-PINECONE_API_KEY=your-pinecone-key-here[m
[31m-[m
[31m-# CORS[m
[31m-CORS_ORIGIN=https://your-domain.com[m
[31m-[m
[31m-# Logging[m
[31m-LOG_LEVEL=info[m
[31m-[m
[31m-# Email (optional)[m
[31m-SMTP_HOST=smtp.your-email-provider.com[m
[31m-SMTP_PORT=587[m
[31m-SMTP_USER=your-email@your-domain.com[m
[31m-SMTP_PASSWORD=your-email-password[m
[31m-[m
[31m-# Slack (optional)[m
[31m-SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL[m
[31m-EOF[m
[31m-[m
[31m-# AI Engine .env[m
[31m-cat > zenai-ai-engine/.env << EOF[m
[31m-NODE_ENV=production[m
[31m-OPENAI_API_KEY=sk-your-openai-key-here[m
[31m-PINECONE_API_KEY=your-pinecone-key-here[m
[31m-PINECONE_INDEX_NAME=zenai-documents[m
[31m-[m
[31m-# Model configuration[m
[31m-MODEL_NAME=gpt-4[m
[31m-TEMPERATURE=0.7[m
[31m-MAX_TOKENS=2000[m
[31m-[m
[31m-# Redis[m
[31m-REDIS_HOST=redis[m
[31m-REDIS_PORT=6379[m
[31m-REDIS_PASSWORD=${REDIS_PASSWORD}[m
[31m-EOF[m
[31m-[m
[31m-# Frontend .env.production[m
[31m-cat > zenai-frontend/.env.production << EOF[m
[31m-VITE_API_URL=https://api.your-domain.com[m
[31m-VITE_WS_URL=wss://api.your-domain.com[m
[31m-VITE_APP_NAME=ZenAI[m
[31m-VITE_APP_VERSION=1.0.0[m
[31m-EOF[m
[31m-```[m
[31m-[m
[31m-## 4. Docker Compose Configuration[m
[31m-[m
[31m-### 4.1 Update docker-compose.prod.yml[m
[31m-[m
[31m-```bash[m
[31m-# Edit the file to match your setup[m
[31m-nano docker-compose.prod.yml[m
[31m-[m
[31m-# Key things to update:[m
[31m-# - MongoDB credentials[m
[31m-# - Redis password[m
[31m-# - OPENAI_API_KEY[m
[31m-# - GRAFANA_PASSWORD[m
[31m-# - Domain names[m
[31m-```[m
[31m-[m
[31m-### 4.2 Update Nginx Configuration[m
[31m-[m
[31m-```bash[m
[31m-# Edit nginx config[m
[31m-nano nginx/nginx.conf[m
[31m-[m
[31m-# Update:[m
[31m-# - server_name with your domain[m
[31m-# - SSL certificate paths[m
[31m-# - Upstream backend address[m
[31m-```[m
[31m-[m
[31m-## 5. Database Setup[m
[31m-[m
[31m-### 5.1 Initialize MongoDB[m
[31m-[m
[31m-```bash[m
[31m-# Start only MongoDB[m
[31m-docker-compose -f docker-compose.prod.yml up -d mongodb[m
[31m-[m
[31m-# Wait for it to be ready[m
[31m-sleep 10[m
[31m-[m
[31m-# Initialize database[m
[31m-docker-compose -f docker-compose.prod.yml exec mongodb mongo \[m
[31m-  --username admin \[m
[31m-  --password ${MONGO_PASSWORD} \[m
[31m-  --authenticationDatabase admin \[m
[31m-  /dev/stdin << EOF[m
[31m-use zenai[m
[31m-db.createCollection("users")[m
[31m-db.createCollection("projects")[m
[31m-db.createCollection("tasks")[m
[31m-db.createCollection("chat_messages")[m
[31m-EOF[m
[31m-```[m
[31m-[m
[31m-### 5.2 Create Database Indexes[m
[31m-[m
[31m-```bash[m
[31m-# Create indexes for performance[m
[31m-docker-compose -f docker-compose.prod.yml exec mongodb mongo \[m
[31m-  --username admin \[m
[31m-  --password ${MONGO_PASSWORD} \[m
[31m-  --authenticationDatabase admin \[m
[31m-  --eval "[m
[31m-    db.users.createIndex({email: 1}, {unique: true});[m
[31m-    db.users.createIndex({createdAt: 1});[m
[31m-    db.projects.createIndex({owner: 1});[m
[31m-    db.projects.createIndex({createdAt: -1});[m
[31m-    db.tasks.createIndex({project: 1});[m
[31m-    db.tasks.createIndex({status: 1});[m
[31m-    db.chat_messages.createIndex({user: 1, createdAt: -1});[m
[31m-  "[m
[31m-```[m
[31m-[m
[31m-## 6. Application Deployment[m
[31m-[m
[31m-### 6.1 Build Docker Images[m
[31m-[m
[31m-```bash[m
[31m-# Build all images[m
[31m-docker-compose -f docker-compose.prod.yml build[m
[31m-[m
[31m-# This may take 5-10 minutes[m
[31m-```[m
[31m-[m
[31m-### 6.2 Start All Services[m
[31m-[m
[31m-```bash[m
[31m-# Start services[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# Wait for services to start[m
[31m-sleep 30[m
[31m-[m
[31m-# Check status[m
[31m-docker-compose -f docker-compose.prod.yml ps[m
[31m-```[m
[31m-[m
[31m-### 6.3 Run Database Migrations[m
[31m-[m
[31m-```bash[m
[31m-# Apply migrations[m
[31m-docker-compose -f docker-compose.prod.yml exec backend npm run migrate[m
[31m-[m
[31m-# Seed initial data (optional)[m
[31m-docker-compose -f docker-compose.prod.yml exec backend npm run seed[m
[31m-```[m
[31m-[m
[31m-## 7. Verification & Health Checks[m
[31m-[m
[31m-### 7.1 Check Service Health[m
[31m-[m
[31m-```bash[m
[31m-# Health check endpoint[m
[31m-curl https://your-domain.com/health[m
[31m-[m
[31m-# Expected response:[m
[31m-# {"status":"healthy","timestamp":"...","uptime":...,"environment":"production"}[m
[31m-[m
[31m-# Backend health[m
[31m-curl https://api.your-domain.com/health[m
[31m-[m
[31m-# Prometheus[m
[31m-curl http://localhost:9090/-/healthy[m
[31m-[m
[31m-# Redis[m
[31m-docker-compose -f docker-compose.prod.yml exec redis redis-cli ping[m
[31m-# Expected: PONG[m
[31m-```[m
[31m-[m
[31m-### 7.2 Verify All Containers[m
[31m-[m
[31m-```bash[m
[31m-# List all containers[m
[31m-docker-compose -f docker-compose.prod.yml ps[m
[31m-[m
[31m-# Should show all containers as "Up"[m
[31m-[m
[31m-# Check specific container[m
[31m-docker-compose -f docker-compose.prod.yml logs backend | tail -20[m
[31m-docker-compose -f docker-compose.prod.yml logs nginx | tail -20[m
[31m-```[m
[31m-[m
[31m-## 8. Monitoring Setup[m
[31m-[m
[31m-### 8.1 Access Dashboards[m
[31m-[m
[31m-```bash[m
[31m-# Grafana[m
[31m-http://your-server-ip:3001[m
[31m-Username: admin[m
[31m-Password: (from GRAFANA_PASSWORD in .env)[m
[31m-[m
[31m-# Prometheus[m
[31m-http://your-server-ip:9090[m
[31m-[m
[31m-# Backend Health[m
[31m-https://api.your-domain.com/health[m
[31m-```[m
[31m-[m
[31m-### 8.2 Configure Alerts (Optional)[m
[31m-[m
[31m-```bash[m
[31m-# Edit Prometheus configuration[m
[31m-nano monitoring/prometheus.yml[m
[31m-[m
[31m-# Add alert rules for:[m
[31m-# - High error rate (>5%)[m
[31m-# - High latency (>500ms)[m
[31m-# - Database connection issues[m
[31m-# - Low disk space[m
[31m-```[m
[31m-[m
[31m-## 9. Backup Configuration[m
[31m-[m
[31m-### 9.1 Setup Automated Backups[m
[31m-[m
[31m-```bash[m
[31m-# Create backup script[m
[31m-nano /opt/zenai/scripts/backup.sh[m
[31m-[m
[31m-# Make executable[m
[31m-chmod +x /opt/zenai/scripts/backup.sh[m
[31m-[m
[31m-# Add to crontab for daily backups at 1 AM[m
[31m-crontab -e[m
[31m-[m
[31m-# Add:[m
[31m-0 1 * * * /opt/zenai/scripts/backup.sh >> /opt/zenai/logs/backup.log 2>&1[m
[31m-```[m
[31m-[m
[31m-### 9.2 Test Backup/Restore[m
[31m-[m
[31m-```bash[m
[31m-# Create test backup[m
[31m-bash scripts/backup.sh[m
[31m-[m
[31m-# Verify backup created[m
[31m-ls -lh backups/[m
[31m-[m
[31m-# Test restore procedure[m
[31m-bash scripts/restore.sh backups/backup_latest.tar.gz[m
[31m-```[m
[31m-[m
[31m-## 10. Post-Deployment Tasks[m
[31m-[m
[31m-### 10.1 Create Initial Admin User[m
[31m-[m
[31m-```bash[m
[31m-# Access backend container[m
[31m-docker-compose -f docker-compose.prod.yml exec backend node[m
[31m-[m
[31m-# Run:[m
[31m-const User = require('./src/models/User.model');[m
[31m-const user = await User.create({[m
[31m-  name: 'Admin',[m
[31m-  email: 'admin@your-domain.com',[m
[31m-  password: 'secure-password-change-this',[m
[31m-  role: 'admin'[m
[31m-});[m
[31m-console.log('Admin created:', user._id);[m
[31m-```[m
[31m-[m
[31m-### 10.2 Configure Email Notifications (Optional)[m
[31m-[m
[31m-```bash[m
[31m-# Update SMTP settings in .env.production[m
[31m-# Test email sending:[m
[31m-docker-compose -f docker-compose.prod.yml exec backend npm test:email[m
[31m-```[m
[31m-[m
[31m-### 10.3 Setup Log Rotation[m
[31m-[m
[31m-```bash[m
[31m-# Create logrotate configuration[m
[31m-sudo nano /etc/logrotate.d/zenai[m
[31m-[m
[31m-# Add:[m
[31m-/opt/zenai/zenai-backend/logs/*.log {[m
[31m-    daily[m
[31m-    rotate 14[m
[31m-    compress[m
[31m-    delaycompress[m
[31m-    notifempty[m
[31m-    create 0640 $(id -u) $(id -g)[m
[31m-    postrotate[m
[31m-        docker-compose -f /opt/zenai/docker-compose.prod.yml exec backend npm run logs:rotate[m
[31m-    endscript[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-## 11. Performance Tuning[m
[31m-[m
[31m-### 11.1 Optimize MongoDB[m
[31m-[m
[31m-```bash[m
[31m-# Connect to MongoDB[m
[31m-docker-compose -f docker-compose.prod.yml exec mongodb mongo[m
[31m-[m
[31m-# Run profiling[m
[31m-db.setProfilingLevel(1, { slowms: 100 })[m
[31m-[m
[31m-# Check slow queries[m
[31m-db.system.profile.find({ millis: { $gt: 100 } }).limit(10).pretty()[m
[31m-```[m
[31m-[m
[31m-### 11.2 Redis Optimization[m
[31m-[m
[31m-```bash[m
[31m-# Monitor Redis[m
[31m-docker-compose -f docker-compose.prod.yml exec redis redis-cli monitor[m
[31m-[m
[31m-# Check memory usage[m
[31m-docker-compose -f docker-compose.prod.yml exec redis redis-cli info memory[m
[31m-```[m
[31m-[m
[31m-### 11.3 Nginx Caching[m
[31m-[m
[31m-```bash[m
[31m-# Verify caching is working[m
[31m-curl -I https://api.your-domain.com/api/v1/projects[m
[31m-# Look for: X-Cache-Status header[m
[31m-[m
[31m-# Check cache hit ratio in Prometheus[m
[31m-```[m
[31m-[m
[31m-## 12. Scaling (Optional)[m
[31m-[m
[31m-### 12.1 Horizontal Scaling[m
[31m-[m
[31m-```bash[m
[31m-# Scale backend to 3 replicas[m
[31m-docker-compose -f docker-compose.prod.yml up -d --scale backend=3[m
[31m-[m
[31m-# Verify[m
[31m-docker-compose -f docker-compose.prod.yml ps | grep backend[m
[31m-```[m
[31m-[m
[31m-### 12.2 Database Replication (Production)[m
[31m-[m
[31m-```bash[m
[31m-# For high-availability, setup MongoDB replica set[m
[31m-# This requires multiple servers - see MongoDB documentation[m
[31m-```[m
[31m-[m
[31m-## 13. Security Hardening[m
[31m-[m
[31m-### 13.1 Update Docker Registry Credentials[m
[31m-[m
[31m-```bash[m
[31m-# Create Docker registry secret[m
[31m-docker login[m
[31m-[m
[31m-# For automated pulls, add to compose file[m
[31m-```[m
[31m-[m
[31m-### 13.2 Implement WAF (Optional)[m
[31m-[m
[31m-```bash[m
[31m-# Install ModSecurity for Nginx[m
[31m-# Setup CloudFlare or AWS WAF for additional protection[m
[31m-```[m
[31m-[m
[31m-### 13.3 Security Audit[m
[31m-[m
[31m-```bash[m
[31m-# Run security checks[m
[31m-docker run --rm -v /opt/zenai:/workspace aquasec/trivy fs /workspace[m
[31m-[m
[31m-# Fix any vulnerabilities[m
[31m-npm audit fix[m
[31m-```[m
[31m-[m
[31m-## 14. Monitoring & Maintenance[m
[31m-[m
[31m-### 14.1 Regular Health Checks[m
[31m-[m
[31m-```bash[m
[31m-# Create monitoring script[m
[31m-cat > /opt/zenai/scripts/health-check.sh << 'EOF'[m
[31m-#!/bin/bash[m
[31m-curl -f https://your-domain.com/health || exit 1[m
[31m-curl -f https://api.your-domain.com/health || exit 1[m
[31m-echo "All services healthy"[m
[31m-EOF[m
[31m-[m
[31m-# Make executable and add to crontab[m
[31m-chmod +x /opt/zenai/scripts/health-check.sh[m
[31m-crontab -e[m
[31m-# Add: */5 * * * * /opt/zenai/scripts/health-check.sh[m
[31m-```[m
[31m-[m
[31m-### 14.2 Log Monitoring[m
[31m-[m
[31m-```bash[m
[31m-# View logs in real-time[m
[31m-docker-compose -f docker-compose.prod.yml logs -f backend[m
[31m-[m
[31m-# Search logs[m
[31m-docker-compose -f docker-compose.prod.yml logs backend | grep ERROR[m
[31m-[m
[31m-# Export logs[m
[31m-docker-compose -f docker-compose.prod.yml logs backend > backend-logs.txt[m
[31m-```[m
[31m-[m
[31m-## Troubleshooting[m
[31m-[m
[31m-### Services not starting[m
[31m-```bash[m
[31m-# Check logs[m
[31m-docker-compose -f docker-compose.prod.yml logs[m
[31m-[m
[31m-# Restart services[m
[31m-docker-compose -f docker-compose.prod.yml restart[m
[31m-[m
[31m-# Full restart[m
[31m-docker-compose -f docker-compose.prod.yml down[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-```[m
[31m-[m
[31m-### SSL certificate issues[m
[31m-```bash[m
[31m-# Check certificate validity[m
[31m-openssl x509 -in nginx/ssl/cert.pem -text -noout[m
[31m-[m
[31m-# Renew certificate[m
[31m-sudo certbot renew --force-renewal[m
[31m-[m
[31m-# Copy new cert[m
[31m-sudo cp /etc/letsencrypt/live/your-domain.com/fullchain.pem nginx/ssl/cert.pem[m
[31m-```[m
[31m-[m
[31m-### High memory usage[m
[31m-```bash[m
[31m-# Check container memory[m
[31m-docker stats[m
[31m-[m
[31m-# Restart service with memory limit[m
[31m-docker-compose -f docker-compose.prod.yml up -d --scale backend=1[m
[31m-```[m
[31m-[m
[31m-## Rollback Procedure[m
[31m-[m
[31m-```bash[m
[31m-# Save current deployment[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# Keep backups of:[m
[31m-# - Docker images[m
[31m-# - Database backups[m
[31m-# - Configuration files[m
[31m-[m
[31m-# To rollback:[m
[31m-# 1. Restore database from backup[m
[31m-bash scripts/restore.sh backups/backup_rollback_point.tar.gz[m
[31m-[m
[31m-# 2. Restart services[m
[31m-docker-compose -f docker-compose.prod.yml restart[m
[31m-```[m
[31m-[m
[31m-## Production Checklist[m
[31m-[m
[31m-Before going live:[m
[31m-- [ ] SSL certificate installed and auto-renewal configured[m
[31m-- [ ] Database backups automated and tested[m
[31m-- [ ] Monitoring dashboards configured[m
[31m-- [ ] Alert notifications setup[m
[31m-- [ ] Log aggregation configured[m
[31m-- [ ] Rate limiting tested[m
[31m-- [ ] Security audit completed[m
[31m-- [ ] Performance baseline established[m
[31m-- [ ] Disaster recovery plan documented[m
[31m-- [ ] Team trained on deployment[m
[31m-[m
[31m-## Support & Maintenance[m
[31m-[m
[31m-For support:[m
[31m-1. Check logs: `docker-compose -f docker-compose.prod.yml logs`[m
[31m-2. Review metrics in Prometheus/Grafana[m
[31m-3. Contact development team with error details[m
[31m-[m
[31m----[m
[31m-[m
[31m-**Last Updated**: November 12, 2025[m
[31m-**Version**: 1.0.0[m
[1mdiff --git a/docs/agents.md b/docs/agents.md[m
[1mdeleted file mode 100644[m
[1mindex 063eea6..0000000[m
[1m--- a/docs/agents.md[m
[1m+++ /dev/null[m
[36m@@ -1,399 +0,0 @@[m
[31m-# ü§ñ ZenAI Agents Documentation[m
[31m-[m
[31m-## Overview[m
[31m-[m
[31m-ZenAI uses multiple specialized AI agents built with LangChain to handle different aspects of project management. Each agent is designed with specific capabilities and tools.[m
[31m-[m
[31m-## Agent Architecture[m
[31m-[m
[31m-All agents inherit from the `BaseAgent` class which provides:[m
[31m-- Model initialization (OpenAI/Anthropic)[m
[31m-- Memory management[m
[31m-- Tool execution[m
[31m-- Error handling[m
[31m-[m
[31m-## Available Agents[m
[31m-[m
[31m-### 1. Product Manager Agent[m
[31m-[m
[31m-**Purpose**: Helps organize projects, create tasks, and provide strategic insights[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Create structured tasks from natural language descriptions[m
[31m-- Analyze project health and metrics[m
[31m-- Prioritize tasks based on business impact[m
[31m-- Break down epics into subtasks[m
[31m-- Suggest workflow improvements[m
[31m-- Identify bottlenecks and risks[m
[31m-[m
[31m-**Tools**:[m
[31m-- `create_task`: Creates tasks in the system[m
[31m-- `analyze_project`: Analyzes project metrics[m
[31m-- `prioritize_tasks`: Intelligent task prioritization[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const agent = new ProductManagerAgent();[m
[31m-await agent.initialize();[m
[31m-[m
[31m-// Create task from description[m
[31m-const task = await agent.createTaskFromDescription([m
[31m-  "Implement user authentication with OAuth",[m
[31m-  "project_123"[m
[31m-);[m
[31m-[m
[31m-// Analyze project health[m
[31m-const health = await agent.analyzeProjectHealth([m
[31m-  projectData,[m
[31m-  tasks[m
[31m-);[m
[31m-```[m
[31m-[m
[31m-**System Prompt**:[m
[31m-```[m
[31m-You are an expert AI Product Manager for ZenAI platform. Your responsibilities include:[m
[31m-[m
[31m-Core Capabilities:[m
[31m-- Creating and managing tasks and projects[m
[31m-- Analyzing project health and providing actionable insights[m
[31m-- Prioritizing work based on business impact[m
[31m-- Breaking down complex projects into manageable tasks[m
[31m-- Suggesting improvements to workflow efficiency[m
[31m-- Identifying bottlenecks and risks[m
[31m-[m
[31m-Communication Style:[m
[31m-- Professional yet friendly[m
[31m-- Data-driven decision making[m
[31m-- Proactive problem solving[m
[31m-- Clear and concise explanations[m
[31m-[m
[31m-Always provide actionable recommendations and be proactive in identifying issues.[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 2. Task Analyzer Agent[m
[31m-[m
[31m-**Purpose**: Analyzes tasks for complexity, dependencies, and optimal execution[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Estimate task complexity (1-10 scale)[m
[31m-- Calculate effort in hours[m
[31m-- Identify dependencies and blockers[m
[31m-- Recommend required skills[m
[31m-- Flag potential risks[m
[31m-- Suggest execution strategies[m
[31m-[m
[31m-**Tools**:[m
[31m-- `estimate_complexity`: Estimates task difficulty[m
[31m-- `suggest_dependencies`: Identifies task dependencies[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const agent = new TaskAnalyzerAgent();[m
[31m-await agent.initialize();[m
[31m-[m
[31m-// Analyze single task[m
[31m-const analysis = await agent.analyzeTask(task, projectContext);[m
[31m-console.log(analysis.complexityScore); // 7/10[m
[31m-console.log(analysis.estimatedHours); // 16[m
[31m-console.log(analysis.risks); // ["API integration complexity"][m
[31m-[m
[31m-// Estimate effort for multiple tasks[m
[31m-const estimates = await agent.estimateEffort(tasks);[m
[31m-console.log(estimates.totalHours); // 120[m
[31m-console.log(estimates.criticalPath); // ["task1", "task3", "task5"][m
[31m-```[m
[31m-[m
[31m-**Output Format**:[m
[31m-```json[m
[31m-{[m
[31m-  "complexityScore": 7,[m
[31m-  "estimatedHours": 16,[m
[31m-  "skillsRequired": ["Node.js", "MongoDB", "JWT"],[m
[31m-  "dependencies": ["Setup database", "Configure auth middleware"],[m
[31m-  "risks": ["Third-party API reliability"],[m
[31m-  "recommendations": ["Implement retry logic", "Add comprehensive tests"],[m
[31m-  "blockers": [][m
[31m-}[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 3. Meeting Summarizer Agent[m
[31m-[m
[31m-**Purpose**: Transcribes meetings and generates summaries with action items[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Transcribe audio using Whisper API[m
[31m-- Extract key discussion points[m
[31m-- Identify decisions made[m
[31m-- List action items with owners[m
[31m-- Capture questions and blockers[m
[31m-- Generate professional meeting reports[m
[31m-[m
[31m-**Integration**: Works with WhisperService[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const agent = new MeetingSummarizerAgent();[m
[31m-[m
[31m-// Transcribe and summarize meeting[m
[31m-const result = await agent.transcribeAndSummarize([m
[31m-  '/path/to/meeting.mp3',[m
[31m-  {[m
[31m-    title: 'Sprint Planning Meeting',[m
[31m-    participants: ['Alice', 'Bob', 'Charlie'],[m
[31m-    date: '2024-01-15'[m
[31m-  }[m
[31m-);[m
[31m-[m
[31m-console.log(result.summary.executiveSummary);[m
[31m-console.log(result.actionItems);[m
[31m-console.log(result.transcription.text);[m
[31m-```[m
[31m-[m
[31m-**Output Format**:[m
[31m-```json[m
[31m-{[m
[31m-  "transcription": {[m
[31m-    "text": "Full meeting transcript...",[m
[31m-    "duration": 1800,[m
[31m-    "language": "en"[m
[31m-  },[m
[31m-  "summary": {[m
[31m-    "executiveSummary": "Team discussed Q1 priorities...",[m
[31m-    "keyPoints": ["Feature X approved", "Budget allocated"],[m
[31m-    "decisions": ["Use React for frontend"],[m
[31m-    "nextSteps": ["Setup dev environment", "Create wireframes"],[m
[31m-    "questions": ["Which API version to use?"],[m
[31m-    "blockers": ["Waiting for design approval"][m
[31m-  },[m
[31m-  "actionItems": [[m
[31m-    {[m
[31m-      "action": "Setup development environment",[m
[31m-      "owner": "Alice",[m
[31m-      "dueDate": "2024-01-20",[m
[31m-      "priority": "high"[m
[31m-    }[m
[31m-  ][m
[31m-}[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 4. Code Reviewer Agent[m
[31m-[m
[31m-**Purpose**: Review code for quality, security, and best practices[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Analyze code quality[m
[31m-- Identify security vulnerabilities[m
[31m-- Suggest performance improvements[m
[31m-- Check best practices adherence[m
[31m-- Review test coverage[m
[31m-- Provide refactoring suggestions[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const agent = new CodeReviewerAgent();[m
[31m-[m
[31m-const review = await agent.reviewCode({[m
[31m-  language: 'javascript',[m
[31m-  code: codeString,[m
[31m-  context: 'Express API endpoint'[m
[31m-});[m
[31m-[m
[31m-console.log(review.issues); // Security, performance, style issues[m
[31m-console.log(review.suggestions); // Improvement recommendations[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 5. Orchestrator Agent[m
[31m-[m
[31m-**Purpose**: Coordinates multiple agents for complex workflows[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Route requests to appropriate agents[m
[31m-- Chain multiple agent operations[m
[31m-- Aggregate results from multiple agents[m
[31m-- Handle complex multi-step workflows[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const orchestrator = new OrchestratorAgent();[m
[31m-[m
[31m-// Complex workflow: Create project ‚Üí Analyze ‚Üí Generate tasks[m
[31m-const result = await orchestrator.run({[m
[31m-  workflow: 'project-setup',[m
[31m-  input: {[m
[31m-    projectName: 'E-commerce Platform',[m
[31m-    description: 'Build online store with React and Node.js'[m
[31m-  }[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-## Agent Configuration[m
[31m-[m
[31m-### Model Selection[m
[31m-```javascript[m
[31m-// OpenAI GPT-4[m
[31m-const config = {[m
[31m-  modelType: 'openai',[m
[31m-  modelName: 'gpt-4-turbo-preview',[m
[31m-  temperature: 0.7,[m
[31m-  maxTokens: 2000[m
[31m-};[m
[31m-[m
[31m-// Anthropic Claude[m
[31m-const config = {[m
[31m-  modelType: 'anthropic',[m
[31m-  modelName: 'claude-3-sonnet-20240229',[m
[31m-  temperature: 0.7,[m
[31m-  maxTokens: 2000[m
[31m-};[m
[31m-```[m
[31m-[m
[31m-### Memory Configuration[m
[31m-```javascript[m
[31m-const memory = new BufferMemory({[m
[31m-  returnMessages: true,[m
[31m-  memoryKey: 'chat_history',[m
[31m-  inputKey: 'input',[m
[31m-  outputKey: 'output'[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-## Best Practices[m
[31m-[m
[31m-### 1. Error Handling[m
[31m-```javascript[m
[31m-try {[m
[31m-  const result = await agent.run(input, context);[m
[31m-  return result;[m
[31m-} catch (error) {[m
[31m-  logger.error(`Agent error: ${error.message}`);[m
[31m-  // Implement fallback logic[m
[31m-  return defaultResponse;[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### 2. Context Management[m
[31m-```javascript[m
[31m-// Provide relevant context[m
[31m-const context = {[m
[31m-  projectId: 'proj_123',[m
[31m-  userId: 'user_456',[m
[31m-  previousActions: [],[m
[31m-  preferences: {}[m
[31m-};[m
[31m-[m
[31m-const result = await agent.run(input, context);[m
[31m-```[m
[31m-[m
[31m-### 3. Token Management[m
[31m-```javascript[m
[31m-// Monitor token usage[m
[31m-const tokens = countTokens(input);[m
[31m-if (tokens > MAX_TOKENS) {[m
[31m-  input = truncate(input, MAX_TOKENS);[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### 4. Caching[m
[31m-```javascript[m
[31m-// Cache agent responses[m
[31m-const cacheKey = `agent:${agentName}:${hash(input)}`;[m
[31m-const cached = await cache.get(cacheKey);[m
[31m-[m
[31m-if (cached) {[m
[31m-  return cached;[m
[31m-}[m
[31m-[m
[31m-const result = await agent.run(input);[m
[31m-await cache.set(cacheKey, result, 3600);[m
[31m-```[m
[31m-[m
[31m-## Performance Optimization[m
[31m-[m
[31m-### 1. Parallel Agent Execution[m
[31m-```javascript[m
[31m-const [taskAnalysis, projectHealth] = await Promise.all([[m
[31m-  taskAnalyzer.analyzeTask(task),[m
[31m-  productManager.analyzeProjectHealth(project, tasks)[m
[31m-]);[m
[31m-```[m
[31m-[m
[31m-### 2. Streaming Responses[m
[31m-```javascript[m
[31m-const agent = new ProductManagerAgent({[m
[31m-  streaming: true[m
[31m-});[m
[31m-[m
[31m-agent.on('token', (token) => {[m
[31m-  // Stream tokens to client[m
[31m-  res.write(token);[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-### 3. Agent Pooling[m
[31m-```javascript[m
[31m-// Maintain agent pool for reuse[m
[31m-class AgentPool {[m
[31m-  constructor(AgentClass, size = 5) {[m
[31m-    this.pool = Array(size).fill(null).map(() => new AgentClass());[m
[31m-  }[m
[31m-[m
[31m-  async execute(input) {[m
[31m-    const agent = this.getAvailableAgent();[m
[31m-    return await agent.run(input);[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-## Monitoring[m
[31m-[m
[31m-### Agent Metrics[m
[31m-- Request count per agent[m
[31m-- Average response time[m
[31m-- Success/failure rate[m
[31m-- Token usage[m
[31m-- Error types and frequency[m
[31m-[m
[31m-### Logging[m
[31m-```javascript[m
[31m-logger.info('Agent execution', {[m
[31m-  agent: agent.name,[m
[31m-  input: input.substring(0, 100),[m
[31m-  duration: responseTime,[m
[31m-  tokens: tokensUsed[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-## Testing Agents[m
[31m-[m
[31m-```javascript[m
[31m-describe('ProductManagerAgent', () => {[m
[31m-  let agent;[m
[31m-[m
[31m-  beforeAll(async () => {[m
[31m-    agent = new ProductManagerAgent();[m
[31m-    await agent.initialize();[m
[31m-  });[m
[31m-[m
[31m-  test('should create task from description', async () => {[m
[31m-    const task = await agent.createTaskFromDescription([m
[31m-      'Add user login feature',[m
[31m-      'project_123'[m
[31m-    );[m
[31m-[m
[31m-    expect(task.title).toBeDefined();[m
[31m-    expect(task.priority).toMatch(/low|medium|high|urgent/);[m
[31m-  });[m
[31m-[m
[31m-  afterAll(() => {[m
[31m-    agent.clearMemory();[m
[31m-  });[m
[31m-});[m
[31m-```[m
[1mdiff --git a/docs/api.md b/docs/api.md[m
[1mdeleted file mode 100644[m
[1mindex c13fa28..0000000[m
[1m--- a/docs/api.md[m
[1m+++ /dev/null[m
[36m@@ -1,512 +0,0 @@[m
[31m-# üì° ZenAI API Documentation[m
[31m-[m
[31m-## Base URL[m
[31m-```[m
[31m-Production: https://api.zenai.com/v1[m
[31m-Development: http://localhost:5000/api/v1[m
[31m-```[m
[31m-[m
[31m-## Authentication[m
[31m-[m
[31m-All API requests (except auth endpoints) require a valid JWT token in the Authorization header:[m
[31m-[m
[31m-```bash[m
[31m-Authorization: Bearer <your_jwt_token>[m
[31m-```[m
[31m-[m
[31m-### Token Lifespan[m
[31m-- Access Token: 7 days[m
[31m-- Refresh Token: 30 days[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîê Authentication Endpoints[m
[31m-[m
[31m-### Register User[m
[31m-```http[m
[31m-POST /auth/register[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "name": "John Doe",[m
[31m-  "email": "john@example.com",[m
[31m-  "password": "securePassword123"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Response** (201):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "message": "Registration successful",[m
[31m-  "data": {[m
[31m-    "user": {[m
[31m-      "_id": "user_123",[m
[31m-      "name": "John Doe",[m
[31m-      "email": "john@example.com",[m
[31m-      "role": "user"[m
[31m-    },[m
[31m-    "accessToken": "eyJhbGciOiJIUzI1NiIs...",[m
[31m-    "refreshToken": "eyJhbGciOiJIUzI1NiIs..."[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Login[m
[31m-```http[m
[31m-POST /auth/login[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "email": "john@example.com",[m
[31m-  "password": "securePassword123"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "message": "Login successful",[m
[31m-  "data": {[m
[31m-    "user": { /* user object */ },[m
[31m-    "accessToken": "eyJhbGciOiJIUzI1NiIs...",[m
[31m-    "refreshToken": "eyJhbGciOiJIUzI1NiIs..."[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Refresh Token[m
[31m-```http[m
[31m-POST /auth/refresh[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "refreshToken": "eyJhbGciOiJIUzI1NiIs..."[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Logout[m
[31m-```http[m
[31m-POST /auth/logout[m
[31m-```[m
[31m-[m
[31m-### Get Profile[m
[31m-```http[m
[31m-GET /auth/profile[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## ü§ñ AI Endpoints[m
[31m-[m
[31m-### Chat with AI[m
[31m-```http[m
[31m-POST /ai/chat[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "message": "Create a task for implementing user authentication",[m
[31m-  "context": {[m
[31m-    "type": "project-management",[m
[31m-    "projectId": "proj_123"[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "data": {[m
[31m-    "response": "I'll help you create a task for user authentication...",[m
[31m-    "metadata": {[m
[31m-      "responseTime": 1250,[m
[31m-      "agent": "product-manager"[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Create Task with AI[m
[31m-```http[m
[31m-POST /ai/tasks/create[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "description": "Build user login with Google OAuth and email/password options",[m
[31m-  "projectId": "proj_123"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Response** (201):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "message": "Task created successfully",[m
[31m-  "data": {[m
[31m-    "_id": "task_456",[m
[31m-    "title": "Implement User Authentication System",[m
[31m-    "description": "Build comprehensive auth system...",[m
[31m-    "priority": "high",[m
[31m-    "estimatedTime": 16,[m
[31m-    "tags": ["authentication", "security", "backend"],[m
[31m-    "acceptanceCriteria": [[m
[31m-      "User can register with email",[m
[31m-      "OAuth integration working",[m
[31m-      "JWT tokens generated"[m
[31m-    ][m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Analyze Task[m
[31m-```http[m
[31m-GET /ai/tasks/:taskId/analyze[m
[31m-```[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "data": {[m
[31m-    "complexityScore": 7,[m
[31m-    "estimatedHours": 16,[m
[31m-    "skillsRequired": ["Node.js", "OAuth", "JWT", "MongoDB"],[m
[31m-    "dependencies": ["Database setup", "Email service"],[m
[31m-    "risks": ["Third-party OAuth service downtime"],[m
[31m-    "recommendations": [[m
[31m-      "Implement comprehensive error handling",[m
[31m-      "Add rate limiting to auth endpoints"[m
[31m-    ],[m
[31m-    "blockers": [][m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Analyze Project Health[m
[31m-```http[m
[31m-GET /ai/projects/:projectId/analyze[m
[31m-```[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "data": {[m
[31m-    "healthScore": 75,[m
[31m-    "status": "healthy",[m
[31m-    "insights": [[m
[31m-      "Project is on track for deadline",[m
[31m-      "Good task completion rate",[m
[31m-      "Team velocity is consistent"[m
[31m-    ],[m
[31m-    "risks": [[m
[31m-      "3 tasks overdue",[m
[31m-      "Testing coverage below target"[m
[31m-    ],[m
[31m-    "recommendations": [[m
[31m-      "Prioritize overdue tasks",[m
[31m-      "Allocate time for testing",[m
[31m-      "Consider adding another developer"[m
[31m-    ][m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Transcribe Audio/Meeting[m
[31m-```http[m
[31m-POST /ai/transcribe[m
[31m-Content-Type: multipart/form-data[m
[31m-```[m
[31m-[m
[31m-**Form Data**:[m
[31m-- `audio`: Audio file (mp3, wav, m4a, etc.)[m
[31m-- `metadata`: JSON with meeting details[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "data": {[m
[31m-    "transcription": {[m
[31m-      "text": "Full meeting transcript...",[m
[31m-      "duration": 1800,[m
[31m-      "language": "en"[m
[31m-    },[m
[31m-    "summary": {[m
[31m-      "executiveSummary": "Team discussed Q1 priorities...",[m
[31m-      "keyPoints": ["Feature X approved", "Budget allocated"],[m
[31m-      "decisions": ["Use React for frontend"],[m
[31m-      "actionItems": [[m
[31m-        {[m
[31m-          "action": "Setup development environment",[m
[31m-          "owner": "Alice",[m
[31m-          "dueDate": "2024-01-20",[m
[31m-          "priority": "high"[m
[31m-        }[m
[31m-      ][m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìã Project Endpoints[m
[31m-[m
[31m-### Get All Projects[m
[31m-```http[m
[31m-GET /projects[m
[31m-```[m
[31m-[m
[31m-**Query Parameters**:[m
[31m-- `page` (optional): Page number (default: 1)[m
[31m-- `limit` (optional): Items per page (default: 10)[m
[31m-- `status` (optional): Filter by status[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "data": {[m
[31m-    "projects": [[m
[31m-      {[m
[31m-        "_id": "proj_123",[m
[31m-        "name": "ZenAI Platform",[m
[31m-        "description": "AI-powered project management",[m
[31m-        "status": "active",[m
[31m-        "createdAt": "2024-01-01T00:00:00Z"[m
[31m-      }[m
[31m-    ],[m
[31m-    "pagination": {[m
[31m-      "total": 25,[m
[31m-      "page": 1,[m
[31m-      "pages": 3[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Get Project by ID[m
[31m-```http[m
[31m-GET /projects/:projectId[m
[31m-```[m
[31m-[m
[31m-### Create Project[m
[31m-```http[m
[31m-POST /projects[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "name": "New Project",[m
[31m-  "description": "Project description",[m
[31m-  "startDate": "2024-01-01",[m
[31m-  "endDate": "2024-06-30"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Update Project[m
[31m-```http[m
[31m-PUT /projects/:projectId[m
[31m-```[m
[31m-[m
[31m-### Delete Project[m
[31m-```http[m
[31m-DELETE /projects/:projectId[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## ‚úÖ Task Endpoints[m
[31m-[m
[31m-### Get All Tasks[m
[31m-```http[m
[31m-GET /tasks[m
[31m-```[m
[31m-[m
[31m-**Query Parameters**:[m
[31m-- `projectId` (optional): Filter by project[m
[31m-- `status` (optional): Filter by status[m
[31m-- `priority` (optional): Filter by priority[m
[31m-[m
[31m-### Get Task by ID[m
[31m-```http[m
[31m-GET /tasks/:taskId[m
[31m-```[m
[31m-[m
[31m-### Create Task[m
[31m-```http[m
[31m-POST /tasks[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "title": "Implement user authentication",[m
[31m-  "description": "Add JWT-based authentication",[m
[31m-  "projectId": "proj_123",[m
[31m-  "priority": "high",[m
[31m-  "estimatedTime": 16,[m
[31m-  "tags": ["backend", "security"][m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Update Task[m
[31m-```http[m
[31m-PUT /tasks/:taskId[m
[31m-```[m
[31m-[m
[31m-### Delete Task[m
[31m-```http[m
[31m-DELETE /tasks/:taskId[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîî Notification Endpoints[m
[31m-[m
[31m-### Get Notifications[m
[31m-```http[m
[31m-GET /notifications[m
[31m-```[m
[31m-[m
[31m-### Mark as Read[m
[31m-```http[m
[31m-PUT /notifications/:notificationId/read[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## Error Responses[m
[31m-[m
[31m-All endpoints return errors in the following format:[m
[31m-[m
[31m-```json[m
[31m-{[m
[31m-  "success": false,[m
[31m-  "error": {[m
[31m-    "code": "ERROR_CODE",[m
[31m-    "message": "Human-readable error message",[m
[31m-    "details": {}[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Common Error Codes[m
[31m-[m
[31m-| Code | Status | Description |[m
[31m-|------|--------|-------------|[m
[31m-| `UNAUTHORIZED` | 401 | Invalid or missing authentication token |[m
[31m-| `FORBIDDEN` | 403 | Insufficient permissions |[m
[31m-| `NOT_FOUND` | 404 | Resource not found |[m
[31m-| `VALIDATION_ERROR` | 400 | Invalid request data |[m
[31m-| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests |[m
[31m-| `INTERNAL_ERROR` | 500 | Server error |[m
[31m-[m
[31m----[m
[31m-[m
[31m-## Rate Limiting[m
[31m-[m
[31m-API requests are rate limited per user:[m
[31m-[m
[31m-- **Standard Endpoints**: 100 requests per 15 minutes[m
[31m-- **Auth Endpoints**: 5 requests per 15 minutes[m
[31m-- **AI Endpoints**: 10 requests per minute[m
[31m-[m
[31m-Rate limit headers are included in responses:[m
[31m-```[m
[31m-X-RateLimit-Limit: 100[m
[31m-X-RateLimit-Remaining: 95[m
[31m-X-RateLimit-Reset: 1609459200[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## Webhooks[m
[31m-[m
[31m-ZenAI supports webhooks for real-time event notifications.[m
[31m-[m
[31m-### Webhook Events[m
[31m-[m
[31m-- `task.created`[m
[31m-- `task.updated`[m
[31m-- `task.completed`[m
[31m-- `project.created`[m
[31m-- `project.updated`[m
[31m-[m
[31m-### Webhook Payload Format[m
[31m-[m
[31m-```json[m
[31m-{[m
[31m-  "event": "task.created",[m
[31m-  "timestamp": "2024-01-15T12:00:00Z",[m
[31m-  "data": {[m
[31m-    "taskId": "task_123",[m
[31m-    "projectId": "proj_123",[m
[31m-    "title": "New Task"[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## SDK Examples[m
[31m-[m
[31m-### JavaScript/Node.js[m
[31m-[m
[31m-```javascript[m
[31m-const ZenAI = require('@zenai/sdk');[m
[31m-[m
[31m-const client = new ZenAI({[m
[31m-  apiKey: process.env.ZENAI_API_KEY[m
[31m-});[m
[31m-[m
[31m-// Create task with AI[m
[31m-const task = await client.ai.createTask({[m
[31m-  description: 'Implement user authentication',[m
[31m-  projectId: 'proj_123'[m
[31m-});[m
[31m-[m
[31m-// Get project health analysis[m
[31m-const health = await client.ai.analyzeProject('proj_123');[m
[31m-```[m
[31m-[m
[31m-### Python[m
[31m-[m
[31m-```python[m
[31m-from zenai import ZenAI[m
[31m-[m
[31m-client = ZenAI(api_key=os.getenv('ZENAI_API_KEY'))[m
[31m-[m
[31m-# Create task[m
[31m-task = client.ai.create_task([m
[31m-    description='Implement user authentication',[m
[31m-    project_id='proj_123'[m
[31m-)[m
[31m-[m
[31m-# Analyze project[m
[31m-health = client.ai.analyze_project('proj_123')[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## Best Practices[m
[31m-[m
[31m-1. **Authentication**: Always store API keys securely using environment variables[m
[31m-2. **Error Handling**: Implement retry logic for transient errors[m
[31m-3. **Rate Limiting**: Implement exponential backoff when rate limited[m
[31m-4. **Caching**: Cache responses when appropriate to reduce API calls[m
[31m-5. **Webhooks**: Use webhooks for real-time updates instead of polling[m
[1mdiff --git a/docs/architecture.md b/docs/architecture.md[m
[1mdeleted file mode 100644[m
[1mindex 855d17b..0000000[m
[1m--- a/docs/architecture.md[m
[1m+++ /dev/null[m
[36m@@ -1,208 +0,0 @@[m
[31m-# üèóÔ∏è ZenAI Architecture Documentation[m
[31m-[m
[31m-## System Overview[m
[31m-[m
[31m-ZenAI is an AI-powered project management platform built with a microservices architecture. The system consists of three main layers:[m
[31m-[m
[31m-1. **Frontend Layer** - React-based user interface[m
[31m-2. **Backend Layer** - Node.js/Express REST API[m
[31m-3. **AI Engine Layer** - LangChain-based AI agents and services[m
[31m-[m
[31m-## Architecture Diagram[m
[31m-[m
[31m-```[m
[31m-‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-‚îÇ                         Client Layer                            ‚îÇ[m
[31m-‚îÇ                    (React + Tailwind CSS)                       ‚îÇ[m
[31m-‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-                         ‚îÇ HTTPS/WSS[m
[31m-‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-‚îÇ                       Load Balancer                             ‚îÇ[m
[31m-‚îÇ                      (Nginx + SSL)                              ‚îÇ[m
[31m-‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-                         ‚îÇ[m
[31m-‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-‚îÇ                    Backend API Layer                            ‚îÇ[m
[31m-‚îÇ                  (Node.js + Express)                            ‚îÇ[m
[31m-‚îÇ                                                                 ‚îÇ[m
[31m-‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ[m
[31m-‚îÇ  ‚îÇ   Auth       ‚îÇ  ‚îÇ   Projects   ‚îÇ  ‚îÇ   AI API     ‚îÇ        ‚îÇ[m
[31m-‚îÇ  ‚îÇ  Controller  ‚îÇ  ‚îÇ  Controller  ‚îÇ  ‚îÇ  Controller  ‚îÇ        ‚îÇ[m
[31m-‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ[m
[31m-‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-         ‚îÇ                  ‚îÇ                  ‚îÇ[m
[31m-         ‚îÇ                  ‚îÇ                  ‚îÇ[m
[31m-    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-    ‚îÇ MongoDB ‚îÇ       ‚îÇ  Redis  ‚îÇ      ‚îÇ   AI Engine       ‚îÇ[m
[31m-    ‚îÇ         ‚îÇ       ‚îÇ  Cache  ‚îÇ      ‚îÇ   (LangChain)     ‚îÇ[m
[31m-    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ                   ‚îÇ[m
[31m-                                        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îÇ   Agents    ‚îÇ  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îÇ  Whisper    ‚îÇ  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îÇ   RAG/VDB   ‚îÇ  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ[m
[31m-                                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-                                                ‚îÇ[m
[31m-                                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-                                        ‚îÇ   OpenAI API      ‚îÇ[m
[31m-                                        ‚îÇ   Pinecone        ‚îÇ[m
[31m-                                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-```[m
[31m-[m
[31m-## Component Details[m
[31m-[m
[31m-### 1. Frontend Layer[m
[31m-- **Technology**: React 18, TailwindCSS, Axios[m
[31m-- **Features**:[m
[31m-  - Project dashboard[m
[31m-  - Task management[m
[31m-  - AI chat interface[m
[31m-  - Real-time updates via WebSocket[m
[31m-  - Audio recording for meetings[m
[31m-[m
[31m-### 2. Backend API Layer[m
[31m-- **Technology**: Node.js, Express, MongoDB, Redis[m
[31m-- **Components**:[m
[31m-  - **Authentication**: JWT-based auth with refresh tokens[m
[31m-  - **API Gateway**: RESTful API with versioning[m
[31m-  - **Middleware**: Auth, validation, rate limiting, error handling[m
[31m-  - **Cache Layer**: Redis for session and query caching[m
[31m-  - **Database**: MongoDB with Mongoose ODM[m
[31m-[m
[31m-### 3. AI Engine Layer[m
[31m-- **Technology**: LangChain, OpenAI, Anthropic[m
[31m-- **Components**:[m
[31m-  - **Agents**:[m
[31m-    - Product Manager Agent[m
[31m-    - Task Analyzer Agent[m
[31m-    - Code Reviewer Agent[m
[31m-    - Meeting Summarizer Agent[m
[31m-  - **Chains**: LangChain chains for complex workflows[m
[31m-  - **Tools**: Integration with Notion, Slack, GitHub[m
[31m-  - **Memory**: Conversation history and context management[m
[31m-  - **Vector Store**: Pinecone for RAG implementation[m
[31m-[m
[31m-## Data Flow[m
[31m-[m
[31m-### Task Creation Flow[m
[31m-```[m
[31m-User Input ‚Üí Backend Controller ‚Üí AI Service ‚Üí Product Manager Agent[m
[31m-                                                        ‚Üì[m
[31m-                                              OpenAI API (GPT-4)[m
[31m-                                                        ‚Üì[m
[31m-MongoDB ‚Üê Backend Controller ‚Üê AI Service ‚Üê Structured Task Data[m
[31m-```[m
[31m-[m
[31m-### Meeting Transcription Flow[m
[31m-```[m
[31m-Audio File ‚Üí Backend Upload ‚Üí AI Service ‚Üí Whisper Service[m
[31m-                                                  ‚Üì[m
[31m-                                          OpenAI Whisper API[m
[31m-                                                  ‚Üì[m
[31m-                    Meeting Summarizer Agent ‚Üê Transcription[m
[31m-                                ‚Üì[m
[31m-                          AI Analysis[m
[31m-                                ‚Üì[m
[31m-             Summary + Action Items ‚Üí MongoDB ‚Üí User[m
[31m-```[m
[31m-[m
[31m-## Security Architecture[m
[31m-[m
[31m-### Authentication Flow[m
[31m-1. User logs in with credentials[m
[31m-2. Backend validates and generates JWT access token (7 days)[m
[31m-3. Refresh token generated (30 days) and stored in DB[m
[31m-4. Access token sent in Authorization header[m
[31m-5. Middleware validates token on each request[m
[31m-[m
[31m-### Rate Limiting[m
[31m-- **API Endpoints**: 100 requests per 15 minutes[m
[31m-- **Auth Endpoints**: 5 attempts per 15 minutes[m
[31m-- **AI Endpoints**: 10 requests per minute[m
[31m-[m
[31m-### Data Protection[m
[31m-- Passwords hashed with bcrypt (12 rounds)[m
[31m-- Sensitive data encrypted at rest[m
[31m-- HTTPS/TLS 1.3 for data in transit[m
[31m-- Input sanitization against XSS and NoSQL injection[m
[31m-[m
[31m-## Scalability[m
[31m-[m
[31m-### Horizontal Scaling[m
[31m-- Backend API can be scaled to N instances[m
[31m-- Load balancer distributes traffic[m
[31m-- Stateless design (sessions in Redis)[m
[31m-- Database read replicas for read-heavy operations[m
[31m-[m
[31m-### Caching Strategy[m
[31m-- **L1 Cache**: In-memory (Node.js)[m
[31m-- **L2 Cache**: Redis (shared across instances)[m
[31m-- **Cache Invalidation**: Event-driven updates[m
[31m-[m
[31m-### Database Optimization[m
[31m-- Indexes on frequently queried fields[m
[31m-- Connection pooling (max 10 connections)[m
[31m-- Query optimization with explain()[m
[31m-- Aggregation pipelines for complex queries[m
[31m-[m
[31m-## Monitoring & Observability[m
[31m-[m
[31m-### Metrics Collection[m
[31m-- **Application Metrics**: Prometheus[m
[31m-- **Visualization**: Grafana dashboards[m
[31m-- **Logging**: Winston with daily rotation[m
[31m-- **Error Tracking**: Sentry integration[m
[31m-- **APM**: New Relic or DataDog[m
[31m-[m
[31m-### Key Metrics[m
[31m-- Request rate and latency[m
[31m-- Error rate by endpoint[m
[31m-- AI request success rate[m
[31m-- Database query performance[m
[31m-- Cache hit ratio[m
[31m-- Memory and CPU usage[m
[31m-[m
[31m-## Deployment Strategy[m
[31m-[m
[31m-### Environments[m
[31m-1. **Development**: Local Docker Compose[m
[31m-2. **Staging**: AWS ECS or DigitalOcean[m
[31m-3. **Production**: Kubernetes or Docker Swarm[m
[31m-[m
[31m-### CI/CD Pipeline[m
[31m-```[m
[31m-Git Push ‚Üí GitHub Actions ‚Üí Run Tests ‚Üí Build Docker Images[m
[31m-                                              ‚Üì[m
[31m-                                    Push to Registry[m
[31m-                                              ‚Üì[m
[31m-                                Deploy to Production[m
[31m-                                              ‚Üì[m
[31m-                                    Health Checks[m
[31m-                                              ‚Üì[m
[31m-                                  Rollback if Failed[m
[31m-```[m
[31m-[m
[31m-## Technology Stack Summary[m
[31m-[m
[31m-| Layer | Technology |[m
[31m-|-------|-----------|[m
[31m-| Frontend | React, TailwindCSS, Axios |[m
[31m-| Backend | Node.js, Express, MongoDB, Redis |[m
[31m-| AI Engine | LangChain, OpenAI, Anthropic |[m
[31m-| Vector DB | Pinecone / ChromaDB |[m
[31m-| Cache | Redis |[m
[31m-| Load Balancer | Nginx |[m
[31m-| Monitoring | Prometheus, Grafana |[m
[31m-| Logging | Winston |[m
[31m-| Deployment | Docker, Docker Compose |[m
[31m-| CI/CD | GitHub Actions |[m
[31m-[m
[31m-## Performance Targets[m
[31m-[m
[31m-- **API Response Time**: < 200ms (p95)[m
[31m-- **AI Response Time**: < 5s (p95)[m
[31m-- **Uptime**: 99.9%[m
[31m-- **Error Rate**: < 0.1%[m
[31m-- **Concurrent Users**: 10,000+[m
[1mdiff --git a/monitoring/prometheus.yml b/monitoring/prometheus.yml[m
[1mdeleted file mode 100644[m
[1mindex b93f646..0000000[m
[1m--- a/monitoring/prometheus.yml[m
[1m+++ /dev/null[m
[36m@@ -1,21 +0,0 @@[m
[31m-# monitoring/prometheus.yml[m
[31m-global:[m
[31m-  scrape_interval: 15s[m
[31m-  evaluation_interval: 15s[m
[31m-[m
[31m-scrape_configs:[m
[31m-  - job_name: 'backend'[m
[31m-    static_configs:[m
[31m-      - targets: ['backend:5000'][m
[31m-    [m
[31m-  - job_name: 'nginx'[m
[31m-    static_configs:[m
[31m-      - targets: ['nginx:9113'][m
[31m-    [m
[31m-  - job_name: 'mongodb'[m
[31m-    static_configs:[m
[31m-      - targets: ['mongodb-exporter:9216'][m
[31m-    [m
[31m-  - job_name: 'redis'[m
[31m-    static_configs:[m
[31m-      - targets: ['redis-exporter:9121'][m
\ No newline at end of file[m
[1mdiff --git a/nginx/nginx.conf b/nginx/nginx.conf[m
[1mdeleted file mode 100644[m
[1mindex c4e0fe4..0000000[m
[1m--- a/nginx/nginx.conf[m
[1m+++ /dev/null[m
[36m@@ -1,93 +0,0 @@[m
[31m-# nginx/nginx.conf[m
[31m-upstream backend {[m
[31m-    least_conn;[m
[31m-    server backend:5000 max_fails=3 fail_timeout=30s;[m
[31m-}[m
[31m-[m
[31m-# Rate limiting[m
[31m-limit_req_zone $binary_remote_addr zone=api_limit:10m rate=10r/s;[m
[31m-limit_req_zone $binary_remote_addr zone=auth_limit:10m rate=5r/m;[m
[31m-[m
[31m-server {[m
[31m-    listen 80;[m
[31m-    server_name your-domain.com;[m
[31m-[m
[31m-    # Redirect to HTTPS[m
[31m-    return 301 https://$server_name$request_uri;[m
[31m-}[m
[31m-[m
[31m-server {[m
[31m-    listen 443 ssl http2;[m
[31m-    server_name your-domain.com;[m
[31m-[m
[31m-    # SSL Configuration[m
[31m-    ssl_certificate /etc/nginx/ssl/cert.pem;[m
[31m-    ssl_certificate_key /etc/nginx/ssl/key.pem;[m
[31m-    ssl_protocols TLSv1.2 TLSv1.3;[m
[31m-    ssl_ciphers HIGH:!aNULL:!MD5;[m
[31m-    ssl_prefer_server_ciphers on;[m
[31m-[m
[31m-    # Security Headers[m
[31m-    add_header X-Frame-Options "SAMEORIGIN" always;[m
[31m-    add_header X-Content-Type-Options "nosniff" always;[m
[31m-    add_header X-XSS-Protection "1; mode=block" always;[m
[31m-    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;[m
[31m-[m
[31m-    # Frontend[m
[31m-    location / {[m
[31m-        root /usr/share/nginx/html;[m
[31m-        try_files $uri $uri/ /index.html;[m
[31m-        [m
[31m-        # Cache static assets[m
[31m-        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {[m
[31m-            expires 1y;[m
[31m-            add_header Cache-Control "public, immutable";[m
[31m-        }[m
[31m-    }[m
[31m-[m
[31m-    # API Proxy[m
[31m-    location /api/ {[m
[31m-        limit_req zone=api_limit burst=20 nodelay;[m
[31m-        [m
[31m-        proxy_pass http://backend;[m
[31m-        proxy_http_version 1.1;[m
[31m-        proxy_set_header Upgrade $http_upgrade;[m
[31m-        proxy_set_header Connection 'upgrade';[m
[31m-        proxy_set_header Host $host;[m
[31m-        proxy_set_header X-Real-IP $remote_addr;[m
[31m-        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;[m
[31m-        proxy_set_header X-Forwarded-Proto $scheme;[m
[31m-        proxy_cache_bypass $http_upgrade;[m
[31m-        [m
[31m-        # Timeouts[m
[31m-        proxy_connect_timeout 60s;[m
[31m-        proxy_send_timeout 60s;[m
[31m-        proxy_read_timeout 60s;[m
[31m-    }[m
[31m-[m
[31m-    # Auth endpoints - stricter rate limit[m
[31m-    location /api/v1/auth/ {[m
[31m-        limit_req zone=auth_limit burst=5 nodelay;[m
[31m-        [m
[31m-        proxy_pass http://backend;[m
[31m-        proxy_set_header Host $host;[m
[31m-        proxy_set_header X-Real-IP $remote_addr;[m
[31m-        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;[m
[31m-    }[m
[31m-[m
[31m-    # WebSocket support[m
[31m-    location /socket.io/ {[m
[31m-        proxy_pass http://backend;[m
[31m-        proxy_http_version 1.1;[m
[31m-        proxy_set_header Upgrade $http_upgrade;[m
[31m-        proxy_set_header Connection "upgrade";[m
[31m-        proxy_set_header Host $host;[m
[31m-    }[m
[31m-[m
[31m-    # Health check[m
[31m-    location /health {[m
[31m-        access_log off;[m
[31m-        return 200 "healthy\n";[m
[31m-        add_header Content-Type text/plain;[m
[31m-    }[m
[31m-}[m
[1mdiff --git "a/olve ai.service.js conflict - keep HTTP-based approach\357\200\242" "b/olve ai.service.js conflict - keep HTTP-based approach\357\200\242"[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/package.json b/package.json[m
[1mdeleted file mode 100644[m
[1mindex 8179076..0000000[m
[1m--- a/package.json[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-{[m
[31m-  "dependencies": {[m
[31m-    "rate-limit-redis": "^4.2.3"[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/scripts/backup.sh b/scripts/backup.sh[m
[1mdeleted file mode 100644[m
[1mindex b79fc2f..0000000[m
[1m--- a/scripts/backup.sh[m
[1m+++ /dev/null[m
[36m@@ -1,20 +0,0 @@[m
[31m-# scripts/backup.sh[m
[31m-#!/bin/bash[m
[31m-[m
[31m-BACKUP_DIR="/backups/mongodb"[m
[31m-DATE=$(date +%Y%m%d_%H%M%S)[m
[31m-[m
[31m-mkdir -p $BACKUP_DIR[m
[31m-[m
[31m-# Backup MongoDB[m
[31m-docker-compose -f docker-compose.prod.yml exec -T mongodb \[m
[31m-  mongodump --username $MONGO_USERNAME --password $MONGO_PASSWORD \[m
[31m-  --authenticationDatabase admin --archive > $BACKUP_DIR/backup_$DATE.archive[m
[31m-[m
[31m-# Compress[m
[31m-gzip $BACKUP_DIR/backup_$DATE.archive[m
[31m-[m
[31m-# Keep only last 7 days of backups[m
[31m-find $BACKUP_DIR -name "backup_*.archive.gz" -mtime +7 -delete[m
[31m-[m
[31m-echo "Backup completed: backup_$DATE.archive.gz"[m
\ No newline at end of file[m
[1mdiff --git a/scripts/deploy.sh b/scripts/deploy.sh[m
[1mdeleted file mode 100644[m
[1mindex aea7207..0000000[m
[1m--- a/scripts/deploy.sh[m
[1m+++ /dev/null[m
[36m@@ -1,26 +0,0 @@[m
[31m-# scripts/deploy.sh[m
[31m-#!/bin/bash[m
[31m-[m
[31m-set -e[m
[31m-[m
[31m-echo "üöÄ Starting ZenAI Production Deployment..."[m
[31m-[m
[31m-# Pull latest code[m
[31m-git pull origin main[m
[31m-[m
[31m-# Build and start services[m
[31m-docker-compose -f docker-compose.prod.yml build[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# Wait for services to be healthy[m
[31m-echo "‚è≥ Waiting for services to be healthy..."[m
[31m-sleep 30[m
[31m-[m
[31m-# Run database migrations[m
[31m-docker-compose -f docker-compose.prod.yml exec backend npm run migrate[m
[31m-[m
[31m-# Check health[m
[31m-echo "üè• Checking service health..."[m
[31m-curl -f http://localhost/health || exit 1[m
[31m-[m
[31m-echo "‚úÖ Deployment completed successfully!"[m
\ No newline at end of file[m
[1mdiff --git a/scripts/restore.sh b/scripts/restore.sh[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-ai-engine/.env.example b/zenai-ai-engine/.env.example[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-ai-engine/Dockerfile b/zenai-ai-engine/Dockerfile[m
[1mdeleted file mode 100644[m
[1mindex 997b15b..0000000[m
[1m--- a/zenai-ai-engine/Dockerfile[m
[1m+++ /dev/null[m
[36m@@ -1,37 +0,0 @@[m
[31m-# AI Engine Dockerfile[m
[31m-FROM node:18-alpine AS builder[m
[31m-[m
[31m-WORKDIR /app[m
[31m-[m
[31m-# Copy package files[m
[31m-COPY package*.json ./[m
[31m-[m
[31m-# Install dependencies[m
[31m-RUN npm ci --only=production && npm cache clean --force[m
[31m-[m
[31m-# Copy application files[m
[31m-COPY . .[m
[31m-[m
[31m-# Production stage[m
[31m-FROM node:18-alpine[m
[31m-[m
[31m-WORKDIR /app[m
[31m-[m
[31m-# Copy from builder[m
[31m-COPY --from=builder /app/node_modules ./node_modules[m
[31m-COPY --from=builder /app ./[m
[31m-[m
[31m-# Create non-root user[m
[31m-RUN addgroup -g 1001 -S nodejs && \[m
[31m-    adduser -S nodejs -u 1001 && \[m
[31m-    chown -R nodejs:nodejs /app[m
[31m-[m
[31m-USER nodejs[m
[31m-[m
[31m-EXPOSE 5001[m
[31m-[m
[31m-# Health check[m
[31m-HEALTHCHECK --interval=30s --timeout=3s --start-period=40s --retries=3 \[m
[31m-  CMD node -e "require('http').get('http://localhost:5001/health', (r) => {process.exit(r.statusCode === 200 ? 0 : 1)})"[m
[31m-[m
[31m-CMD ["node", "src/server.js"][m
[1mdiff --git a/zenai-ai-engine/package.json b/zenai-ai-engine/package.json[m
[1mdeleted file mode 100644[m
[1mindex c6e4d2d..0000000[m
[1m--- a/zenai-ai-engine/package.json[m
[1m+++ /dev/null[m
[36m@@ -1,29 +0,0 @@[m
[31m-{[m
[31m-  "name": "zenai-ai-engine",[m
[31m-  "version": "1.0.0",[m
[31m-  "description": "AI Engine for ZenAI platform",[m
[31m-  "type": "module",[m
[31m-  "main": "src/index.js",[m
[31m-  "scripts": {[m
[31m-    "start": "node src/index.js",[m
[31m-    "dev": "nodemon src/index.js"[m
[31m-  },[m
[31m-  "keywords": ["ai", "langchain", "openai"],[m
[31m-  "author": "",[m
[31m-  "license": "ISC",[m
[31m-  "dependencies": {[m
[31m-    "@langchain/anthropic": "^0.3.0",[m
[31m-    "@langchain/openai": "^0.3.0",[m
[31m-    "axios": "^1.6.2",[m
[31m-    "cors": "^2.8.5",[m
[31m-    "dotenv": "^16.3.1",[m
[31m-    "express": "^4.18.2",[m
[31m-    "helmet": "^7.1.0",[m
[31m-    "langchain": "^0.3.0",[m
[31m-    "openai": "^4.20.0",[m
[31m-    "winston": "^3.11.0"[m
[31m-  },[m
[31m-  "devDependencies": {[m
[31m-    "nodemon": "^3.0.1"[m
[31m-  }[m
[31m-}[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/agents/base.agent.js b/zenai-ai-engine/src/agents/base.agent.js[m
[1mdeleted file mode 100644[m
[1mindex 93ee1c3..0000000[m
[1m--- a/zenai-ai-engine/src/agents/base.agent.js[m
[1m+++ /dev/null[m
[36m@@ -1,97 +0,0 @@[m
[31m-// src/agents/base.agent.js[m
[31m-const { ChatOpenAI } = require('@langchain/openai');[m
[31m-const { ChatAnthropic } = require('@langchain/anthropic');[m
[31m-const { initializeAgentExecutorWithOptions } = require('langchain/agents');[m
[31m-const { BufferMemory } = require('langchain/memory');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class BaseAgent {[m
[31m-  constructor(config) {[m
[31m-    this.name = config.name || 'BaseAgent';[m
[31m-    this.description = config.description || '';[m
[31m-    this.model = this.initializeModel(config);[m
[31m-    this.memory = new BufferMemory({[m
[31m-      returnMessages: true,[m
[31m-      memoryKey: 'chat_history',[m
[31m-      inputKey: 'input',[m
[31m-      outputKey: 'output'[m
[31m-    });[m
[31m-    this.tools = config.tools || [];[m
[31m-    this.maxIterations = config.maxIterations || 5;[m
[31m-    this.verbose = config.verbose || false;[m
[31m-  }[m
[31m-[m
[31m-  initializeModel(config) {[m
[31m-    const modelType = config.modelType || 'openai';[m
[31m-    const temperature = config.temperature || 0.7;[m
[31m-    const maxTokens = config.maxTokens || 2000;[m
[31m-[m
[31m-    if (modelType === 'openai') {[m
[31m-      return new ChatOpenAI({[m
[31m-        modelName: config.modelName || process.env.OPENAI_MODEL,[m
[31m-        temperature,[m
[31m-        maxTokens,[m
[31m-        streaming: config.streaming || false[m
[31m-      });[m
[31m-    } else if (modelType === 'anthropic') {[m
[31m-      return new ChatAnthropic({[m
[31m-        modelName: config.modelName || process.env.ANTHROPIC_MODEL,[m
[31m-        temperature,[m
[31m-        maxTokens,[m
[31m-        streaming: config.streaming || false[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    throw new Error(`Unsupported model type: ${modelType}`);[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    this.executor = await initializeAgentExecutorWithOptions([m
[31m-      this.tools,[m
[31m-      this.model,[m
[31m-      {[m
[31m-        agentType: 'openai-functions',[m
[31m-        memory: this.memory,[m
[31m-        maxIterations: this.maxIterations,[m
[31m-        verbose: this.verbose[m
[31m-      }[m
[31m-    );[m
[31m-  }[m
[31m-[m
[31m-  async run(input, context = {}) {[m
[31m-    try {[m
[31m-      logger.info(`${this.name} executing with input: ${input.substring(0, 100)}...`);[m
[31m-[m
[31m-      const result = await this.executor.call({[m
[31m-        input,[m
[31m-        ...context[m
[31m-      });[m
[31m-[m
[31m-      logger.info(`${this.name} completed successfully`);[m
[31m-      return result.output;[m
[31m-    } catch (error) {[m
[31m-      logger.error(`${this.name} error: ${error.message}`);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async chat(message, conversationId) {[m
[31m-    // Streaming chat implementation[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: message }[m
[31m-    ]);[m
[31m-[m
[31m-    return response.content;[m
[31m-  }[m
[31m-[m
[31m-  getSystemPrompt() {[m
[31m-    return `You are ${this.name}. ${this.description}`;[m
[31m-  }[m
[31m-[m
[31m-  clearMemory() {[m
[31m-    this.memory.clear();[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = BaseAgent;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/agents/code-reviewer.agent.js b/zenai-ai-engine/src/agents/code-reviewer.agent.js[m
[1mdeleted file mode 100644[m
[1mindex c4a11c7..0000000[m
[1m--- a/zenai-ai-engine/src/agents/code-reviewer.agent.js[m
[1m+++ /dev/null[m
[36m@@ -1,150 +0,0 @@[m
[31m-const BaseAgent = require('./base.agent');[m
[31m-const { DynamicTool } = require('langchain/tools');[m
[31m-[m
[31m-class CodeReviewerAgent extends BaseAgent {[m
[31m-  constructor() {[m
[31m-    const tools = [[m
[31m-      new DynamicTool({[m
[31m-        name: 'analyze_code',[m
[31m-        description: 'Analyze code for bugs, security issues, and best practices',[m
[31m-        func: async (code) => {[m
[31m-          return `Code analysis complete for ${code.length} characters`;[m
[31m-        }[m
[31m-      }),[m
[31m-      new DynamicTool({[m
[31m-        name: 'suggest_improvements',[m
[31m-        description: 'Suggest code improvements and refactoring',[m
[31m-        func: async (input) => {[m
[31m-          return 'Improvement suggestions generated';[m
[31m-        }[m
[31m-      })[m
[31m-    ];[m
[31m-[m
[31m-    super({[m
[31m-      name: 'CodeReviewerAgent',[m
[31m-      description: 'Expert code reviewer for quality, security, and best practices',[m
[31m-      tools,[m
[31m-      modelType: 'openai',[m
[31m-      temperature: 0.3,[m
[31m-      maxIterations: 5[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  getSystemPrompt() {[m
[31m-    return `You are an expert code reviewer with deep knowledge of:[m
[31m-- Software architecture patterns[m
[31m-- Security vulnerabilities (OWASP Top 10)[m
[31m-- Performance optimization[m
[31m-- Code quality and maintainability[m
[31m-- Testing best practices[m
[31m-- Language-specific idioms[m
[31m-[m
[31m-**Review Focus:**[m
[31m-- Bugs and logic errors[m
[31m-- Security vulnerabilities[m
[31m-- Performance issues[m
[31m-- Code smells[m
[31m-- Best practice violations[m
[31m-- Test coverage gaps[m
[31m-[m
[31m-**Output Format:**[m
[31m-Provide structured feedback with:[m
[31m-1. Severity (critical/high/medium/low)[m
[31m-2. Issue description[m
[31m-3. Suggested fix[m
[31m-4. Code example[m
[31m-[m
[31m-Be constructive and educational in your feedback.`;[m
[31m-  }[m
[31m-[m
[31m-  async reviewCode(code, language, context = {}) {[m
[31m-    const prompt = `Review this ${language} code:[m
[31m-[m
[31m-\`\`\`${language}[m
[31m-${code}[m
[31m-\`\`\`[m
[31m-[m
[31m-Context: ${context.description || 'General code review'}[m
[31m-[m
[31m-Provide comprehensive review in JSON format:[m
[31m-{[m
[31m-  "overall_score": 0-100,[m
[31m-  "issues": [[m
[31m-    {[m
[31m-      "severity": "critical|high|medium|low",[m
[31m-      "type": "bug|security|performance|style",[m
[31m-      "line": number,[m
[31m-      "description": "Issue description",[m
[31m-      "suggestion": "How to fix",[m
[31m-      "example": "Code example"[m
[31m-    }[m
[31m-  ],[m
[31m-  "strengths": ["strength1", "strength2"],[m
[31m-  "recommendations": ["rec1", "rec2"][m
[31m-}`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-[m
[31m-  async suggestRefactoring(code, language) {[m
[31m-    const prompt = `Suggest refactoring for this ${language} code:[m
[31m-[m
[31m-\`\`\`${language}[m
[31m-${code}[m
[31m-\`\`\`[m
[31m-[m
[31m-Return JSON:[m
[31m-{[m
[31m-  "refactored_code": "improved version",[m
[31m-  "changes": [[m
[31m-    {[m
[31m-      "type": "extract method|rename|simplify",[m
[31m-      "reason": "Why this change",[m
[31m-      "before": "old code",[m
[31m-      "after": "new code"[m
[31m-    }[m
[31m-  ],[m
[31m-  "impact": "low|medium|high"[m
[31m-}`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-[m
[31m-  async detectSecurityIssues(code, language) {[m
[31m-    const prompt = `Analyze for security vulnerabilities:[m
[31m-[m
[31m-\`\`\`${language}[m
[31m-${code}[m
[31m-\`\`\`[m
[31m-[m
[31m-Return JSON array of security issues:[m
[31m-[{[m
[31m-  "vulnerability": "SQL Injection|XSS|etc",[m
[31m-  "severity": "critical|high|medium|low",[m
[31m-  "location": "line number or function",[m
[31m-  "description": "detailed explanation",[m
[31m-  "exploit_scenario": "how it could be exploited",[m
[31m-  "fix": "how to fix it",[m
[31m-  "cwe_id": "CWE number if applicable"[m
[31m-}]`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = CodeReviewerAgent;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/agents/meeting-summarizer.agent.js b/zenai-ai-engine/src/agents/meeting-summarizer.agent.js[m
[1mdeleted file mode 100644[m
[1mindex 85d8398..0000000[m
[1m--- a/zenai-ai-engine/src/agents/meeting-summarizer.agent.js[m
[1m+++ /dev/null[m
[36m@@ -1,140 +0,0 @@[m
[31m-// src/agents/meeting-summarizer.agent.js[m
[31m-const BaseAgent = require('./base.agent');[m
[31m-const WhisperService = require('../whisper/transcription.service');[m
[31m-[m
[31m-class MeetingSummarizerAgent extends BaseAgent {[m
[31m-  constructor() {[m
[31m-    super({[m
[31m-      name: 'MeetingSummarizerAgent',[m
[31m-      description: 'Transcribes meetings and generates summaries with action items',[m
[31m-      modelType: 'openai',[m
[31m-      temperature: 0.3,[m
[31m-      maxTokens: 3000[m
[31m-    });[m
[31m-[m
[31m-    this.whisperService = new WhisperService();[m
[31m-  }[m
[31m-[m
[31m-  getSystemPrompt() {[m
[31m-    return `You are an expert meeting summarizer. You analyze meeting transcripts to:[m
[31m-- Extract key discussion points[m
[31m-- Identify decisions made[m
[31m-- List action items with owners[m
[31m-- Capture important questions and blockers[m
[31m-- Provide concise executive summary[m
[31m-[m
[31m-Format your summaries professionally and highlight critical information.`;[m
[31m-  }[m
[31m-[m
[31m-  async transcribeAndSummarize(audioFilePath, meetingContext = {}) {[m
[31m-    try {[m
[31m-      // Step 1: Transcribe audio using Whisper[m
[31m-      console.log('Transcribing audio...');[m
[31m-      const transcription = await this.whisperService.transcribe(audioFilePath);[m
[31m-[m
[31m-      // Step 2: Generate summary[m
[31m-      console.log('Generating summary...');[m
[31m-      const summary = await this.generateSummary(transcription, meetingContext);[m
[31m-[m
[31m-      // Step 3: Extract action items[m
[31m-      console.log('Extracting action items...');[m
[31m-      const actionItems = await this.extractActionItems(transcription);[m
[31m-[m
[31m-      return {[m
[31m-        transcription,[m
[31m-        summary,[m
[31m-        actionItems,[m
[31m-        metadata: {[m
[31m-          duration: transcription.duration,[m
[31m-          participants: meetingContext.participants || [],[m
[31m-          date: new Date().toISOString()[m
[31m-        }[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Meeting summarization error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async generateSummary(transcription, context) {[m
[31m-    const prompt = `Analyze this meeting transcript and provide a comprehensive summary:[m
[31m-[m
[31m-Meeting: ${context.title || 'Team Meeting'}[m
[31m-Date: ${context.date || new Date().toISOString()}[m
[31m-Participants: ${context.participants?.join(', ') || 'N/A'}[m
[31m-[m
[31m-Transcript:[m
[31m-${transcription.text}[m
[31m-[m
[31m-Generate a structured summary:[m
[31m-{[m
[31m-  "executiveSummary": "2-3 sentence overview",[m
[31m-  "keyPoints": ["point1", "point2", "point3"],[m
[31m-  "decisions": ["decision1", "decision2"],[m
[31m-  "nextSteps": ["step1", "step2"],[m
[31m-  "questions": ["question1"],[m
[31m-  "blockers": ["blocker1"][m
[31m-}`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-[m
[31m-  async extractActionItems(transcription) {[m
[31m-    const prompt = `Extract all action items from this transcript:[m
[31m-[m
[31m-${transcription.text}[m
[31m-[m
[31m-For each action item, identify:[m
[31m-- What needs to be done[m
[31m-- Who is responsible (if mentioned)[m
[31m-- When it's due (if mentioned)[m
[31m-- Priority level[m
[31m-[m
[31m-Return JSON:[m
[31m-[{[m
[31m-  "action": "Description of action",[m
[31m-  "owner": "Person name or null",[m
[31m-  "dueDate": "Date or null",[m
[31m-  "priority": "high|medium|low",[m
[31m-  "context": "Brief context"[m
[31m-}]`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-[m
[31m-  async generateMeetingReport(summaryData) {[m
[31m-    const prompt = `Create a professional meeting report:[m
[31m-[m
[31m-${JSON.stringify(summaryData, null, 2)}[m
[31m-[m
[31m-Generate a well-formatted markdown report with sections:[m
[31m-- Meeting Overview[m
[31m-- Executive Summary[m
[31m-- Key Discussion Points[m
[31m-- Decisions Made[m
[31m-- Action Items (table format)[m
[31m-- Next Steps[m
[31m-- Open Questions & Blockers[m
[31m-[m
[31m-Make it professional and ready to share.`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return response.content;[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = MeetingSummarizerAgent;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/agents/orchestrator.agent.js b/zenai-ai-engine/src/agents/orchestrator.agent.js[m
[1mdeleted file mode 100644[m
[1mindex 906fc80..0000000[m
[1m--- a/zenai-ai-engine/src/agents/orchestrator.agent.js[m
[1m+++ /dev/null[m
[36m@@ -1,214 +0,0 @@[m
[31m-const BaseAgent = require('./base.agent');[m
[31m-const ProductManagerAgent = require('./product-manager.agent');[m
[31m-const TaskAnalyzerAgent = require('./task-analyzer.agent');[m
[31m-const CodeReviewerAgent = require('./code-reviewer.agent');[m
[31m-const MeetingSummarizerAgent = require('./meeting-summarizer.agent');[m
[31m-[m
[31m-class OrchestratorAgent extends BaseAgent {[m
[31m-  constructor() {[m
[31m-    super({[m
[31m-      name: 'OrchestratorAgent',[m
[31m-      description: 'Orchestrates multiple AI agents to handle complex tasks',[m
[31m-      modelType: 'openai',[m
[31m-      temperature: 0.7,[m
[31m-      maxIterations: 10[m
[31m-    });[m
[31m-[m
[31m-    this.agents = {[m
[31m-      productManager: new ProductManagerAgent(),[m
[31m-      taskAnalyzer: new TaskAnalyzerAgent(),[m
[31m-      codeReviewer: new CodeReviewerAgent(),[m
[31m-      meetingSummarizer: new MeetingSummarizerAgent()[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    await super.initialize();[m
[31m-    [m
[31m-    // Initialize all sub-agents[m
[31m-    await Promise.all([[m
[31m-      this.agents.productManager.initialize(),[m
[31m-      this.agents.taskAnalyzer.initialize()[m
[31m-    ]);[m
[31m-  }[m
[31m-[m
[31m-  getSystemPrompt() {[m
[31m-    return `You are an AI Orchestrator that coordinates multiple specialized agents:[m
[31m-[m
[31m-**Available Agents:**[m
[31m-1. ProductManager - Project planning, task creation, prioritization[m
[31m-2. TaskAnalyzer - Task complexity analysis, effort estimation[m
[31m-3. CodeReviewer - Code quality, security, best practices[m
[31m-4. MeetingSummarizer - Meeting transcription and action items[m
[31m-[m
[31m-**Your Role:**[m
[31m-- Analyze user requests[m
[31m-- Determine which agent(s) to use[m
[31m-- Coordinate multi-agent workflows[m
[31m-- Synthesize results into coherent responses[m
[31m-[m
[31m-**Decision Process:**[m
[31m-1. Understand the user's goal[m
[31m-2. Break down complex requests[m
[31m-3. Route to appropriate agents[m
[31m-4. Combine outputs intelligently[m
[31m-[m
[31m-Always be efficient and choose the minimum number of agents needed.`;[m
[31m-  }[m
[31m-[m
[31m-  async routeRequest(request, context = {}) {[m
[31m-    const routingPrompt = `Analyze this request and determine which agent(s) to use:[m
[31m-[m
[31m-Request: "${request}"[m
[31m-Context: ${JSON.stringify(context)}[m
[31m-[m
[31m-Return JSON:[m
[31m-{[m
[31m-  "agents": ["agent_name"],[m
[31m-  "workflow": "sequential|parallel",[m
[31m-  "reasoning": "why these agents",[m
[31m-  "expected_output": "what we'll get"[m
[31m-}[m
[31m-[m
[31m-Available agents: productManager, taskAnalyzer, codeReviewer, meetingSummarizer`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: routingPrompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-[m
[31m-  async execute(request, context = {}) {[m
[31m-    try {[m
[31m-      // Route the request[m
[31m-      const routing = await this.routeRequest(request, context);[m
[31m-      [m
[31m-      const results = {};[m
[31m-[m
[31m-      if (routing.workflow === 'sequential') {[m
[31m-        // Execute agents sequentially[m
[31m-        for (const agentName of routing.agents) {[m
[31m-          const agent = this.agents[agentName];[m
[31m-          if (agent) {[m
[31m-            results[agentName] = await agent.run(request, {[m
[31m-              ...context,[m
[31m-              previousResults: results[m
[31m-            });[m
[31m-          }[m
[31m-        }[m
[31m-      } else {[m
[31m-        // Execute agents in parallel[m
[31m-        const promises = routing.agents.map(async (agentName) => {[m
[31m-          const agent = this.agents[agentName];[m
[31m-          if (agent) {[m
[31m-            return { [agentName]: await agent.run(request, context) };[m
[31m-          }[m
[31m-        });[m
[31m-[m
[31m-        const parallelResults = await Promise.all(promises);[m
[31m-        parallelResults.forEach(result => Object.assign(results, result));[m
[31m-      }[m
[31m-[m
[31m-      // Synthesize results[m
[31m-      const synthesis = await this.synthesizeResults(request, results, routing);[m
[31m-[m
[31m-      return {[m
[31m-        routing,[m
[31m-        agentResults: results,[m
[31m-        finalResponse: synthesis[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Orchestrator execution error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async synthesizeResults(request, results, routing) {[m
[31m-    const synthesisPrompt = `Synthesize these agent results into a coherent response:[m
[31m-[m
[31m-Original Request: "${request}"[m
[31m-[m
[31m-Agent Results:[m
[31m-${JSON.stringify(results, null, 2)}[m
[31m-[m
[31m-Create a unified, helpful response that addresses the user's request.`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: synthesisPrompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return response.content;[m
[31m-  }[m
[31m-[m
[31m-  async handleComplexWorkflow(request, context = {}) {[m
[31m-    // Example: "Create a project plan, analyze tasks, and review code quality"[m
[31m-    const steps = await this.breakdownWorkflow(request);[m
[31m-    [m
[31m-    const workflowResults = [];[m
[31m-[m
[31m-    for (const step of steps) {[m
[31m-      const result = await this.execute(step.action, {[m
[31m-        ...context,[m
[31m-        step: step.order,[m
[31m-        previousSteps: workflowResults[m
[31m-      });[m
[31m-[m
[31m-      workflowResults.push({[m
[31m-        step: step.order,[m
[31m-        action: step.action,[m
[31m-        result[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    return {[m
[31m-      workflow: steps,[m
[31m-      results: workflowResults,[m
[31m-      summary: await this.summarizeWorkflow(workflowResults)[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  async breakdownWorkflow(request) {[m
[31m-    const prompt = `Break down this complex request into sequential steps:[m
[31m-[m
[31m-Request: "${request}"[m
[31m-[m
[31m-Return JSON array:[m
[31m-[{[m
[31m-  "order": 1,[m
[31m-  "action": "specific action",[m
[31m-  "agent": "agent to use",[m
[31m-  "dependencies": [][m
[31m-}]`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-[m
[31m-  async summarizeWorkflow(workflowResults) {[m
[31m-    const prompt = `Summarize this workflow execution:[m
[31m-[m
[31m-${JSON.stringify(workflowResults, null, 2)}[m
[31m-[m
[31m-Provide:[m
[31m-- What was accomplished[m
[31m-- Key findings[m
[31m-- Recommendations[m
[31m-- Next steps`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return response.content;[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = OrchestratorAgent;[m
[1mdiff --git a/zenai-ai-engine/src/agents/product-manager.agent.js b/zenai-ai-engine/src/agents/product-manager.agent.js[m
[1mdeleted file mode 100644[m
[1mindex a28525d..0000000[m
[1m--- a/zenai-ai-engine/src/agents/product-manager.agent.js[m
[1m+++ /dev/null[m
[36m@@ -1,159 +0,0 @@[m
[31m-// src/agents/product-manager.agent.js[m
[31m-const BaseAgent = require('./base.agent');[m
[31m-const { DynamicTool } = require('langchain/tools');[m
[31m-[m
[31m-class ProductManagerAgent extends BaseAgent {[m
[31m-  constructor() {[m
[31m-    const tools = [[m
[31m-      new DynamicTool({[m
[31m-        name: 'create_task',[m
[31m-        description: 'Create a new task in the project management system',[m
[31m-        func: async (input) => {[m
[31m-          const taskData = JSON.parse(input);[m
[31m-          // Call your API to create task[m
[31m-          return `Task created: ${taskData.title}`;[m
[31m-        }[m
[31m-      }),[m
[31m-      new DynamicTool({[m
[31m-        name: 'analyze_project',[m
[31m-        description: 'Analyze project health and provide insights',[m
[31m-        func: async (projectId) => {[m
[31m-          // Analyze project metrics[m
[31m-          return `Project analysis complete for ${projectId}`;[m
[31m-        }[m
[31m-      }),[m
[31m-      new DynamicTool({[m
[31m-        name: 'prioritize_tasks',[m
[31m-        description: 'Prioritize tasks based on urgency and importance',[m
[31m-        func: async (input) => {[m
[31m-          const tasks = JSON.parse(input);[m
[31m-          // Implement prioritization logic[m
[31m-          return `Tasks prioritized: ${tasks.length} items`;[m
[31m-        }[m
[31m-      })[m
[31m-    ];[m
[31m-[m
[31m-    super({[m
[31m-      name: 'ProductManagerAgent',[m
[31m-      description: 'An AI Product Manager that helps organize projects, create tasks, and provide strategic insights',[m
[31m-      tools,[m
[31m-      modelType: 'openai',[m
[31m-      temperature: 0.7,[m
[31m-      maxIterations: 5,[m
[31m-      verbose: true[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  getSystemPrompt() {[m
[31m-    return `You are an expert AI Product Manager for ZenAI platform. Your responsibilities include:[m
[31m-[m
[31m-**Core Capabilities:**[m
[31m-- Creating and managing tasks and projects[m
[31m-- Analyzing project health and providing actionable insights[m
[31m-- Prioritizing work based on business impact[m
[31m-- Breaking down complex projects into manageable tasks[m
[31m-- Suggesting improvements to workflow efficiency[m
[31m-- Identifying bottlenecks and risks[m
[31m-[m
[31m-**Communication Style:**[m
[31m-- Professional yet friendly[m
[31m-- Data-driven decision making[m
[31m-- Proactive problem solving[m
[31m-- Clear and concise explanations[m
[31m-- Use emojis occasionally for engagement[m
[31m-[m
[31m-**Available Actions:**[m
[31m-- create_task: Create new tasks with proper structure[m
[31m-- analyze_project: Deep dive into project metrics[m
[31m-- prioritize_tasks: Smart task prioritization[m
[31m-[m
[31m-Always provide actionable recommendations and be proactive in identifying issues.`;[m
[31m-  }[m
[31m-[m
[31m-  async createTaskFromDescription(description, projectId) {[m
[31m-    const prompt = `Based on this description, create a structured task:[m
[31m-    [m
[31m-Description: "${description}"[m
[31m-Project ID: ${projectId}[m
[31m-[m
[31m-Extract and return JSON with:[m
[31m-- title (concise, action-oriented)[m
[31m-- description (detailed)[m
[31m-- priority (low/medium/high/urgent)[m
[31m-- estimatedTime (in hours)[m
[31m-- tags (relevant tags)[m
[31m-- suggestedAssignee (if mentioned)[m
[31m-[m
[31m-Return only valid JSON.`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    try {[m
[31m-      return JSON.parse(response.content);[m
[31m-    } catch (error) {[m
[31m-      logger.error('Failed to parse task JSON:', error);[m
[31m-      throw new Error('Invalid task structure generated');[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async analyzeProjectHealth(projectData, tasks) {[m
[31m-    const prompt = `Analyze this project and provide insights:[m
[31m-[m
[31m-Project: ${projectData.name}[m
[31m-Status: ${projectData.status}[m
[31m-Deadline: ${projectData.deadline}[m
[31m-Total Tasks: ${tasks.length}[m
[31m-Completed: ${tasks.filter(t => t.status === 'done').length}[m
[31m-In Progress: ${tasks.filter(t => t.status === 'in-progress').length}[m
[31m-Overdue: ${tasks.filter(t => new Date(t.dueDate) < new Date()).length}[m
[31m-[m
[31m-Provide analysis in JSON format:[m
[31m-{[m
[31m-  "healthScore": 0-100,[m
[31m-  "status": "healthy|at-risk|critical",[m
[31m-  "insights": ["insight1", "insight2"],[m
[31m-  "risks": ["risk1", "risk2"],[m
[31m-  "recommendations": ["action1", "action2"][m
[31m-}`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-[m
[31m-  async suggestTaskBreakdown(epicTask) {[m
[31m-    const prompt = `Break down this epic into smaller, actionable tasks:[m
[31m-[m
[31m-Epic: ${epicTask.title}[m
[31m-Description: ${epicTask.description}[m
[31m-[m
[31m-Create 3-7 subtasks that are:[m
[31m-- Specific and actionable[m
[31m-- Can be completed in 1-3 days[m
[31m-- Have clear acceptance criteria[m
[31m-[m
[31m-Return JSON array:[m
[31m-[{[m
[31m-  "title": "Task title",[m
[31m-  "description": "What needs to be done",[m
[31m-  "estimatedTime": 4,[m
[31m-  "priority": "medium",[m
[31m-  "dependencies": [][m
[31m-}]`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = ProductManagerAgent;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/agents/task-analyzer.agent.js b/zenai-ai-engine/src/agents/task-analyzer.agent.js[m
[1mdeleted file mode 100644[m
[1mindex 07ee794..0000000[m
[1m--- a/zenai-ai-engine/src/agents/task-analyzer.agent.js[m
[1m+++ /dev/null[m
[36m@@ -1,100 +0,0 @@[m
[31m-// src/agents/task-analyzer.agent.js[m
[31m-const BaseAgent = require('./base.agent');[m
[31m-const { DynamicTool } = require('langchain/tools');[m
[31m-[m
[31m-class TaskAnalyzerAgent extends BaseAgent {[m
[31m-  constructor() {[m
[31m-    const tools = [[m
[31m-      new DynamicTool({[m
[31m-        name: 'estimate_complexity',[m
[31m-        description: 'Estimate task complexity on a scale of 1-10',[m
[31m-        func: async (taskDescription) => {[m
[31m-          // Complexity estimation logic[m
[31m-          return 'Complexity score: 7/10';[m
[31m-        }[m
[31m-      }),[m
[31m-      new DynamicTool({[m
[31m-        name: 'suggest_dependencies',[m
[31m-        description: 'Identify task dependencies',[m
[31m-        func: async (input) => {[m
[31m-          // Dependency analysis[m
[31m-          return 'Dependencies identified';[m
[31m-        }[m
[31m-      })[m
[31m-    ];[m
[31m-[m
[31m-    super({[m
[31m-      name: 'TaskAnalyzerAgent',[m
[31m-      description: 'Analyzes tasks for complexity, dependencies, and optimal execution',[m
[31m-      tools,[m
[31m-      modelType: 'openai',[m
[31m-      temperature: 0.3, // Lower temperature for analytical tasks[m
[31m-      maxIterations: 3[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  getSystemPrompt() {[m
[31m-    return `You are a Task Analysis Expert. You analyze software development and project tasks to:[m
[31m-- Estimate complexity and effort[m
[31m-- Identify dependencies and blockers[m
[31m-- Suggest optimal execution strategies[m
[31m-- Flag potential risks[m
[31m-- Recommend skill requirements[m
[31m-[m
[31m-Be precise and data-driven in your analysis.`;[m
[31m-  }[m
[31m-[m
[31m-  async analyzeTask(task, projectContext) {[m
[31m-    const prompt = `Analyze this task in detail:[m
[31m-[m
[31m-Task: ${task.title}[m
[31m-Description: ${task.description}[m
[31m-Project Context: ${projectContext}[m
[31m-[m
[31m-Provide comprehensive analysis:[m
[31m-{[m
[31m-  "complexityScore": 1-10,[m
[31m-  "estimatedHours": number,[m
[31m-  "skillsRequired": ["skill1", "skill2"],[m
[31m-  "dependencies": ["dep1", "dep2"],[m
[31m-  "risks": ["risk1"],[m
[31m-  "recommendations": ["rec1"],[m
[31m-  "blockers": ["blocker1"][m
[31m-}`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-[m
[31m-  async estimateEffort(tasks) {[m
[31m-    const taskDescriptions = tasks.map(t => [m
[31m-      `- ${t.title}: ${t.description}`[m
[31m-    ).join('\n');[m
[31m-[m
[31m-    const prompt = `Estimate effort for these tasks:[m
[31m-[m
[31m-${taskDescriptions}[m
[31m-[m
[31m-Return JSON:[m
[31m-{[m
[31m-  "totalHours": number,[m
[31m-  "taskEstimates": [[m
[31m-    {"taskId": "id", "hours": number, "confidence": "high|medium|low"}[m
[31m-  ],[m
[31m-  "criticalPath": ["taskId1", "taskId2"][m
[31m-}`;[m
[31m-[m
[31m-    const response = await this.model.call([[m
[31m-      { role: 'system', content: this.getSystemPrompt() },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ]);[m
[31m-[m
[31m-    return JSON.parse(response.content);[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = TaskAnalyzerAgent;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/chains/code-review.chain.js b/zenai-ai-engine/src/chains/code-review.chain.js[m
[1mdeleted file mode 100644[m
[1mindex 1e87e03..0000000[m
[1m--- a/zenai-ai-engine/src/chains/code-review.chain.js[m
[1m+++ /dev/null[m
[36m@@ -1,57 +0,0 @@[m
[31m-const { LLMChain } = require('langchain/chains');[m
[31m-const { ChatOpenAI } = require('@langchain/openai');[m
[31m-const { PromptTemplate } = require('langchain/prompts');[m
[31m-[m
[31m-class CodeReviewChain {[m
[31m-  constructor() {[m
[31m-    this.model = new ChatOpenAI({[m
[31m-      modelName: process.env.OPENAI_MODEL || 'gpt-4',[m
[31m-      temperature: 0.2[m
[31m-    });[m
[31m-[m
[31m-    this.promptTemplate = new PromptTemplate({[m
[31m-      template: `You are an expert code reviewer. Review this code thoroughly.[m
[31m-[m
[31m-Language: {language}[m
[31m-Context: {context}[m
[31m-[m
[31m-Code:[m
[31m-\`\`\`{language}[m
[31m-{code}[m
[31m-\`\`\`[m
[31m-[m
[31m-Provide detailed review covering:[m
[31m-1. Code quality and maintainability[m
[31m-2. Potential bugs and issues[m
[31m-3. Security vulnerabilities[m
[31m-4. Performance concerns[m
[31m-5. Best practice violations[m
[31m-6. Suggestions for improvement[m
[31m-[m
[31m-Format as structured JSON with issues array.`,[m
[31m-      inputVariables: ['code', 'language', 'context'][m
[31m-    });[m
[31m-[m
[31m-    this.chain = new LLMChain({[m
[31m-      llm: this.model,[m
[31m-      prompt: this.promptTemplate[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  async review(code, language, context = '') {[m
[31m-    try {[m
[31m-      const result = await this.chain.call({[m
[31m-        code,[m
[31m-        language,[m
[31m-        context[m
[31m-      });[m
[31m-[m
[31m-      return JSON.parse(result.text);[m
[31m-    } catch (error) {[m
[31m-      logger.error('Code review chain error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = CodeReviewChain;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/chains/meeting-summary.chain.js b/zenai-ai-engine/src/chains/meeting-summary.chain.js[m
[1mdeleted file mode 100644[m
[1mindex d978106..0000000[m
[1m--- a/zenai-ai-engine/src/chains/meeting-summary.chain.js[m
[1m+++ /dev/null[m
[36m@@ -1,57 +0,0 @@[m
[31m-const { LLMChain } = require('langchain/chains');[m
[31m-const { ChatOpenAI } = require('@langchain/openai');[m
[31m-const { PromptTemplate } = require('langchain/prompts');[m
[31m-[m
[31m-class MeetingSummaryChain {[m
[31m-  constructor() {[m
[31m-    this.model = new ChatOpenAI({[m
[31m-      modelName: process.env.OPENAI_MODEL || 'gpt-4',[m
[31m-      temperature: 0.3[m
[31m-    });[m
[31m-[m
[31m-    this.promptTemplate = new PromptTemplate({[m
[31m-      template: `Analyze this meeting transcript and create a comprehensive summary.[m
[31m-[m
[31m-Meeting: {title}[m
[31m-Date: {date}[m
[31m-Participants: {participants}[m
[31m-[m
[31m-Transcript:[m
[31m-{transcript}[m
[31m-[m
[31m-Provide structured summary with:[m
[31m-1. Executive Summary (2-3 sentences)[m
[31m-2. Key Discussion Points[m
[31m-3. Decisions Made[m
[31m-4. Action Items (with owners and due dates)[m
[31m-5. Questions and Concerns[m
[31m-6. Next Steps[m
[31m-[m
[31m-Format as JSON.`,[m
[31m-      inputVariables: ['title', 'date', 'participants', 'transcript'][m
[31m-    });[m
[31m-[m
[31m-    this.chain = new LLMChain({[m
[31m-      llm: this.model,[m
[31m-      prompt: this.promptTemplate[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  async summarize(meetingData) {[m
[31m-    try {[m
[31m-      const result = await this.chain.call({[m
[31m-        title: meetingData.title || 'Meeting',[m
[31m-        date: meetingData.date || new Date().toISOString(),[m
[31m-        participants: meetingData.participants?.join(', ') || 'N/A',[m
[31m-        transcript: meetingData.transcript[m
[31m-      });[m
[31m-[m
[31m-      return JSON.parse(result.text);[m
[31m-    } catch (error) {[m
[31m-      logger.error('Meeting summary chain error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = MeetingSummaryChain;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/chains/project-analysis.chain.js b/zenai-ai-engine/src/chains/project-analysis.chain.js[m
[1mdeleted file mode 100644[m
[1mindex 2f03284..0000000[m
[1m--- a/zenai-ai-engine/src/chains/project-analysis.chain.js[m
[1m+++ /dev/null[m
[36m@@ -1,66 +0,0 @@[m
[31m-const { LLMChain } = require('langchain/chains');[m
[31m-const { ChatOpenAI } = require('@langchain/openai');[m
[31m-const { PromptTemplate } = require('langchain/prompts');[m
[31m-const { StructuredOutputParser } = require('langchain/output_parsers');[m
[31m-[m
[31m-class ProjectAnalysisChain {[m
[31m-  constructor() {[m
[31m-    this.model = new ChatOpenAI({[m
[31m-      modelName: process.env.OPENAI_MODEL || 'gpt-4',[m
[31m-      temperature: 0.3[m
[31m-    });[m
[31m-[m
[31m-    this.outputParser = StructuredOutputParser.fromNamesAndDescriptions({[m
[31m-      health_score: 'Overall project health score 0-100',[m
[31m-      status: 'Current status: healthy, at-risk, or critical',[m
[31m-      velocity: 'Team velocity assessment',[m
[31m-      blockers: 'Identified blockers',[m
[31m-      risks: 'Potential risks',[m
[31m-      recommendations: 'Actionable recommendations',[m
[31m-      predicted_completion: 'Estimated completion date'[m
[31m-    });[m
[31m-[m
[31m-    this.promptTemplate = new PromptTemplate({[m
[31m-      template: `You are a project management expert analyzing project health.[m
[31m-[m
[31m-Project Data:[m
[31m-{projectData}[m
[31m-[m
[31m-Tasks Data:[m
[31m-{tasksData}[m
[31m-[m
[31m-Team Data:[m
[31m-{teamData}[m
[31m-[m
[31m-Provide comprehensive analysis:[m
[31m-{format_instructions}`,[m
[31m-      inputVariables: ['projectData', 'tasksData', 'teamData'],[m
[31m-      partialVariables: {[m
[31m-        format_instructions: this.outputParser.getFormatInstructions()[m
[31m-      }[m
[31m-    });[m
[31m-[m
[31m-    this.chain = new LLMChain({[m
[31m-      llm: this.model,[m
[31m-      prompt: this.promptTemplate,[m
[31m-      outputParser: this.outputParser[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  async analyze(projectData, tasksData, teamData) {[m
[31m-    try {[m
[31m-      const result = await this.chain.call({[m
[31m-        projectData: JSON.stringify(projectData),[m
[31m-        tasksData: JSON.stringify(tasksData),[m
[31m-        teamData: JSON.stringify(teamData)[m
[31m-      });[m
[31m-[m
[31m-      return result.text;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Project analysis chain error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = ProjectAnalysisChain;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/chains/task-creation.chain.js b/zenai-ai-engine/src/chains/task-creation.chain.js[m
[1mdeleted file mode 100644[m
[1mindex ec2613e..0000000[m
[1m--- a/zenai-ai-engine/src/chains/task-creation.chain.js[m
[1m+++ /dev/null[m
[36m@@ -1,61 +0,0 @@[m
[31m-// src/chains/task-creation.chain.js[m
[31m-const { LLMChain } = require('langchain/chains');[m
[31m-const { ChatOpenAI } = require('@langchain/openai');[m
[31m-const { PromptTemplate } = require('langchain/prompts');[m
[31m-const { StructuredOutputParser } = require('langchain/output_parsers');[m
[31m-[m
[31m-class TaskCreationChain {[m
[31m-  constructor() {[m
[31m-    this.model = new ChatOpenAI({[m
[31m-      modelName: process.env.OPENAI_MODEL,[m
[31m-      temperature: 0.7[m
[31m-    });[m
[31m-[m
[31m-    this.outputParser = StructuredOutputParser.fromNamesAndDescriptions({[m
[31m-      title: 'Concise task title',[m
[31m-      description: 'Detailed task description',[m
[31m-      priority: 'Priority level: low, medium, high, or urgent',[m
[31m-      estimatedHours: 'Estimated time in hours',[m
[31m-      tags: 'Comma-separated relevant tags',[m
[31m-      acceptanceCriteria: 'List of acceptance criteria'[m
[31m-    });[m
[31m-[m
[31m-    this.promptTemplate = new PromptTemplate({[m
[31m-      template: `You are an expert project manager creating a well-structured task.[m
[31m-[m
[31m-User Request: {userInput}[m
[31m-Project Context: {projectContext}[m
[31m-[m
[31m-Create a comprehensive task with the following structure:[m
[31m-{format_instructions}[m
[31m-[m
[31m-Task:`,[m
[31m-      inputVariables: ['userInput', 'projectContext'],[m
[31m-      partialVariables: {[m
[31m-        format_instructions: this.outputParser.getFormatInstructions()[m
[31m-      }[m
[31m-    });[m
[31m-[m
[31m-    this.chain = new LLMChain({[m
[31m-      llm: this.model,[m
[31m-      prompt: this.promptTemplate,[m
[31m-      outputParser: this.outputParser[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  async create(userInput, projectContext = {}) {[m
[31m-    try {[m
[31m-      const result = await this.chain.call({[m
[31m-        userInput,[m
[31m-        projectContext: JSON.stringify(projectContext)[m
[31m-      });[m
[31m-[m
[31m-      return result.text;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Task creation chain error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = TaskCreationChain;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/config/agent-configs.js b/zenai-ai-engine/src/config/agent-configs.js[m
[1mdeleted file mode 100644[m
[1mindex fbab6db..0000000[m
[1m--- a/zenai-ai-engine/src/config/agent-configs.js[m
[1m+++ /dev/null[m
[36m@@ -1,146 +0,0 @@[m
[31m-const AGENT_CONFIGS = {[m
[31m-  productManager: {[m
[31m-    name: 'ProductManagerAgent',[m
[31m-    modelType: 'openai',[m
[31m-    modelName: 'gpt-4',[m
[31m-    temperature: 0.7,[m
[31m-    maxTokens: 2000,[m
[31m-    maxIterations: 5,[m
[31m-    verbose: true,[m
[31m-    capabilities: [[m
[31m-      'task_creation',[m
[31m-      'project_analysis',[m
[31m-      'prioritization',[m
[31m-      'roadmap_planning',[m
[31m-      'risk_assessment'[m
[31m-    ],[m
[31m-    tools: ['create_task', 'analyze_project', 'prioritize_tasks'],[m
[31m-    systemPromptKey: 'productManager',[m
[31m-    rateLimits: {[m
[31m-      requestsPerMinute: 30,[m
[31m-      tokensPerMinute: 90000[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  taskAnalyzer: {[m
[31m-    name: 'TaskAnalyzerAgent',[m
[31m-    modelType: 'openai',[m
[31m-    modelName: 'gpt-4',[m
[31m-    temperature: 0.3,[m
[31m-    maxTokens: 1500,[m
[31m-    maxIterations: 3,[m
[31m-    verbose: false,[m
[31m-    capabilities: [[m
[31m-      'complexity_estimation',[m
[31m-      'dependency_analysis',[m
[31m-      'effort_estimation',[m
[31m-      'risk_identification'[m
[31m-    ],[m
[31m-    tools: ['estimate_complexity', 'suggest_dependencies'],[m
[31m-    systemPromptKey: 'taskAnalyzer',[m
[31m-    rateLimits: {[m
[31m-      requestsPerMinute: 40,[m
[31m-      tokensPerMinute: 60000[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  codeReviewer: {[m
[31m-    name: 'CodeReviewerAgent',[m
[31m-    modelType: 'openai',[m
[31m-    modelName: 'gpt-4',[m
[31m-    temperature: 0.3,[m
[31m-    maxTokens: 3000,[m
[31m-    maxIterations: 5,[m
[31m-    verbose: true,[m
[31m-    capabilities: [[m
[31m-      'code_quality_check',[m
[31m-      'security_analysis',[m
[31m-      'performance_review',[m
[31m-      'best_practices',[m
[31m-      'refactoring_suggestions'[m
[31m-    ],[m
[31m-    tools: ['analyze_code', 'suggest_improvements'],[m
[31m-    systemPromptKey: 'codeReviewer',[m
[31m-    rateLimits: {[m
[31m-      requestsPerMinute: 20,[m
[31m-      tokensPerMinute: 60000[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  meetingSummarizer: {[m
[31m-    name: 'MeetingSummarizerAgent',[m
[31m-    modelType: 'openai',[m
[31m-    modelName: 'gpt-4',[m
[31m-    temperature: 0.3,[m
[31m-    maxTokens: 3000,[m
[31m-    maxIterations: 3,[m
[31m-    verbose: false,[m
[31m-    capabilities: [[m
[31m-      'transcription_analysis',[m
[31m-      'action_item_extraction',[m
[31m-      'meeting_summary',[m
[31m-      'decision_tracking',[m
[31m-      'participant_analysis'[m
[31m-    ],[m
[31m-    tools: ['transcribe_audio', 'extract_action_items'],[m
[31m-    systemPromptKey: 'meetingSummarizer',[m
[31m-    rateLimits: {[m
[31m-      requestsPerMinute: 10,[m
[31m-      tokensPerMinute: 90000[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  orchestrator: {[m
[31m-    name: 'OrchestratorAgent',[m
[31m-    modelType: 'openai',[m
[31m-    modelName: 'gpt-4',[m
[31m-    temperature: 0.7,[m
[31m-    maxTokens: 2000,[m
[31m-    maxIterations: 10,[m
[31m-    verbose: true,[m
[31m-    capabilities: [[m
[31m-      'agent_routing',[m
[31m-      'workflow_coordination',[m
[31m-      'result_synthesis',[m
[31m-      'multi_agent_collaboration'[m
[31m-    ],[m
[31m-    systemPromptKey: 'orchestrator',[m
[31m-    rateLimits: {[m
[31m-      requestsPerMinute: 30,[m
[31m-      tokensPerMinute: 90000[m
[31m-    },[m
[31m-    subAgents: [[m
[31m-      'productManager',[m
[31m-      'taskAnalyzer',[m
[31m-      'codeReviewer',[m
[31m-      'meetingSummarizer'[m
[31m-    ][m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-const getAgentConfig = (agentName) => {[m
[31m-  return AGENT_CONFIGS[agentName] || null;[m
[31m-};[m
[31m-[m
[31m-const listAgents = () => {[m
[31m-  return Object.keys(AGENT_CONFIGS);[m
[31m-};[m
[31m-[m
[31m-const validateAgentConfig = (config) => {[m
[31m-  const required = ['name', 'modelType', 'capabilities'];[m
[31m-  [m
[31m-  for (const field of required) {[m
[31m-    if (!config[field]) {[m
[31m-      throw new Error(`Missing required field: ${field}`);[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  return true;[m
[31m-};[m
[31m-[m
[31m-module.exports = {[m
[31m-  AGENT_CONFIGS,[m
[31m-  getAgentConfig,[m
[31m-  listAgents,[m
[31m-  validateAgentConfig[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/config/ai-models.js b/zenai-ai-engine/src/config/ai-models.js[m
[1mdeleted file mode 100644[m
[1mindex 3db65fb..0000000[m
[1m--- a/zenai-ai-engine/src/config/ai-models.js[m
[1m+++ /dev/null[m
[36m@@ -1,128 +0,0 @@[m
[31m-const AI_MODELS = {[m
[31m-  openai: {[m
[31m-    'gpt-4-turbo': {[m
[31m-      name: 'gpt-4-turbo-preview',[m
[31m-      contextWindow: 128000,[m
[31m-      maxTokens: 4096,[m
[31m-      pricing: { input: 0.01, output: 0.03 },[m
[31m-      capabilities: ['chat', 'functions', 'vision'],[m
[31m-      bestFor: ['complex reasoning', 'code generation', 'analysis'][m
[31m-    },[m
[31m-    'gpt-4': {[m
[31m-      name: 'gpt-4',[m
[31m-      contextWindow: 8192,[m
[31m-      maxTokens: 4096,[m
[31m-      pricing: { input: 0.03, output: 0.06 },[m
[31m-      capabilities: ['chat', 'functions'],[m
[31m-      bestFor: ['reasoning', 'creative writing'][m
[31m-    },[m
[31m-    'gpt-3.5-turbo': {[m
[31m-      name: 'gpt-3.5-turbo',[m
[31m-      contextWindow: 16385,[m
[31m-      maxTokens: 4096,[m
[31m-      pricing: { input: 0.0015, output: 0.002 },[m
[31m-      capabilities: ['chat', 'functions'],[m
[31m-      bestFor: ['fast responses', 'simple tasks'][m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  anthropic: {[m
[31m-    'claude-3-opus': {[m
[31m-      name: 'claude-3-opus-20240229',[m
[31m-      contextWindow: 200000,[m
[31m-      maxTokens: 4096,[m
[31m-      pricing: { input: 0.015, output: 0.075 },[m
[31m-      capabilities: ['chat', 'vision', 'extended-context'],[m
[31m-      bestFor: ['complex analysis', 'research', 'long documents'][m
[31m-    },[m
[31m-    'claude-3-sonnet': {[m
[31m-      name: 'claude-3-sonnet-20240229',[m
[31m-      contextWindow: 200000,[m
[31m-      maxTokens: 4096,[m
[31m-      pricing: { input: 0.003, output: 0.015 },[m
[31m-      capabilities: ['chat', 'vision', 'extended-context'],[m
[31m-      bestFor: ['balanced performance', 'general tasks'][m
[31m-    },[m
[31m-    'claude-3-haiku': {[m
[31m-      name: 'claude-3-haiku-20240307',[m
[31m-      contextWindow: 200000,[m
[31m-      maxTokens: 4096,[m
[31m-      pricing: { input: 0.00025, output: 0.00125 },[m
[31m-      capabilities: ['chat', 'fast-response'],[m
[31m-      bestFor: ['quick tasks', 'high volume'][m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  embeddings: {[m
[31m-    'text-embedding-3-small': {[m
[31m-      name: 'text-embedding-3-small',[m
[31m-      dimensions: 1536,[m
[31m-      pricing: 0.00002,[m
[31m-      maxTokens: 8191[m
[31m-    },[m
[31m-    'text-embedding-3-large': {[m
[31m-      name: 'text-embedding-3-large',[m
[31m-      dimensions: 3072,[m
[31m-      pricing: 0.00013,[m
[31m-      maxTokens: 8191[m
[31m-    },[m
[31m-    'text-embedding-ada-002': {[m
[31m-      name: 'text-embedding-ada-002',[m
[31m-      dimensions: 1536,[m
[31m-      pricing: 0.0001,[m
[31m-      maxTokens: 8191[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  whisper: {[m
[31m-    'whisper-1': {[m
[31m-      name: 'whisper-1',[m
[31m-      maxFileSize: 25 * 1024 * 1024, // 25MB[m
[31m-      supportedFormats: ['mp3', 'mp4', 'mpeg', 'mpga', 'm4a', 'wav', 'webm'],[m
[31m-      pricing: 0.006 // per minute[m
[31m-    }[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-const selectModel = (task, priority = 'balanced') => {[m
[31m-  const modelMap = {[m
[31m-    'code-review': {[m
[31m-      fast: 'gpt-3.5-turbo',[m
[31m-      balanced: 'gpt-4',[m
[31m-      quality: 'gpt-4-turbo'[m
[31m-    },[m
[31m-    'task-analysis': {[m
[31m-      fast: 'claude-3-haiku',[m
[31m-      balanced: 'gpt-3.5-turbo',[m
[31m-      quality: 'gpt-4'[m
[31m-    },[m
[31m-    'project-planning': {[m
[31m-      fast: 'gpt-3.5-turbo',[m
[31m-      balanced: 'claude-3-sonnet',[m
[31m-      quality: 'claude-3-opus'[m
[31m-    },[m
[31m-    'meeting-summary': {[m
[31m-      fast: 'gpt-3.5-turbo',[m
[31m-      balanced: 'claude-3-haiku',[m
[31m-      quality: 'claude-3-sonnet'[m
[31m-    },[m
[31m-    'general-chat': {[m
[31m-      fast: 'gpt-3.5-turbo',[m
[31m-      balanced: 'gpt-3.5-turbo',[m
[31m-      quality: 'gpt-4'[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  return modelMap[task]?.[priority] || 'gpt-3.5-turbo';[m
[31m-};[m
[31m-[m
[31m-const getModelConfig = (modelName) => {[m
[31m-  for (const provider of Object.values(AI_MODELS)) {[m
[31m-    if (provider[modelName]) {[m
[31m-      return provider[modelName];[m
[31m-    }[m
[31m-  }[m
[31m-  return null;[m
[31m-};[m
[31m-[m
[31m-module.exports = { AI_MODELS, selectModel, getModelConfig };[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/config/tool-configs.js b/zenai-ai-engine/src/config/tool-configs.js[m
[1mdeleted file mode 100644[m
[1mindex 6688232..0000000[m
[1m--- a/zenai-ai-engine/src/config/tool-configs.js[m
[1m+++ /dev/null[m
[36m@@ -1,176 +0,0 @@[m
[31m-const TOOL_CONFIGS = {[m
[31m-  notion: {[m
[31m-    name: 'Notion Integration',[m
[31m-    enabled: !!process.env.NOTION_API_KEY,[m
[31m-    apiKey: process.env.NOTION_API_KEY,[m
[31m-    databaseId: process.env.NOTION_DATABASE_ID,[m
[31m-    rateLimit: {[m
[31m-      requestsPerSecond: 3[m
[31m-    },[m
[31m-    capabilities: [[m
[31m-      'create_page',[m
[31m-      'query_database',[m
[31m-      'update_page',[m
[31m-      'search_pages'[m
[31m-    ],[m
[31m-    config: {[m
[31m-      version: '2022-06-28',[m
[31m-      baseURL: 'https://api.notion.com/v1'[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  slack: {[m
[31m-    name: 'Slack Integration',[m
[31m-    enabled: !!process.env.SLACK_BOT_TOKEN,[m
[31m-    botToken: process.env.SLACK_BOT_TOKEN,[m
[31m-    webhookUrl: process.env.SLACK_WEBHOOK_URL,[m
[31m-    rateLimit: {[m
[31m-      requestsPerMinute: 60[m
[31m-    },[m
[31m-    capabilities: [[m
[31m-      'send_message',[m
[31m-      'send_notification',[m
[31m-      'get_channels',[m
[31m-      'get_users',[m
[31m-      'upload_file'[m
[31m-    ],[m
[31m-    config: {[m
[31m-      baseURL: 'https://slack.com/api'[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  github: {[m
[31m-    name: 'GitHub Integration',[m
[31m-    enabled: !!process.env.GITHUB_TOKEN,[m
[31m-    token: process.env.GITHUB_TOKEN,[m
[31m-    rateLimit: {[m
[31m-      requestsPerHour: 5000[m
[31m-    },[m
[31m-    capabilities: [[m
[31m-      'create_issue',[m
[31m-      'create_pr',[m
[31m-      'get_repo_info',[m
[31m-      'list_commits',[m
[31m-      'create_comment',[m
[31m-      'update_issue'[m
[31m-    ],[m
[31m-    config: {[m
[31m-      baseURL: 'https://api.github.com'[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  calendar: {[m
[31m-    name: 'Google Calendar Integration',[m
[31m-    enabled: !!process.env.GOOGLE_CALENDAR_CREDENTIALS,[m
[31m-    credentialsPath: process.env.GOOGLE_CALENDAR_CREDENTIALS,[m
[31m-    rateLimit: {[m
[31m-      requestsPerMinute: 100[m
[31m-    },[m
[31m-    capabilities: [[m
[31m-      'create_event',[m
[31m-      'list_events',[m
[31m-      'update_event',[m
[31m-      'delete_event',[m
[31m-      'check_availability'[m
[31m-    ],[m
[31m-    config: {[m
[31m-      scopes: ['https://www.googleapis.com/auth/calendar'][m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  search: {[m
[31m-    name: 'Web Search',[m
[31m-    enabled: !!(process.env.SERPAPI_API_KEY || process.env.TAVILY_API_KEY),[m
[31m-    providers: {[m
[31m-      serpapi: {[m
[31m-        enabled: !!process.env.SERPAPI_API_KEY,[m
[31m-        apiKey: process.env.SERPAPI_API_KEY[m
[31m-      },[m
[31m-      tavily: {[m
[31m-        enabled: !!process.env.TAVILY_API_KEY,[m
[31m-        apiKey: process.env.TAVILY_API_KEY[m
[31m-      }[m
[31m-    },[m
[31m-    rateLimit: {[m
[31m-      requestsPerMinute: 10[m
[31m-    },[m
[31m-    capabilities: [[m
[31m-      'web_search',[m
[31m-      'search_documentation',[m
[31m-      'news_search',[m
[31m-      'image_search'[m
[31m-    ][m
[31m-  },[m
[31m-[m
[31m-  whisper: {[m
[31m-    name: 'Whisper Transcription',[m
[31m-    enabled: !!process.env.OPENAI_API_KEY,[m
[31m-    apiKey: process.env.OPENAI_API_KEY,[m
[31m-    model: process.env.WHISPER_MODEL || 'whisper-1',[m
[31m-    rateLimit: {[m
[31m-      requestsPerMinute: 50[m
[31m-    },[m
[31m-    capabilities: [[m
[31m-      'transcribe',[m
[31m-      'translate'[m
[31m-    ],[m
[31m-    config: {[m
[31m-      maxFileSize: 25 * 1024 * 1024, // 25MB[m
[31m-      supportedFormats: ['mp3', 'mp4', 'mpeg', 'mpga', 'm4a', 'wav', 'webm'][m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  vectorStore: {[m
[31m-    name: 'Pinecone Vector Store',[m
[31m-    enabled: !!process.env.PINECONE_API_KEY,[m
[31m-    apiKey: process.env.PINECONE_API_KEY,[m
[31m-    environment: process.env.PINECONE_ENVIRONMENT,[m
[31m-    indexName: process.env.PINECONE_INDEX || 'zenai-embeddings',[m
[31m-    capabilities: [[m
[31m-      'index_documents',[m
[31m-      'similarity_search',[m
[31m-      'delete_documents',[m
[31m-      'update_metadata'[m
[31m-    ],[m
[31m-    config: {[m
[31m-      dimension: parseInt(process.env.EMBEDDING_DIMENSIONS) || 1536,[m
[31m-      metric: 'cosine'[m
[31m-    }[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-const getToolConfig = (toolName) => {[m
[31m-  return TOOL_CONFIGS[toolName] || null;[m
[31m-};[m
[31m-[m
[31m-const listEnabledTools = () => {[m
[31m-  return Object.entries(TOOL_CONFIGS)[m
[31m-    .filter(([_, config]) => config.enabled)[m
[31m-    .map(([name, _]) => name);[m
[31m-};[m
[31m-[m
[31m-const isToolEnabled = (toolName) => {[m
[31m-  return TOOL_CONFIGS[toolName]?.enabled || false;[m
[31m-};[m
[31m-[m
[31m-const validateToolConfig = (toolName) => {[m
[31m-  const config = TOOL_CONFIGS[toolName];[m
[31m-  [m
[31m-  if (!config) {[m
[31m-    throw new Error(`Tool not found: ${toolName}`);[m
[31m-  }[m
[31m-[m
[31m-  if (!config.enabled) {[m
[31m-    throw new Error(`Tool not enabled: ${toolName}. Check environment variables.`);[m
[31m-  }[m
[31m-[m
[31m-  return true;[m
[31m-};[m
[31m-[m
[31m-module.exports = {[m
[31m-  TOOL_CONFIGS,[m
[31m-  getToolConfig,[m
[31m-  listEnabledTools,[m
[31m-  isToolEnabled,[m
[31m-  validateToolConfig[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/embeddings/document-processor.js b/zenai-ai-engine/src/embeddings/document-processor.js[m
[1mdeleted file mode 100644[m
[1mindex c60f25a..0000000[m
[1m--- a/zenai-ai-engine/src/embeddings/document-processor.js[m
[1m+++ /dev/null[m
[36m@@ -1,302 +0,0 @@[m
[31m-// src/embeddings/document-processor.js[m
[31m-const { OpenAIEmbeddings } = require('@langchain/openai');[m
[31m-const { PineconeStore } = require('@langchain/pinecone');[m
[31m-const { Pinecone } = require('@pinecone-database/pinecone');[m
[31m-const { RecursiveCharacterTextSplitter } = require('langchain/text_splitter');[m
[31m-const { Document } = require('langchain/document');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class DocumentProcessor {[m
[31m-  constructor() {[m
[31m-    this.embeddings = new OpenAIEmbeddings({[m
[31m-      modelName: process.env.EMBEDDING_MODEL || 'text-embedding-3-small'[m
[31m-    });[m
[31m-[m
[31m-    this.pinecone = new Pinecone({[m
[31m-      apiKey: process.env.PINECONE_API_KEY[m
[31m-    });[m
[31m-[m
[31m-    this.textSplitter = new RecursiveCharacterTextSplitter({[m
[31m-      chunkSize: 1000,[m
[31m-      chunkOverlap: 200[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    const indexName = process.env.PINECONE_INDEX || 'zenai-embeddings';[m
[31m-    this.index = this.pinecone.Index(indexName);[m
[31m-    [m
[31m-    this.vectorStore = await PineconeStore.fromExistingIndex([m
[31m-      this.embeddings,[m
[31m-      { pineconeIndex: this.index }[m
[31m-    );[m
[31m-[m
[31m-    logger.info('Vector store initialized');[m
[31m-  }[m
[31m-[m
[31m-  async indexDocument(content, metadata = {}) {[m
[31m-    try {[m
[31m-      // Split document into chunks[m
[31m-      const chunks = await this.textSplitter.splitText(content);[m
[31m-[m
[31m-      // Create documents[m
[31m-      const documents = chunks.map((chunk, index) => new Document({[m
[31m-        pageContent: chunk,[m
[31m-        metadata: {[m
[31m-          ...metadata,[m
[31m-          chunkIndex: index,[m
[31m-          totalChunks: chunks.length,[m
[31m-          timestamp: new Date().toISOString()[m
[31m-        }[m
[31m-      }));[m
[31m-[m
[31m-      // Add to vector store[m
[31m-      await this.vectorStore.addDocuments(documents);[m
[31m-[m
[31m-      logger.info(`Indexed ${documents.length} document chunks`);[m
[31m-      return { success: true, chunks: documents.length };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Document indexing error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async similaritySearch(query, options = {}) {[m
[31m-    try {[m
[31m-      const k = options.limit || 5;[m
[31m-      const filter = options.filter || {};[m
[31m-[m
[31m-      const results = await this.vectorStore.similaritySearchWithScore([m
[31m-        query,[m
[31m-        k,[m
[31m-        filter[m
[31m-      );[m
[31m-[m
[31m-      // Format results[m
[31m-      const formattedResults = results.map(([doc, score]) => ({[m
[31m-        content: doc.pageContent,[m
[31m-        metadata: doc.metadata,[m
[31m-        score,[m
[31m-        relevance: this.calculateRelevance(score)[m
[31m-      }));[m
[31m-[m
[31m-      logger.info(`Found ${formattedResults.length} relevant documents`);[m
[31m-      return formattedResults;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Similarity search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  calculateRelevance(score) {[m
[31m-    // Convert similarity score to relevance percentage[m
[31m-    // Lower scores are better in cosine similarity (0 = identical)[m
[31m-    if (score < 0.3) return 'high';[m
[31m-    if (score < 0.6) return 'medium';[m
[31m-    return 'low';[m
[31m-  }[m
[31m-[m
[31m-  async deleteDocuments(filter) {[m
[31m-    try {[m
[31m-      // Delete documents matching filter[m
[31m-      await this.index.deleteMany({ filter });[m
[31m-      [m
[31m-      logger.info('Documents deleted successfully');[m
[31m-      return { success: true };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Document deletion error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async updateDocument(documentId, content, metadata = {}) {[m
[31m-    try {[m
[31m-      // Delete old version[m
[31m-      await this.deleteDocuments({ documentId });[m
[31m-[m
[31m-      // Index new version[m
[31m-      return await this.indexDocument(content, {[m
[31m-        ...metadata,[m
[31m-        documentId,[m
[31m-        version: (metadata.version || 0) + 1[m
[31m-      });[m
[31m-    } catch (error) {[m
[31m-      logger.error('Document update error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async queryWithContext(query, options = {}) {[m
[31m-    try {[m
[31m-      // Get relevant documents[m
[31m-      const relevantDocs = await this.similaritySearch(query, options);[m
[31m-[m
[31m-      // Build context from top documents[m
[31m-      const context = relevantDocs[m
[31m-        .slice(0, options.contextLimit || 3)[m
[31m-        .map(doc => doc.content)[m
[31m-        .join('\n\n');[m
[31m-[m
[31m-      return {[m
[31m-        query,[m
[31m-        context,[m
[31m-        sources: relevantDocs.map(doc => ({[m
[31m-          content: doc.content.substring(0, 200) + '...',[m
[31m-          metadata: doc.metadata,[m
[31m-          score: doc.score[m
[31m-        }))[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Query with context error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async bulkIndexDocuments(documents) {[m
[31m-    try {[m
[31m-      const results = [];[m
[31m-      [m
[31m-      for (const doc of documents) {[m
[31m-        const result = await this.indexDocument(doc.content, doc.metadata);[m
[31m-        results.push({[m
[31m-          documentId: doc.metadata.documentId,[m
[31m-          ...result[m
[31m-        });[m
[31m-      }[m
[31m-[m
[31m-      logger.info(`Bulk indexed ${results.length} documents`);[m
[31m-      return { success: true, results };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Bulk indexing error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async getDocumentStats(filter = {}) {[m
[31m-    try {[m
[31m-      // Query to get statistics[m
[31m-      const stats = await this.index.describeIndexStats();[m
[31m-[m
[31m-      return {[m
[31m-        totalVectors: stats.totalRecordCount,[m
[31m-        dimension: stats.dimension,[m
[31m-        namespaces: stats.namespaces,[m
[31m-        indexFullness: stats.indexFullness[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Stats retrieval error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async hybridSearch(query, options = {}) {[m
[31m-    try {[m
[31m-      // Combine vector search with keyword matching[m
[31m-      const vectorResults = await this.similaritySearch(query, {[m
[31m-        limit: options.limit || 10,[m
[31m-        filter: options.filter[m
[31m-      });[m
[31m-[m
[31m-      // Extract keywords from query[m
[31m-      const keywords = this.extractKeywords(query);[m
[31m-[m
[31m-      // Re-rank results based on keyword presence[m
[31m-      const rankedResults = vectorResults.map(result => {[m
[31m-        const keywordScore = this.calculateKeywordScore([m
[31m-          result.content,[m
[31m-          keywords[m
[31m-        );[m
[31m-        [m
[31m-        return {[m
[31m-          ...result,[m
[31m-          keywordScore,[m
[31m-          finalScore: result.score * 0.7 + keywordScore * 0.3[m
[31m-        };[m
[31m-      }).sort((a, b) => a.finalScore - b.finalScore);[m
[31m-[m
[31m-      return rankedResults.slice(0, options.limit || 5);[m
[31m-    } catch (error) {[m
[31m-      logger.error('Hybrid search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  extractKeywords(text) {[m
[31m-    // Simple keyword extraction (can be enhanced with NLP)[m
[31m-    return text[m
[31m-      .toLowerCase()[m
[31m-      .split(/\s+/)[m
[31m-      .filter(word => word.length > 3)[m
[31m-      .filter(word => !this.isStopWord(word));[m
[31m-  }[m
[31m-[m
[31m-  isStopWord(word) {[m
[31m-    const stopWords = new Set([[m
[31m-      'the', 'is', 'at', 'which', 'on', 'are', 'was', 'were',[m
[31m-      'been', 'have', 'has', 'had', 'do', 'does', 'did', 'will',[m
[31m-      'would', 'could', 'should', 'may', 'might', 'must', 'can'[m
[31m-    ]);[m
[31m-    return stopWords.has(word);[m
[31m-  }[m
[31m-[m
[31m-  calculateKeywordScore(content, keywords) {[m
[31m-    const contentLower = content.toLowerCase();[m
[31m-    const matches = keywords.filter(kw => contentLower.includes(kw)).length;[m
[31m-    return matches / keywords.length;[m
[31m-  }[m
[31m-[m
[31m-  async semanticSearch(query, options = {}) {[m
[31m-    try {[m
[31m-      // Advanced semantic search with question answering[m
[31m-      const results = await this.queryWithContext(query, options);[m
[31m-[m
[31m-      return {[m
[31m-        answer: results.context,[m
[31m-        confidence: this.calculateConfidence(results.sources),[m
[31m-        sources: results.sources,[m
[31m-        relatedQueries: await this.generateRelatedQueries(query)[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Semantic search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  calculateConfidence(sources) {[m
[31m-    if (sources.length === 0) return 0;[m
[31m-    [m
[31m-    const avgScore = sources.reduce((sum, s) => sum + s.score, 0) / sources.length;[m
[31m-    [m
[31m-    // Convert score to confidence percentage[m
[31m-    if (avgScore < 0.2) return 95;[m
[31m-    if (avgScore < 0.4) return 85;[m
[31m-    if (avgScore < 0.6) return 70;[m
[31m-    if (avgScore < 0.8) return 50;[m
[31m-    return 30;[m
[31m-  }[m
[31m-[m
[31m-  async generateRelatedQueries(query) {[m
[31m-    // Generate semantically related queries[m
[31m-    const variations = [[m
[31m-      query.replace(/how/i, 'what'),[m
[31m-      query.replace(/what/i, 'why'),[m
[31m-      query + ' examples',[m
[31m-      query + ' best practices'[m
[31m-    ];[m
[31m-[m
[31m-    return variations.slice(0, 3);[m
[31m-  }[m
[31m-[m
[31m-  async clearNamespace(namespace) {[m
[31m-    try {[m
[31m-      await this.index.deleteAll({ namespace });[m
[31m-      logger.info(`Cleared namespace: ${namespace}`);[m
[31m-      return { success: true };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Namespace clearing error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = DocumentProcessor;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/embeddings/similarity-search.js b/zenai-ai-engine/src/embeddings/similarity-search.js[m
[1mdeleted file mode 100644[m
[1mindex 4efbb6c..0000000[m
[1m--- a/zenai-ai-engine/src/embeddings/similarity-search.js[m
[1m+++ /dev/null[m
[36m@@ -1,275 +0,0 @@[m
[31m-// src/embeddings/similarity-search.js[m
[31m-const { OpenAIEmbeddings } = require('@langchain/openai');[m
[31m-const { PineconeStore } = require('@langchain/pinecone');[m
[31m-const { Pinecone } = require('@pinecone-database/pinecone');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class SimilaritySearchService {[m
[31m-  constructor() {[m
[31m-    this.embeddings = new OpenAIEmbeddings({[m
[31m-      modelName: process.env.EMBEDDING_MODEL || 'text-embedding-3-small',[m
[31m-      openAIApiKey: process.env.OPENAI_API_KEY[m
[31m-    });[m
[31m-[m
[31m-    this.pinecone = new Pinecone({[m
[31m-      apiKey: process.env.PINECONE_API_KEY,[m
[31m-      environment: process.env.PINECONE_ENVIRONMENT[m
[31m-    });[m
[31m-[m
[31m-    this.vectorStore = null;[m
[31m-    this.initialized = false;[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    try {[m
[31m-      const indexName = process.env.PINECONE_INDEX || 'zenai-embeddings';[m
[31m-      this.index = this.pinecone.Index(indexName);[m
[31m-[m
[31m-      this.vectorStore = await PineconeStore.fromExistingIndex([m
[31m-        this.embeddings,[m
[31m-        { pineconeIndex: this.index }[m
[31m-      );[m
[31m-[m
[31m-      this.initialized = true;[m
[31m-      logger.info('Similarity search service initialized');[m
[31m-    } catch (error) {[m
[31m-      logger.error('Similarity search initialization error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async search(query, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const {[m
[31m-        k = 5,[m
[31m-        filter = {},[m
[31m-        scoreThreshold = 0.7,[m
[31m-        namespace = 'default'[m
[31m-      } = options;[m
[31m-[m
[31m-      // Perform similarity search with scores[m
[31m-      const results = await this.vectorStore.similaritySearchWithScore([m
[31m-        query,[m
[31m-        k,[m
[31m-        filter[m
[31m-      );[m
[31m-[m
[31m-      // Filter by score threshold[m
[31m-      const filteredResults = results[m
[31m-        .filter(([doc, score]) => score >= scoreThreshold)[m
[31m-        .map(([doc, score]) => ({[m
[31m-          content: doc.pageContent,[m
[31m-          metadata: doc.metadata,[m
[31m-          score: score,[m
[31m-          relevance: this.calculateRelevance(score)[m
[31m-        }));[m
[31m-[m
[31m-      logger.info(`Similarity search returned ${filteredResults.length} results`);[m
[31m-[m
[31m-      return {[m
[31m-        results: filteredResults,[m
[31m-        query,[m
[31m-        totalResults: filteredResults.length,[m
[31m-        options: { k, scoreThreshold }[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Similarity search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async searchByVector(vector, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const { k = 5, filter = {} } = options;[m
[31m-[m
[31m-      const results = await this.index.query({[m
[31m-        vector,[m
[31m-        topK: k,[m
[31m-        filter,[m
[31m-        includeMetadata: true[m
[31m-      });[m
[31m-[m
[31m-      return results.matches.map(match => ({[m
[31m-        id: match.id,[m
[31m-        score: match.score,[m
[31m-        metadata: match.metadata,[m
[31m-        relevance: this.calculateRelevance(match.score)[m
[31m-      }));[m
[31m-    } catch (error) {[m
[31m-      logger.error('Vector search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async searchRelatedDocuments(documentId, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const { k = 5 } = options;[m
[31m-[m
[31m-      // Get the document's vector[m
[31m-      const docVector = await this.index.fetch([documentId]);[m
[31m-      [m
[31m-      if (!docVector.vectors[documentId]) {[m
[31m-        throw new Error('Document not found');[m
[31m-      }[m
[31m-[m
[31m-      const vector = docVector.vectors[documentId].values;[m
[31m-[m
[31m-      // Search for similar documents[m
[31m-      const results = await this.searchByVector(vector, {[m
[31m-        k: k + 1, // +1 to exclude the original document[m
[31m-        filter: { documentId: { $ne: documentId } }[m
[31m-      });[m
[31m-[m
[31m-      return results.slice(0, k);[m
[31m-    } catch (error) {[m
[31m-      logger.error('Related documents search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async hybridSearch(query, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const {[m
[31m-        k = 10,[m
[31m-        semanticWeight = 0.7,[m
[31m-        keywordWeight = 0.3,[m
[31m-        filter = {}[m
[31m-      } = options;[m
[31m-[m
[31m-      // Semantic search[m
[31m-      const semanticResults = await this.search(query, { k, filter });[m
[31m-[m
[31m-      // Simple keyword matching (you can enhance this with BM25 or similar)[m
[31m-      const keywords = query.toLowerCase().split(' ');[m
[31m-      const keywordResults = semanticResults.results.map(result => {[m
[31m-        const content = result.content.toLowerCase();[m
[31m-        const keywordScore = keywords.reduce((score, keyword) => {[m
[31m-          return score + (content.includes(keyword) ? 1 : 0);[m
[31m-        }, 0) / keywords.length;[m
[31m-[m
[31m-        return {[m
[31m-          ...result,[m
[31m-          keywordScore,[m
[31m-          hybridScore: (result.score * semanticWeight) + (keywordScore * keywordWeight)[m
[31m-        };[m
[31m-      });[m
[31m-[m
[31m-      // Sort by hybrid score[m
[31m-      keywordResults.sort((a, b) => b.hybridScore - a.hybridScore);[m
[31m-[m
[31m-      return {[m
[31m-        results: keywordResults.slice(0, k),[m
[31m-        query,[m
[31m-        method: 'hybrid',[m
[31m-        weights: { semantic: semanticWeight, keyword: keywordWeight }[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Hybrid search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async multiQuerySearch(queries, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const { k = 5, aggregation = 'union' } = options;[m
[31m-[m
[31m-      // Search for each query[m
[31m-      const searchPromises = queries.map(query => [m
[31m-        this.search(query, { k, ...options })[m
[31m-      );[m
[31m-[m
[31m-      const allResults = await Promise.all(searchPromises);[m
[31m-[m
[31m-      let finalResults;[m
[31m-      if (aggregation === 'union') {[m
[31m-        // Combine all unique results[m
[31m-        const resultsMap = new Map();[m
[31m-        allResults.forEach(({ results }) => {[m
[31m-          results.forEach(result => {[m
[31m-            const key = result.metadata.id || result.content;[m
[31m-            if (!resultsMap.has(key) || resultsMap.get(key).score < result.score) {[m
[31m-              resultsMap.set(key, result);[m
[31m-            }[m
[31m-          });[m
[31m-        });[m
[31m-        finalResults = Array.from(resultsMap.values());[m
[31m-      } else if (aggregation === 'intersection') {[m
[31m-        // Only results that appear in all queries[m
[31m-        const resultCounts = new Map();[m
[31m-        allResults.forEach(({ results }) => {[m
[31m-          results.forEach(result => {[m
[31m-            const key = result.metadata.id || result.content;[m
[31m-            resultCounts.set(key, (resultCounts.get(key) || 0) + 1);[m
[31m-          });[m
[31m-        });[m
[31m-        finalResults = Array.from(resultCounts.entries())[m
[31m-          .filter(([key, count]) => count === queries.length)[m
[31m-          .map(([key]) => key);[m
[31m-      }[m
[31m-[m
[31m-      // Sort by score[m
[31m-      finalResults.sort((a, b) => b.score - a.score);[m
[31m-[m
[31m-      return {[m
[31m-        results: finalResults.slice(0, k),[m
[31m-        queries,[m
[31m-        aggregation,[m
[31m-        totalResults: finalResults.length[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Multi-query search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  calculateRelevance(score) {[m
[31m-    if (score >= 0.9) return 'very_high';[m
[31m-    if (score >= 0.8) return 'high';[m
[31m-    if (score >= 0.7) return 'medium';[m
[31m-    if (score >= 0.6) return 'low';[m
[31m-    return 'very_low';[m
[31m-  }[m
[31m-[m
[31m-  async getStats(namespace = 'default') {[m
[31m-    try {[m
[31m-      const stats = await this.index.describeIndexStats();[m
[31m-      return {[m
[31m-        totalVectors: stats.totalVectorCount,[m
[31m-        dimension: stats.dimension,[m
[31m-        namespaces: stats.namespaces[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Get stats error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async deleteByMetadata(filter) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      await this.index.delete1({[m
[31m-        filter,[m
[31m-        deleteAll: false[m
[31m-      });[m
[31m-[m
[31m-      logger.info('Documents deleted by metadata filter');[m
[31m-      return { success: true };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Delete by metadata error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = SimilaritySearchService;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/index.js b/zenai-ai-engine/src/index.js[m
[1mdeleted file mode 100644[m
[1mindex 085aea1..0000000[m
[1m--- a/zenai-ai-engine/src/index.js[m
[1m+++ /dev/null[m
[36m@@ -1,309 +0,0 @@[m
[31m-// src/index.js[m
[31m-import express from 'express';[m
[31m-import dotenv from 'dotenv';[m
[31m-import cors from 'cors';[m
[31m-import helmet from 'helmet';[m
[31m-import winston from 'winston';[m
[31m-[m
[31m-dotenv.config();[m
[31m-[m
[31m-const app = express();[m
[31m-const PORT = process.env.PORT || 8001;[m
[31m-[m
[31m-// Logger setup[m
[31m-const logger = winston.createLogger({[m
[31m-  level: process.env.LOG_LEVEL || 'info',[m
[31m-  format: winston.format.combine([m
[31m-    winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),[m
[31m-    winston.format.colorize(),[m
[31m-    winston.format.printf(({ timestamp, level, message }) => {[m
[31m-      return `${timestamp} [${level}]: ${message}`;[m
[31m-    })[m
[31m-  ),[m
[31m-  transports: [[m
[31m-    new winston.transports.Console()[m
[31m-  ][m
[31m-});[m
[31m-[m
[31m-// Middleware[m
[31m-app.use(helmet());[m
[31m-app.use(cors());[m
[31m-app.use(express.json({ limit: '10mb' }));[m
[31m-[m
[31m-// Request logging[m
[31m-app.use((req, res, next) => {[m
[31m-  logger.info(`${req.method} ${req.path}`);[m
[31m-  next();[m
[31m-});[m
[31m-[m
[31m-// Health check[m
[31m-app.get('/health', (req, res) => {[m
[31m-  res.json({ [m
[31m-    status: 'healthy', [m
[31m-    service: 'zenai-ai-engine',[m
[31m-    timestamp: new Date().toISOString(),[m
[31m-    uptime: process.uptime()[m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-// Mock AI Orchestrator (since real one isn't connected yet)[m
[31m-class MockOrchestrator {[m
[31m-  async initialize() {[m
[31m-    logger.info('Mock Orchestrator initialized');[m
[31m-    return true;[m
[31m-  }[m
[31m-[m
[31m-  async processRequest(message, context = {}) {[m
[31m-    logger.info(`Processing request: ${message.substring(0, 50)}...`);[m
[31m-    [m
[31m-    // Mock response based on context type[m
[31m-    if (context.type === 'task-analysis') {[m
[31m-      return {[m
[31m-        response: `Task analysis for: "${message}"`,[m
[31m-        analysis: {[m
[31m-          complexityScore: 5,[m
[31m-          estimatedHours: 8,[m
[31m-          skillsRequired: ['JavaScript', 'Node.js'],[m
[31m-          recommendations: ['Break down into smaller tasks', 'Add unit tests'][m
[31m-        }[m
[31m-      };[m
[31m-    }[m
[31m-[m
[31m-    if (context.type === 'task-creation') {[m
[31m-      return {[m
[31m-        response: 'Task created successfully',[m
[31m-        task: {[m
[31m-          title: message.substring(0, 50),[m
[31m-          description: message,[m
[31m-          priority: 'medium',[m
[31m-          estimatedTime: 8,[m
[31m-          tags: ['ai-generated'][m
[31m-        }[m
[31m-      };[m
[31m-    }[m
[31m-[m
[31m-    if (context.type === 'project-analysis') {[m
[31m-      return {[m
[31m-        response: 'Project analysis completed',[m
[31m-        health: {[m
[31m-          score: 75,[m
[31m-          status: 'healthy',[m
[31m-          insights: ['Project on track', 'Good velocity'],[m
[31m-          recommendations: ['Continue current pace'][m
[31m-        }[m
[31m-      };[m
[31m-    }[m
[31m-[m
[31m-    // Default response[m
[31m-    return {[m
[31m-      response: `I received your message: "${message}". AI engine is running in mock mode. Connect OpenAI for full functionality.`,[m
[31m-      metadata: {[m
[31m-        timestamp: new Date().toISOString(),[m
[31m-        mode: 'mock'[m
[31m-      }[m
[31m-    };[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-// Initialize orchestrator[m
[31m-let orchestrator;[m
[31m-[m
[31m-async function initializeOrchestrator() {[m
[31m-  try {[m
[31m-    orchestrator = new MockOrchestrator();[m
[31m-    await orchestrator.initialize();[m
[31m-    logger.info('‚úì AI Orchestrator initialized successfully');[m
[31m-  } catch (error) {[m
[31m-    logger.error('Failed to initialize orchestrator:', error);[m
[31m-    // Continue without AI features[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-// AI Routes[m
[31m-app.post('/api/v1/ai/chat', async (req, res) => {[m
[31m-  try {[m
[31m-    const { message, context } = req.body;[m
[31m-    [m
[31m-    if (!message) {[m
[31m-      return res.status(400).json({ [m
[31m-        success: false,[m
[31m-        error: 'Message is required' [m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    if (!orchestrator) {[m
[31m-      return res.status(503).json({ [m
[31m-        success: false,[m
[31m-        error: 'AI service not initialized' [m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const response = await orchestrator.processRequest(message, context);[m
[31m-    [m
[31m-    res.json({ [m
[31m-      success: true,[m
[31m-      data: response [m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    logger.error('Chat error:', error);[m
[31m-    res.status(500).json({ [m
[31m-      success: false,[m
[31m-      error: error.message [m
[31m-    });[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-app.post('/api/v1/ai/analyze-task', async (req, res) => {[m
[31m-  try {[m
[31m-    const { task, projectContext } = req.body;[m
[31m-    [m
[31m-    if (!task) {[m
[31m-      return res.status(400).json({ [m
[31m-        success: false,[m
[31m-        error: 'Task data is required' [m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    if (!orchestrator) {[m
[31m-      return res.status(503).json({ [m
[31m-        success: false,[m
[31m-        error: 'AI service not initialized' [m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const analysis = await orchestrator.processRequest([m
[31m-      `Analyze this task: ${JSON.stringify(task)}`,[m
[31m-      { type: 'task-analysis', ...projectContext }[m
[31m-    );[m
[31m-    [m
[31m-    res.json({ [m
[31m-      success: true,[m
[31m-      data: analysis [m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    logger.error('Task analysis error:', error);[m
[31m-    res.status(500).json({ [m
[31m-      success: false,[m
[31m-      error: error.message [m
[31m-    });[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-app.post('/api/v1/ai/create-task', async (req, res) => {[m
[31m-  try {[m
[31m-    const { description, projectId } = req.body;[m
[31m-    [m
[31m-    if (!description) {[m
[31m-      return res.status(400).json({ [m
[31m-        success: false,[m
[31m-        error: 'Task description is required' [m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    if (!orchestrator) {[m
[31m-      return res.status(503).json({ [m
[31m-        success: false,[m
[31m-        error: 'AI service not initialized' [m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const result = await orchestrator.processRequest([m
[31m-      description,[m
[31m-      { type: 'task-creation', projectId }[m
[31m-    );[m
[31m-    [m
[31m-    res.json({ [m
[31m-      success: true,[m
[31m-      data: result [m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    logger.error('Task creation error:', error);[m
[31m-    res.status(500).json({ [m
[31m-      success: false,[m
[31m-      error: error.message [m
[31m-    });[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-app.post('/api/v1/ai/analyze-project', async (req, res) => {[m
[31m-  try {[m
[31m-    const { projectData, tasks } = req.body;[m
[31m-    [m
[31m-    if (!projectData) {[m
[31m-      return res.status(400).json({ [m
[31m-        success: false,[m
[31m-        error: 'Project data is required' [m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    if (!orchestrator) {[m
[31m-      return res.status(503).json({ [m
[31m-        success: false,[m
[31m-        error: 'AI service not initialized' [m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const analysis = await orchestrator.processRequest([m
[31m-      `Analyze project: ${JSON.stringify({ projectData, tasks })}`,[m
[31m-      { type: 'project-analysis' }[m
[31m-    );[m
[31m-    [m
[31m-    res.json({ [m
[31m-      success: true,[m
[31m-      data: analysis [m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    logger.error('Project analysis error:', error);[m
[31m-    res.status(500).json({ [m
[31m-      success: false,[m
[31m-      error: error.message [m
[31m-    });[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-// Error handling middleware[m
[31m-app.use((err, req, res, next) => {[m
[31m-  logger.error('Unhandled error:', err);[m
[31m-  res.status(500).json({ [m
[31m-    success: false,[m
[31m-    error: 'Internal server error' [m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-// 404 handler[m
[31m-app.use((req, res) => {[m
[31m-  res.status(404).json({ [m
[31m-    success: false,[m
[31m-    error: 'Endpoint not found' [m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-// Graceful shutdown[m
[31m-process.on('SIGTERM', () => {[m
[31m-  logger.info('SIGTERM received, shutting down gracefully');[m
[31m-  process.exit(0);[m
[31m-});[m
[31m-[m
[31m-process.on('SIGINT', () => {[m
[31m-  logger.info('SIGINT received, shutting down gracefully');[m
[31m-  process.exit(0);[m
[31m-});[m
[31m-[m
[31m-// Start server[m
[31m-async function startServer() {[m
[31m-  try {[m
[31m-    await initializeOrchestrator();[m
[31m-    [m
[31m-    app.listen(PORT, () => {[m
[31m-      logger.info(`ü§ñ ZenAI AI Engine running on port ${PORT}`);[m
[31m-      logger.info(`Environment: ${process.env.NODE_ENV || 'development'}`);[m
[31m-      logger.info(`Health check: http://localhost:${PORT}/health`);[m
[31m-      logger.info(`Mode: Mock (connect OpenAI API for full functionality)`);[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    logger.error('Failed to start server:', error);[m
[31m-    process.exit(1);[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-startServer();[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/memory/context.manager.js b/zenai-ai-engine/src/memory/context.manager.js[m
[1mdeleted file mode 100644[m
[1mindex b08e7ed..0000000[m
[1m--- a/zenai-ai-engine/src/memory/context.manager.js[m
[1m+++ /dev/null[m
[36m@@ -1,126 +0,0 @@[m
[31m-const ConversationMemory = require('./conversation.memory');[m
[31m-const VectorStore = require('./vector-store');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class ContextManager {[m
[31m-  constructor(options = {}) {[m
[31m-    this.userId = options.userId;[m
[31m-    this.conversationId = options.conversationId;[m
[31m-    this.maxContextLength = options.maxContextLength || 4000;[m
[31m-    [m
[31m-    this.conversationMemory = new ConversationMemory({[m
[31m-      userId: this.userId,[m
[31m-      conversationId: this.conversationId[m
[31m-    });[m
[31m-    [m
[31m-    this.vectorStore = new VectorStore();[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    await this.conversationMemory.loadHistory();[m
[31m-    await this.vectorStore.initialize();[m
[31m-  }[m
[31m-[m
[31m-  async buildContext(query, options = {}) {[m
[31m-    try {[m
[31m-      const context = {[m
[31m-        query,[m
[31m-        conversationHistory: [],[m
[31m-        relevantDocuments: [],[m
[31m-        metadata: {}[m
[31m-      };[m
[31m-[m
[31m-      // Get conversation history[m
[31m-      if (options.includeHistory !== false) {[m
[31m-        const history = await this.conversationMemory.getHistory();[m
[31m-        context.conversationHistory = this.truncateHistory(history);[m
[31m-      }[m
[31m-[m
[31m-      // Get relevant documents from vector store[m
[31m-      if (options.includeDocuments !== false) {[m
[31m-        const docs = await this.vectorStore.similaritySearch([m
[31m-          query,[m
[31m-          options.topK || 3,[m
[31m-          options.filter[m
[31m-        );[m
[31m-        context.relevantDocuments = docs;[m
[31m-      }[m
[31m-[m
[31m-      // Add additional context[m
[31m-      if (options.additionalContext) {[m
[31m-        context.metadata = options.additionalContext;[m
[31m-      }[m
[31m-[m
[31m-      return context;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Error building context:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async saveInteraction(userMessage, aiResponse, metadata = {}) {[m
[31m-    try {[m
[31m-      await this.conversationMemory.saveMessage('human', userMessage, metadata);[m
[31m-      await this.conversationMemory.saveMessage('ai', aiResponse, metadata);[m
[31m-      [m
[31m-      // Optionally index the interaction for future retrieval[m
[31m-      if (metadata.indexForRetrieval) {[m
[31m-        await this.vectorStore.addDocuments([[m
[31m-          {[m
[31m-            content: `User: ${userMessage}\nAssistant: ${aiResponse}`,[m
[31m-            metadata: {[m
[31m-              type: 'conversation',[m
[31m-              userId: this.userId,[m
[31m-              conversationId: this.conversationId,[m
[31m-              ...metadata[m
[31m-            }[m
[31m-          }[m
[31m-        ]);[m
[31m-      }[m
[31m-    } catch (error) {[m
[31m-      logger.error('Error saving interaction:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  truncateHistory(history, maxLength = this.maxContextLength) {[m
[31m-    let totalLength = 0;[m
[31m-    const truncated = [];[m
[31m-[m
[31m-    // Keep messages from newest to oldest until we hit the limit[m
[31m-    for (let i = history.length - 1; i >= 0; i--) {[m
[31m-      const msg = history[i];[m
[31m-      const msgLength = msg.content.length;[m
[31m-      [m
[31m-      if (totalLength + msgLength > maxLength) {[m
[31m-        break;[m
[31m-      }[m
[31m-      [m
[31m-      truncated.unshift(msg);[m
[31m-      totalLength += msgLength;[m
[31m-    }[m
[31m-[m
[31m-    return truncated;[m
[31m-  }[m
[31m-[m
[31m-  async summarizeContext() {[m
[31m-    const history = await this.conversationMemory.getHistory();[m
[31m-    return {[m
[31m-      messageCount: history.length,[m
[31m-      totalTokens: this.estimateTokens(history),[m
[31m-      summary: await this.conversationMemory.summarize()[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  estimateTokens(messages) {[m
[31m-    // Rough estimation: 1 token ‚âà 4 characters[m
[31m-    const totalChars = messages.reduce((sum, msg) => sum + msg.content.length, 0);[m
[31m-    return Math.ceil(totalChars / 4);[m
[31m-  }[m
[31m-[m
[31m-  async clear() {[m
[31m-    await this.conversationMemory.clear();[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = ContextManager;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/memory/conversation.memory.js b/zenai-ai-engine/src/memory/conversation.memory.js[m
[1mdeleted file mode 100644[m
[1mindex d9a971f..0000000[m
[1m--- a/zenai-ai-engine/src/memory/conversation.memory.js[m
[1m+++ /dev/null[m
[36m@@ -1,122 +0,0 @@[m
[31m-const { BufferMemory } = require('langchain/memory');[m
[31m-const { ChatMessageHistory } = require('langchain/memory');[m
[31m-const { HumanMessage, AIMessage, SystemMessage } = require('langchain/schema');[m
[31m-const { cache } = require('../config/redis');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class ConversationMemory {[m
[31m-  constructor(options = {}) {[m
[31m-    this.userId = options.userId;[m
[31m-    this.conversationId = options.conversationId;[m
[31m-    this.maxMessages = options.maxMessages || 20;[m
[31m-    this.ttl = options.ttl || 3600 * 24; // 24 hours[m
[31m-    [m
[31m-    this.memory = new BufferMemory({[m
[31m-      returnMessages: true,[m
[31m-      memoryKey: 'chat_history',[m
[31m-      inputKey: 'input',[m
[31m-      outputKey: 'output'[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  async loadHistory() {[m
[31m-    try {[m
[31m-      const key = this.getCacheKey();[m
[31m-      const history = await cache.get(key);[m
[31m-      [m
[31m-      if (history && Array.isArray(history)) {[m
[31m-        const messages = history.map(msg => {[m
[31m-          if (msg.type === 'human') {[m
[31m-            return new HumanMessage(msg.content);[m
[31m-          } else if (msg.type === 'ai') {[m
[31m-            return new AIMessage(msg.content);[m
[31m-          } else if (msg.type === 'system') {[m
[31m-            return new SystemMessage(msg.content);[m
[31m-          }[m
[31m-        });[m
[31m-[m
[31m-        this.memory.chatHistory = new ChatMessageHistory(messages);[m
[31m-      }[m
[31m-    } catch (error) {[m
[31m-      logger.error('Error loading conversation history:', error);[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async saveMessage(role, content, metadata = {}) {[m
[31m-    try {[m
[31m-      const message = {[m
[31m-        type: role,[m
[31m-        content,[m
[31m-        metadata: {[m
[31m-          ...metadata,[m
[31m-          timestamp: new Date().toISOString()[m
[31m-        }[m
[31m-      };[m
[31m-[m
[31m-      // Add to memory[m
[31m-      if (role === 'human') {[m
[31m-        await this.memory.chatHistory.addUserMessage(content);[m
[31m-      } else if (role === 'ai') {[m
[31m-        await this.memory.chatHistory.addAIMessage(content);[m
[31m-      }[m
[31m-[m
[31m-      // Save to cache[m
[31m-      await this.saveHistory();[m
[31m-      [m
[31m-      return message;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Error saving message:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async saveHistory() {[m
[31m-    try {[m
[31m-      const messages = await this.memory.chatHistory.getMessages();[m
[31m-      const serialized = messages.slice(-this.maxMessages).map(msg => ({[m
[31m-        type: msg._getType(),[m
[31m-        content: msg.content[m
[31m-      }));[m
[31m-[m
[31m-      const key = this.getCacheKey();[m
[31m-      await cache.set(key, serialized, this.ttl);[m
[31m-    } catch (error) {[m
[31m-      logger.error('Error saving conversation history:', error);[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async getHistory() {[m
[31m-    const messages = await this.memory.chatHistory.getMessages();[m
[31m-    return messages.map(msg => ({[m
[31m-      role: msg._getType(),[m
[31m-      content: msg.content[m
[31m-    }));[m
[31m-  }[m
[31m-[m
[31m-  async clear() {[m
[31m-    await this.memory.clear();[m
[31m-    const key = this.getCacheKey();[m
[31m-    await cache.del(key);[m
[31m-  }[m
[31m-[m
[31m-  async summarize() {[m
[31m-    const messages = await this.getHistory();[m
[31m-    [m
[31m-    // Create a summary of the conversation[m
[31m-    const summary = {[m
[31m-      messageCount: messages.length,[m
[31m-      userMessages: messages.filter(m => m.role === 'human').length,[m
[31m-      aiMessages: messages.filter(m => m.role === 'ai').length,[m
[31m-      firstMessage: messages[0]?.content.substring(0, 100),[m
[31m-      lastMessage: messages[messages.length - 1]?.content.substring(0, 100)[m
[31m-    };[m
[31m-[m
[31m-    return summary;[m
[31m-  }[m
[31m-[m
[31m-  getCacheKey() {[m
[31m-    return `conversation:${this.userId}:${this.conversationId}`;[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = ConversationMemory;[m
[1mdiff --git a/zenai-ai-engine/src/memory/vector-store.js b/zenai-ai-engine/src/memory/vector-store.js[m
[1mdeleted file mode 100644[m
[1mindex 821dfc5..0000000[m
[1m--- a/zenai-ai-engine/src/memory/vector-store.js[m
[1m+++ /dev/null[m
[36m@@ -1,102 +0,0 @@[m
[31m-const { OpenAIEmbeddings } = require('@langchain/openai');[m
[31m-const { PineconeStore } = require('@langchain/pinecone');[m
[31m-const { Pinecone } = require('@pinecone-database/pinecone');[m
[31m-const { Document } = require('langchain/document');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class VectorStore {[m
[31m-  constructor() {[m
[31m-    this.embeddings = new OpenAIEmbeddings({[m
[31m-      modelName: process.env.EMBEDDING_MODEL || 'text-embedding-3-small'[m
[31m-    });[m
[31m-[m
[31m-    this.initialized = false;[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    try {[m
[31m-      const pinecone = new Pinecone({[m
[31m-        apiKey: process.env.PINECONE_API_KEY[m
[31m-      });[m
[31m-[m
[31m-      const indexName = process.env.PINECONE_INDEX || 'zenai-embeddings';[m
[31m-      this.index = pinecone.Index(indexName);[m
[31m-      [m
[31m-      this.vectorStore = await PineconeStore.fromExistingIndex([m
[31m-        this.embeddings,[m
[31m-        { pineconeIndex: this.index }[m
[31m-      );[m
[31m-[m
[31m-      this.initialized = true;[m
[31m-      logger.info('Vector store initialized successfully');[m
[31m-    } catch (error) {[m
[31m-      logger.error('Vector store initialization error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async addDocuments(documents, metadata = {}) {[m
[31m-    if (!this.initialized) {[m
[31m-      await this.initialize();[m
[31m-    }[m
[31m-[m
[31m-    try {[m
[31m-      const docs = documents.map((doc, index) => new Document({[m
[31m-        pageContent: typeof doc === 'string' ? doc : doc.content,[m
[31m-        metadata: {[m
[31m-          ...metadata,[m
[31m-          index,[m
[31m-          timestamp: new Date().toISOString(),[m
[31m-          ...(typeof doc === 'object' ? doc.metadata : {})[m
[31m-        }[m
[31m-      }));[m
[31m-[m
[31m-      const ids = await this.vectorStore.addDocuments(docs);[m
[31m-      [m
[31m-      logger.info(`Added ${docs.length} documents to vector store`);[m
[31m-      return ids;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Error adding documents:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async similaritySearch(query, k = 5, filter = {}) {[m
[31m-    if (!this.initialized) {[m
[31m-      await this.initialize();[m
[31m-    }[m
[31m-[m
[31m-    try {[m
[31m-      const results = await this.vectorStore.similaritySearchWithScore([m
[31m-        query,[m
[31m-        k,[m
[31m-        filter[m
[31m-      );[m
[31m-[m
[31m-      return results.map(([doc, score]) => ({[m
[31m-        content: doc.pageContent,[m
[31m-        metadata: doc.metadata,[m
[31m-        score[m
[31m-      }));[m
[31m-    } catch (error) {[m
[31m-      logger.error('Similarity search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async delete(filter = {}) {[m
[31m-    if (!this.initialized) {[m
[31m-      await this.initialize();[m
[31m-    }[m
[31m-[m
[31m-    try {[m
[31m-      await this.index.deleteMany(filter);[m
[31m-      logger.info('Documents deleted from vector store');[m
[31m-    } catch (error) {[m
[31m-      logger.error('Error deleting documents:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = VectorStore;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/prompts/analysis-prompts.js b/zenai-ai-engine/src/prompts/analysis-prompts.js[m
[1mdeleted file mode 100644[m
[1mindex ccfb544..0000000[m
[1m--- a/zenai-ai-engine/src/prompts/analysis-prompts.js[m
[1m+++ /dev/null[m
[36m@@ -1,172 +0,0 @@[m
[31m-const ANALYSIS_PROMPTS = {[m
[31m-  projectHealth: (projectData, tasks, team) => `[m
[31m-Analyze project health comprehensively:[m
[31m-[m
[31m-**Project:**[m
[31m-- Name: ${projectData.name}[m
[31m-- Status: ${projectData.status}[m
[31m-- Deadline: ${projectData.deadline || 'Not set'}[m
[31m-- Progress: ${projectData.progress}%[m
[31m-[m
[31m-**Tasks:**[m
[31m-- Total: ${tasks.length}[m
[31m-- Completed: ${tasks.filter(t => t.status === 'done').length}[m
[31m-- In Progress: ${tasks.filter(t => t.status === 'in-progress').length}[m
[31m-- Blocked: ${tasks.filter(t => t.status === 'blocked').length}[m
[31m-- Overdue: ${tasks.filter(t => new Date(t.dueDate) < new Date()).length}[m
[31m-[m
[31m-**Team:**[m
[31m-- Size: ${team.length}[m
[31m-- Utilization: ${team.map(m => `${m.name}: ${m.tasksCount} tasks`).join(', ')}[m
[31m-[m
[31m-Provide analysis:[m
[31m-{[m
[31m-  "healthScore": 0-100,[m
[31m-  "status": "healthy|at-risk|critical",[m
[31m-  "velocity": "on-track|slow|fast",[m
[31m-  "insights": ["insight1", "insight2", "insight3"],[m
[31m-  "risks": [[m
[31m-    {[m
[31m-      "type": "schedule|resource|scope|quality",[m
[31m-      "severity": "high|medium|low",[m
[31m-      "description": "Risk description",[m
[31m-      "mitigation": "How to address"[m
[31m-    }[m
[31m-  ],[m
[31m-  "recommendations": [[m
[31m-    {[m
[31m-      "priority": "high|medium|low",[m
[31m-      "action": "What to do",[m
[31m-      "expectedImpact": "Expected outcome"[m
[31m-    }[m
[31m-  ],[m
[31m-  "predictedCompletion": "YYYY-MM-DD",[m
[31m-  "blockers": ["blocker1"][m
[31m-}`,[m
[31m-[m
[31m-  taskComplexity: (task, projectContext) => `[m
[31m-Analyze task complexity in detail:[m
[31m-[m
[31m-Task: ${task.title}[m
[31m-Description: ${task.description}[m
[31m-[m
[31m-Project Context:[m
[31m-- Type: ${projectContext.type || 'Software Development'}[m
[31m-- Tech Stack: ${projectContext.stack || 'Modern web stack'}[m
[31m-- Team Skills: ${projectContext.skills || 'Intermediate'}[m
[31m-[m
[31m-Provide comprehensive analysis:[m
[31m-{[m
[31m-  "complexityScore": 1-10,[m
[31m-  "factors": {[m
[31m-    "technical": 1-10,[m
[31m-    "business": 1-10,[m
[31m-    "integration": 1-10,[m
[31m-    "unknown": 1-10[m
[31m-  },[m
[31m-  "estimatedHours": <number>,[m
[31m-  "confidenceLevel": "high|medium|low",[m
[31m-  "skillsRequired": ["skill1", "skill2"],[m
[31m-  "dependencies": [[m
[31m-    {[m
[31m-      "type": "technical|data|team",[m
[31m-      "description": "Dependency description",[m
[31m-      "impact": "high|medium|low"[m
[31m-    }[m
[31m-  ],[m
[31m-  "risks": [[m
[31m-    {[m
[31m-      "description": "Risk description",[m
[31m-      "probability": "high|medium|low",[m
[31m-      "impact": "high|medium|low",[m
[31m-      "mitigation": "How to address"[m
[31m-    }[m
[31m-  ],[m
[31m-  "recommendations": ["rec1", "rec2"],[m
[31m-  "similarTasks": ["If you've seen similar tasks"][m
[31m-}`,[m
[31m-[m
[31m-  codeQuality: (code, language, context) => `[m
[31m-Analyze code quality and provide detailed review:[m
[31m-[m
[31m-Language: ${language}[m
[31m-Context: ${context.purpose || 'General code review'}[m
[31m-[m
[31m-\`\`\`${language}[m
[31m-${code}[m
[31m-\`\`\`[m
[31m-[m
[31m-Provide structured review:[m
[31m-{[m
[31m-  "overallScore": 0-100,[m
[31m-  "issues": [[m
[31m-    {[m
[31m-      "severity": "critical|high|medium|low|info",[m
[31m-      "type": "bug|security|performance|style|maintainability",[m
[31m-      "line": <number>,[m
[31m-      "description": "Issue description",[m
[31m-      "suggestion": "How to fix",[m
[31m-      "codeExample": "Fixed code"[m
[31m-    }[m
[31m-  ],[m
[31m-  "strengths": ["strength1", "strength2"],[m
[31m-  "metrics": {[m
[31m-    "maintainability": 0-100,[m
[31m-    "complexity": "low|medium|high",[m
[31m-    "testability": 0-100,[m
[31m-    "security": 0-100[m
[31m-  },[m
[31m-  "recommendations": [[m
[31m-    "recommendation1",[m
[31m-    "recommendation2"[m
[31m-  ][m
[31m-}`,[m
[31m-[m
[31m-  meetingInsights: (transcript, context) => `[m
[31m-Extract insights from meeting transcript:[m
[31m-[m
[31m-Meeting: ${context.title || 'Team Meeting'}[m
[31m-Date: ${context.date}[m
[31m-Duration: ${context.duration || 'N/A'}[m
[31m-Participants: ${context.participants?.join(', ') || 'Not specified'}[m
[31m-[m
[31m-Transcript:[m
[31m-${transcript}[m
[31m-[m
[31m-Provide comprehensive summary:[m
[31m-{[m
[31m-  "executiveSummary": "2-3 sentence overview",[m
[31m-  "keyPoints": [[m
[31m-    {[m
[31m-      "topic": "Discussion topic",[m
[31m-      "summary": "What was discussed",[m
[31m-      "importance": "high|medium|low"[m
[31m-    }[m
[31m-  ],[m
[31m-  "decisions": [[m
[31m-    {[m
[31m-      "decision": "What was decided",[m
[31m-      "rationale": "Why",[m
[31m-      "impact": "Expected impact",[m
[31m-      "owner": "Person responsible"[m
[31m-    }[m
[31m-  ],[m
[31m-  "actionItems": [[m
[31m-    {[m
[31m-      "action": "What needs to be done",[m
[31m-      "owner": "Person or null",[m
[31m-      "dueDate": "YYYY-MM-DD or null",[m
[31m-      "priority": "high|medium|low",[m
[31m-      "dependencies": ["Other action items"],[m
[31m-      "estimatedEffort": "time estimate"[m
[31m-    }[m
[31m-  ],[m
[31m-  "questions": ["Unanswered question1"],[m
[31m-  "blockers": ["Blocker1"],[m
[31m-  "nextSteps": ["Next step1"],[m
[31m-  "sentiment": "positive|neutral|negative",[m
[31m-  "followUpNeeded": ["What needs follow-up"][m
[31m-}`[m
[31m-};[m
[31m-[m
[31m-module.exports = ANALYSIS_PROMPTS;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/prompts/system-prompts.js b/zenai-ai-engine/src/prompts/system-prompts.js[m
[1mdeleted file mode 100644[m
[1mindex f143cc2..0000000[m
[1m--- a/zenai-ai-engine/src/prompts/system-prompts.js[m
[1m+++ /dev/null[m
[36m@@ -1,95 +0,0 @@[m
[31m-const SYSTEM_PROMPTS = {[m
[31m-  productManager: `You are an expert AI Product Manager for ZenAI platform.[m
[31m-[m
[31m-**Core Responsibilities:**[m
[31m-- Strategic project planning and roadmap development[m
[31m-- Task creation with clear acceptance criteria[m
[31m-- Project health monitoring and risk assessment[m
[31m-- Team workload balancing and resource allocation[m
[31m-- Stakeholder communication and reporting[m
[31m-[m
[31m-**Decision-Making Framework:**[m
[31m-- Prioritize by business value and user impact[m
[31m-- Consider technical feasibility and constraints[m
[31m-- Balance short-term wins with long-term strategy[m
[31m-- Use data-driven insights for recommendations[m
[31m-[m
[31m-**Communication Style:**[m
[31m-- Professional yet approachable[m
[31m-- Clear, concise, and action-oriented[m
[31m-- Use structured formats (JSON) when requested[m
[31m-- Provide context for all recommendations[m
[31m-[m
[31m-Always be proactive in identifying issues and suggesting solutions.`,[m
[31m-[m
[31m-  taskAnalyzer: `You are a Task Analysis Specialist.[m
[31m-[m
[31m-**Expertise:**[m
[31m-- Software development estimation[m
[31m-- Technical complexity assessment[m
[31m-- Dependency identification[m
[31m-- Risk analysis and mitigation[m
[31m-- Resource allocation optimization[m
[31m-[m
[31m-**Analysis Framework:**[m
[31m-- Break down tasks into atomic units[m
[31m-- Consider technical and business complexity[m
[31m-- Identify hidden dependencies[m
[31m-- Account for uncertainty and risk[m
[31m-- Provide confidence levels with estimates[m
[31m-[m
[31m-Be precise, data-driven, and transparent about uncertainty.`,[m
[31m-[m
[31m-  codeReviewer: `You are a Senior Code Reviewer.[m
[31m-[m
[31m-**Review Focus:**[m
[31m-1. Code Quality - Readability, maintainability, style[m
[31m-2. Security - OWASP vulnerabilities, input validation[m
[31m-3. Performance - Optimization opportunities[m
[31m-4. Architecture - Design patterns, SOLID principles[m
[31m-5. Testing - Coverage, edge cases[m
[31m-[m
[31m-**Output Format:**[m
[31m-- Severity classification[m
[31m-- Line-specific feedback[m
[31m-- Suggested improvements with examples[m
[31m-- Best practice recommendations[m
[31m-[m
[31m-Be constructive, educational, and provide actionable feedback.`,[m
[31m-[m
[31m-  meetingSummarizer: `You are an expert meeting analyst.[m
[31m-[m
[31m-**Capabilities:**[m
[31m-- Extract key discussion points[m
[31m-- Identify decisions and action items[m
[31m-- Capture questions and blockers[m
[31m-- Assign ownership and deadlines[m
[31m-- Create executive summaries[m
[31m-[m
[31m-**Output Structure:**[m
[31m-- Executive summary (2-3 sentences)[m
[31m-- Key points and decisions[m
[31m-- Action items with owners[m
[31m-- Follow-up questions[m
[31m-- Next meeting agenda items[m
[31m-[m
[31m-Be concise, accurate, and highlight critical information.`,[m
[31m-[m
[31m-  orchestrator: `You are an AI Orchestrator coordinating multiple specialized agents.[m
[31m-[m
[31m-**Available Agents:**[m
[31m-- ProductManager: Planning, tasks, prioritization[m
[31m-- TaskAnalyzer: Complexity, estimation, dependencies[m
[31m-- CodeReviewer: Quality, security, best practices[m
[31m-- MeetingSummarizer: Transcription, action items[m
[31m-[m
[31m-**Your Role:**[m
[31m-- Analyze requests and determine agent routing[m
[31m-- Coordinate multi-agent workflows[m
[31m-- Synthesize results into coherent responses[m
[31m-- Optimize for efficiency[m
[31m-[m
[31m-Be intelligent about agent selection and result synthesis.`[m
[31m-};[m
[31m-[m
[31m-module.exports = SYSTEM_PROMPTS;[m
[1mdiff --git a/zenai-ai-engine/src/prompts/task-prompts.js b/zenai-ai-engine/src/prompts/task-prompts.js[m
[1mdeleted file mode 100644[m
[1mindex 28f6748..0000000[m
[1m--- a/zenai-ai-engine/src/prompts/task-prompts.js[m
[1m+++ /dev/null[m
[36m@@ -1,103 +0,0 @@[m
[31m-const TASK_PROMPTS = {[m
[31m-  createFromDescription: (description, projectContext) => `[m
[31m-Based on this description, create a well-structured task:[m
[31m-[m
[31m-Description: "${description}"[m
[31m-Project: ${projectContext.name || 'N/A'}[m
[31m-Context: ${projectContext.description || 'General task'}[m
[31m-[m
[31m-Extract and return JSON with:[m
[31m-{[m
[31m-  "title": "Clear, action-oriented title",[m
[31m-  "description": "Detailed description with acceptance criteria",[m
[31m-  "priority": "low|medium|high|urgent",[m
[31m-  "estimatedTime": <hours>,[m
[31m-  "tags": ["relevant", "tags"],[m
[31m-  "suggestedAssignee": "person or null",[m
[31m-  "acceptanceCriteria": [[m
[31m-    "Criterion 1",[m
[31m-    "Criterion 2"[m
[31m-  ],[m
[31m-  "subtasks": [[m
[31m-    "Subtask 1",[m
[31m-    "Subtask 2"[m
[31m-  ][m
[31m-}[m
[31m-[m
[31m-Return ONLY valid JSON, no additional text.`,[m
[31m-[m
[31m-  breakdownEpic: (epic) => `[m
[31m-Break down this epic into smaller, actionable tasks:[m
[31m-[m
[31m-Epic: ${epic.title}[m
[31m-Description: ${epic.description}[m
[31m-[m
[31m-Create 3-7 subtasks that are:[m
[31m-- Specific and independently completable[m
[31m-- Can be finished in 1-3 days[m
[31m-- Have clear deliverables[m
[31m-- Properly sequenced[m
[31m-[m
[31m-Return JSON array:[m
[31m-[{[m
[31m-  "title": "Task title",[m
[31m-  "description": "What needs to be done",[m
[31m-  "estimatedTime": <hours>,[m
[31m-  "priority": "low|medium|high",[m
[31m-  "dependencies": ["task_id"],[m
[31m-  "acceptanceCriteria": ["criteria"][m
[31m-}]`,[m
[31m-[m
[31m-  prioritizeTasks: (tasks, criteria) => `[m
[31m-Prioritize these tasks based on: ${criteria.factors || 'urgency, impact, dependencies'}[m
[31m-[m
[31m-Tasks:[m
[31m-${tasks.map((t, i) => `${i + 1}. ${t.title} - ${t.description}`).join('\n')}[m
[31m-[m
[31m-Context:[m
[31m-- Deadline: ${criteria.deadline || 'None'}[m
[31m-- Team Size: ${criteria.teamSize || 'Unknown'}[m
[31m-- Critical Path: ${criteria.criticalPath || 'Not defined'}[m
[31m-[m
[31m-Return JSON:[m
[31m-{[m
[31m-  "prioritizedTasks": [[m
[31m-    {[m
[31m-      "taskId": "id",[m
[31m-      "rank": 1,[m
[31m-      "priority": "urgent|high|medium|low",[m
[31m-      "reasoning": "Why this priority",[m
[31m-      "suggestedOrder": 1[m
[31m-    }[m
[31m-  ],[m
[31m-  "recommendations": ["recommendation1", "recommendation2"][m
[31m-}`,[m
[31m-[m
[31m-  estimateEffort: (task, context) => `[m
[31m-Estimate effort for this task:[m
[31m-[m
[31m-Task: ${task.title}[m
[31m-Description: ${task.description}[m
[31m-[m
[31m-Context:[m
[31m-- Team Experience: ${context.experience || 'Medium'}[m
[31m-- Technical Stack: ${context.stack || 'Standard'}[m
[31m-- Complexity Factors: ${context.factors || 'None specified'}[m
[31m-[m
[31m-Provide detailed estimation:[m
[31m-{[m
[31m-  "estimatedHours": <number>,[m
[31m-  "confidence": "high|medium|low",[m
[31m-  "breakdown": {[m
[31m-    "development": <hours>,[m
[31m-    "testing": <hours>,[m
[31m-    "review": <hours>,[m
[31m-    "documentation": <hours>[m
[31m-  },[m
[31m-  "assumptions": ["assumption1"],[m
[31m-  "risks": ["risk1"],[m
[31m-  "requiredSkills": ["skill1"][m
[31m-}`[m
[31m-};[m
[31m-[m
[31m-module.exports = TASK_PROMPTS;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/prompts/templates.js b/zenai-ai-engine/src/prompts/templates.js[m
[1mdeleted file mode 100644[m
[1mindex 4c28dd3..0000000[m
[1m--- a/zenai-ai-engine/src/prompts/templates.js[m
[1m+++ /dev/null[m
[36m@@ -1,238 +0,0 @@[m
[31m-const TEMPLATES = {[m
[31m-  // Task Templates[m
[31m-  task: {[m
[31m-    bug: {[m
[31m-      title: "üêõ [BUG] {summary}",[m
[31m-      description: `[m
[31m-**Bug Description:**[m
[31m-{description}[m
[31m-[m
[31m-**Steps to Reproduce:**[m
[31m-1. {step1}[m
[31m-2. {step2}[m
[31m-3. {step3}[m
[31m-[m
[31m-**Expected Behavior:**[m
[31m-{expected}[m
[31m-[m
[31m-**Actual Behavior:**[m
[31m-{actual}[m
[31m-[m
[31m-**Environment:**[m
[31m-- Browser/Device: {environment}[m
[31m-- Version: {version}[m
[31m-[m
[31m-**Screenshots/Logs:**[m
[31m-{attachments}[m
[31m-[m
[31m-**Priority Justification:**[m
[31m-{priority_reason}[m
[31m-`,[m
[31m-      tags: ["bug", "needs-investigation"][m
[31m-    },[m
[31m-[m
[31m-    feature: {[m
[31m-      title: "‚ú® [FEATURE] {summary}",[m
[31m-      description: `[m
[31m-**Feature Description:**[m
[31m-{description}[m
[31m-[m
[31m-**User Story:**[m
[31m-As a {user_type}, I want to {action} so that {benefit}.[m
[31m-[m
[31m-**Acceptance Criteria:**[m
[31m-- [ ] {criteria1}[m
[31m-- [ ] {criteria2}[m
[31m-- [ ] {criteria3}[m
[31m-[m
[31m-**Technical Considerations:**[m
[31m-{technical_notes}[m
[31m-[m
[31m-**Dependencies:**[m
[31m-{dependencies}[m
[31m-[m
[31m-**Success Metrics:**[m
[31m-{metrics}[m
[31m-`,[m
[31m-      tags: ["feature", "enhancement"][m
[31m-    },[m
[31m-[m
[31m-    refactor: {[m
[31m-      title: "‚ôªÔ∏è [REFACTOR] {summary}",[m
[31m-      description: `[m
[31m-**Refactoring Goal:**[m
[31m-{goal}[m
[31m-[m
[31m-**Current State:**[m
[31m-{current_state}[m
[31m-[m
[31m-**Proposed Changes:**[m
[31m-{proposed_changes}[m
[31m-[m
[31m-**Benefits:**[m
[31m-- {benefit1}[m
[31m-- {benefit2}[m
[31m-[m
[31m-**Risks:**[m
[31m-{risks}[m
[31m-[m
[31m-**Testing Strategy:**[m
[31m-{testing}[m
[31m-`,[m
[31m-      tags: ["refactor", "technical-debt"][m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  // Meeting Templates[m
[31m-  meeting: {[m
[31m-    standup: {[m
[31m-      title: "Daily Standup - {date}",[m
[31m-      agenda: [[m
[31m-        "What did you accomplish yesterday?",[m
[31m-        "What are you working on today?",[m
[31m-        "Any blockers?"[m
[31m-      ],[m
[31m-      duration: "15 minutes"[m
[31m-    },[m
[31m-[m
[31m-    sprint: {[m
[31m-      planning: {[m
[31m-        title: "Sprint Planning - Sprint {number}",[m
[31m-        agenda: [[m
[31m-          "Review sprint goal",[m
[31m-          "Prioritize backlog items",[m
[31m-          "Estimate effort",[m
[31m-          "Commit to sprint scope",[m
[31m-          "Identify dependencies and risks"[m
[31m-        ],[m
[31m-        duration: "2 hours"[m
[31m-      },[m
[31m-[m
[31m-      review: {[m
[31m-        title: "Sprint Review - Sprint {number}",[m
[31m-        agenda: [[m
[31m-          "Demo completed work",[m
[31m-          "Gather stakeholder feedback",[m
[31m-          "Review sprint metrics",[m
[31m-          "Discuss what's next"[m
[31m-        ],[m
[31m-        duration: "1 hour"[m
[31m-      },[m
[31m-[m
[31m-      retrospective: {[m
[31m-        title: "Sprint Retrospective - Sprint {number}",[m
[31m-        agenda: [[m
[31m-          "What went well?",[m
[31m-          "What could be improved?",[m
[31m-          "Action items for next sprint"[m
[31m-        ],[m
[31m-        duration: "1 hour"[m
[31m-      }[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  // Project Templates[m
[31m-  project: {[m
[31m-    software: {[m
[31m-      name: "{project_name}",[m
[31m-      description: "Software development project",[m
[31m-      phases: [[m
[31m-        "Requirements Gathering",[m
[31m-        "Design & Architecture",[m
[31m-        "Development",[m
[31m-        "Testing & QA",[m
[31m-        "Deployment",[m
[31m-        "Maintenance"[m
[31m-      ],[m
[31m-      defaultTags: ["development", "software"][m
[31m-    },[m
[31m-[m
[31m-    marketing: {[m
[31m-      name: "{campaign_name}",[m
[31m-      description: "Marketing campaign",[m
[31m-      phases: [[m
[31m-        "Research & Strategy",[m
[31m-        "Creative Development",[m
[31m-        "Content Creation",[m
[31m-        "Campaign Launch",[m
[31m-        "Monitoring & Optimization",[m
[31m-        "Reporting"[m
[31m-      ],[m
[31m-      defaultTags: ["marketing", "campaign"][m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  // Email Templates[m
[31m-  email: {[m
[31m-    projectUpdate: `[m
[31m-Subject: Project Update: {project_name} - {date}[m
[31m-[m
[31m-Hi Team,[m
[31m-[m
[31m-Here's our project update for {project_name}:[m
[31m-[m
[31m-**Progress:**[m
[31m-- Overall completion: {progress}%[m
[31m-- Tasks completed: {completed_tasks}[m
[31m-- Tasks in progress: {in_progress_tasks}[m
[31m-[m
[31m-**Highlights:**[m
[31m-{highlights}[m
[31m-[m
[31m-**Upcoming Milestones:**[m
[31m-{milestones}[m
[31m-[m
[31m-**Blockers & Risks:**[m
[31m-{blockers}[m
[31m-[m
[31m-**Next Steps:**[m
[31m-{next_steps}[m
[31m-[m
[31m-Questions or concerns? Let's discuss.[m
[31m-[m
[31m-Best regards,[m
[31m-{sender_name}[m
[31m-`,[m
[31m-[m
[31m-    statusReport: `[m
[31m-Subject: Weekly Status Report - {week_of}[m
[31m-[m
[31m-**Summary:**[m
[31m-{summary}[m
[31m-[m
[31m-**Completed:**[m
[31m-{completed_items}[m
[31m-[m
[31m-**In Progress:**[m
[31m-{in_progress_items}[m
[31m-[m
[31m-**Planned:**[m
[31m-{planned_items}[m
[31m-[m
[31m-**Metrics:**[m
[31m-- Velocity: {velocity}[m
[31m-- Quality Score: {quality_score}[m
[31m-- Team Utilization: {utilization}[m
[31m-[m
[31m-**Issues & Risks:**[m
[31m-{issues}[m
[31m-[m
[31m-**Requests & Decisions Needed:**[m
[31m-{requests}[m
[31m-`[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Template rendering function[m
[31m-const renderTemplate = (template, variables) => {[m
[31m-  let rendered = template;[m
[31m-  [m
[31m-  Object.keys(variables).forEach(key => {[m
[31m-    const placeholder = new RegExp(`{${key}}`, 'g');[m
[31m-    rendered = rendered.replace(placeholder, variables[key] || '');[m
[31m-  });[m
[31m-  [m
[31m-  return rendered;[m
[31m-};[m
[31m-[m
[31m-module.exports = { TEMPLATES, renderTemplate };[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/services/ai-orchestrator.js b/zenai-ai-engine/src/services/ai-orchestrator.js[m
[1mdeleted file mode 100644[m
[1mindex 32d4df3..0000000[m
[1m--- a/zenai-ai-engine/src/services/ai-orchestrator.js[m
[1m+++ /dev/null[m
[36m@@ -1,99 +0,0 @@[m
[31m-const OrchestratorAgent = require('../agents/orchestrator.agent');[m
[31m-const ContextManager = require('../memory/context.manager');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class AIOrchestrator {[m
[31m-  constructor() {[m
[31m-    this.agent = new OrchestratorAgent();[m
[31m-    this.contextManagers = new Map();[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    await this.agent.initialize();[m
[31m-    logger.info('AI Orchestrator initialized');[m
[31m-  }[m
[31m-[m
[31m-  async processRequest(request, options = {}) {[m
[31m-    try {[m
[31m-      const { userId, conversationId, context } = options;[m
[31m-[m
[31m-      // Get or create context manager[m
[31m-      const contextManager = this.getContextManager(userId, conversationId);[m
[31m-      await contextManager.initialize();[m
[31m-[m
[31m-      // Build context[m
[31m-      const fullContext = await contextManager.buildContext(request, {[m
[31m-        includeHistory: options.includeHistory !== false,[m
[31m-        includeDocuments: options.includeDocuments,[m
[31m-        additionalContext: context[m
[31m-      });[m
[31m-[m
[31m-      // Execute request through orchestrator[m
[31m-      const result = await this.agent.execute(request, fullContext);[m
[31m-[m
[31m-      // Save interaction[m
[31m-      await contextManager.saveInteraction([m
[31m-        request,[m
[31m-        result.finalResponse,[m
[31m-        { routing: result.routing }[m
[31m-      );[m
[31m-[m
[31m-      return {[m
[31m-        response: result.finalResponse,[m
[31m-        routing: result.routing,[m
[31m-        agentResults: result.agentResults,[m
[31m-        metadata: {[m
[31m-          timestamp: new Date().toISOString(),[m
[31m-          userId,[m
[31m-          conversationId[m
[31m-        }[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('AI Orchestrator error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async processComplexWorkflow(request, options = {}) {[m
[31m-    try {[m
[31m-      const { userId, conversationId, context } = options;[m
[31m-[m
[31m-      const contextManager = this.getContextManager(userId, conversationId);[m
[31m-      await contextManager.initialize();[m
[31m-[m
[31m-      const fullContext = await contextManager.buildContext(request, {[m
[31m-        additionalContext: context[m
[31m-      });[m
[31m-[m
[31m-      const result = await this.agent.handleComplexWorkflow(request, fullContext);[m
[31m-[m
[31m-      return result;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Complex workflow error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  getContextManager(userId, conversationId) {[m
[31m-    const key = `${userId}:${conversationId}`;[m
[31m-    [m
[31m-    if (!this.contextManagers.has(key)) {[m
[31m-      const manager = new ContextManager({ userId, conversationId });[m
[31m-      this.contextManagers.set(key, manager);[m
[31m-    }[m
[31m-    [m
[31m-    return this.contextManagers.get(key);[m
[31m-  }[m
[31m-[m
[31m-  async clearContext(userId, conversationId) {[m
[31m-    const key = `${userId}:${conversationId}`;[m
[31m-    const manager = this.contextManagers.get(key);[m
[31m-    [m
[31m-    if (manager) {[m
[31m-      await manager.clear();[m
[31m-      this.contextManagers.delete(key);[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = AIOrchestrator;[m
[1mdiff --git a/zenai-ai-engine/src/services/context-builder.js b/zenai-ai-engine/src/services/context-builder.js[m
[1mdeleted file mode 100644[m
[1mindex 3f3661b..0000000[m
[1m--- a/zenai-ai-engine/src/services/context-builder.js[m
[1m+++ /dev/null[m
[36m@@ -1,167 +0,0 @@[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class ContextBuilder {[m
[31m-  constructor() {[m
[31m-    this.contextTypes = {[m
[31m-      PROJECT: 'project',[m
[31m-      TASK: 'task',[m
[31m-      USER: 'user',[m
[31m-      TEAM: 'team',[m
[31m-      GENERAL: 'general'[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  buildProjectContext(project, tasks = [], team = []) {[m
[31m-    return {[m
[31m-      type: this.contextTypes.PROJECT,[m
[31m-      project: {[m
[31m-        id: project._id,[m
[31m-        name: project.name,[m
[31m-        description: project.description,[m
[31m-        status: project.status,[m
[31m-        priority: project.priority,[m
[31m-        progress: project.progress,[m
[31m-        deadline: project.deadline,[m
[31m-        tags: project.tags[m
[31m-      },[m
[31m-      tasks: {[m
[31m-        total: tasks.length,[m
[31m-        completed: tasks.filter(t => t.status === 'done').length,[m
[31m-        inProgress: tasks.filter(t => t.status === 'in-progress').length,[m
[31m-        todo: tasks.filter(t => t.status === 'todo').length,[m
[31m-        list: tasks.map(t => ({[m
[31m-          id: t._id,[m
[31m-          title: t.title,[m
[31m-          status: t.status,[m
[31m-          priority: t.priority,[m
[31m-          assignee: t.assignee?.name[m
[31m-        }))[m
[31m-      },[m
[31m-      team: {[m
[31m-        size: team.length,[m
[31m-        members: team.map(m => ({[m
[31m-          id: m._id,[m
[31m-          name: m.name,[m
[31m-          role: m.role,[m
[31m-          tasksAssigned: tasks.filter(t => [m
[31m-            t.assignee?._id?.toString() === m._id.toString()[m
[31m-          ).length[m
[31m-        }))[m
[31m-      }[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  buildTaskContext(task, relatedTasks = []) {[m
[31m-    return {[m
[31m-      type: this.contextTypes.TASK,[m
[31m-      task: {[m
[31m-        id: task._id,[m
[31m-        title: task.title,[m
[31m-        description: task.description,[m
[31m-        status: task.status,[m
[31m-        priority: task.priority,[m
[31m-        estimatedTime: task.estimatedTime,[m
[31m-        actualTime: task.actualTime,[m
[31m-        dueDate: task.dueDate,[m
[31m-        tags: task.tags,[m
[31m-        assignee: task.assignee?.name,[m
[31m-        createdBy: task.createdBy?.name[m
[31m-      },[m
[31m-      related: relatedTasks.map(t => ({[m
[31m-        id: t._id,[m
[31m-        title: t.title,[m
[31m-        relation: t.relation || 'dependency'[m
[31m-      })),[m
[31m-      project: task.project ? {[m
[31m-        id: task.project._id,[m
[31m-        name: task.project.name[m
[31m-      } : null[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  buildUserContext(user, preferences = {}) {[m
[31m-    return {[m
[31m-      type: this.contextTypes.USER,[m
[31m-      user: {[m
[31m-        id: user._id,[m
[31m-        name: user.name,[m
[31m-        email: user.email,[m
[31m-        role: user.role[m
[31m-      },[m
[31m-      preferences: {[m
[31m-        language: preferences.language || 'en',[m
[31m-        timezone: preferences.timezone || 'UTC',[m
[31m-        notifications: preferences.notifications || true,[m
[31m-        ...preferences[m
[31m-      }[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  buildTeamContext(team, projects = [], tasks = []) {[m
[31m-    return {[m
[31m-      type: this.contextTypes.TEAM,[m
[31m-      team: {[m
[31m-        members: team.map(m => ({[m
[31m-          id: m._id,[m
[31m-          name: m.name,[m
[31m-          role: m.role,[m
[31m-          availability: m.availability || 'available'[m
[31m-        })),[m
[31m-        size: team.length[m
[31m-      },[m
[31m-      workload: {[m
[31m-        activeProjects: projects.length,[m
[31m-        totalTasks: tasks.length,[m
[31m-        avgTasksPerMember: tasks.length / team.length,[m
[31m-        distribution: this.calculateWorkloadDistribution(team, tasks)[m
[31m-      }[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  calculateWorkloadDistribution(team, tasks) {[m
[31m-    return team.map(member => ({[m
[31m-      memberId: member._id,[m
[31m-      name: member.name,[m
[31m-      assignedTasks: tasks.filter(t => [m
[31m-        t.assignee?._id?.toString() === member._id.toString()[m
[31m-      ).length,[m
[31m-      completedTasks: tasks.filter(t => [m
[31m-        t.assignee?._id?.toString() === member._id.toString() && [m
[31m-        t.status === 'done'[m
[31m-      ).length[m
[31m-    }));[m
[31m-  }[m
[31m-[m
[31m-  mergeContexts(...contexts) {[m
[31m-    return contexts.reduce((merged, ctx) => {[m
[31m-      return { ...merged, ...ctx };[m
[31m-    }, {});[m
[31m-  }[m
[31m-[m
[31m-  formatForPrompt(context) {[m
[31m-    const lines = [];[m
[31m-    [m
[31m-    if (context.project) {[m
[31m-      lines.push(`**Project Context:**`);[m
[31m-      lines.push(`- Name: ${context.project.name}`);[m
[31m-      lines.push(`- Status: ${context.project.status}`);[m
[31m-      lines.push(`- Progress: ${context.project.progress}%`);[m
[31m-    }[m
[31m-    [m
[31m-    if (context.tasks) {[m
[31m-      lines.push(`\n**Tasks:**`);[m
[31m-      lines.push(`- Total: ${context.tasks.total}`);[m
[31m-      lines.push(`- Completed: ${context.tasks.completed}`);[m
[31m-      lines.push(`- In Progress: ${context.tasks.inProgress}`);[m
[31m-    }[m
[31m-    [m
[31m-    if (context.team) {[m
[31m-      lines.push(`\n**Team:**`);[m
[31m-      lines.push(`- Size: ${context.team.size}`);[m
[31m-    }[m
[31m-    [m
[31m-    return lines.join('\n');[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = ContextBuilder;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/services/response-generator.js b/zenai-ai-engine/src/services/response-generator.js[m
[1mdeleted file mode 100644[m
[1mindex d49e3d5..0000000[m
[1m--- a/zenai-ai-engine/src/services/response-generator.js[m
[1m+++ /dev/null[m
[36m@@ -1,119 +0,0 @@[m
[31m-const { ChatOpenAI } = require('@langchain/openai');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class ResponseGenerator {[m
[31m-  constructor() {[m
[31m-    this.model = new ChatOpenAI({[m
[31m-      modelName: process.env.OPENAI_MODEL || 'gpt-4',[m
[31m-      temperature: 0.7,[m
[31m-      streaming: true[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  async generateResponse(prompt, context = {}, options = {}) {[m
[31m-    try {[m
[31m-      const systemPrompt = this.buildSystemPrompt(context);[m
[31m-      const userPrompt = this.buildUserPrompt(prompt, context);[m
[31m-[m
[31m-      const messages = [[m
[31m-        { role: 'system', content: systemPrompt },[m
[31m-        { role: 'user', content: userPrompt }[m
[31m-      ];[m
[31m-[m
[31m-      if (options.stream) {[m
[31m-        return await this.streamResponse(messages, options.onToken);[m
[31m-      }[m
[31m-[m
[31m-      const response = await this.model.call(messages);[m
[31m-      return response.content;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Response generation error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async streamResponse(messages, onToken) {[m
[31m-    const stream = await this.model.stream(messages);[m
[31m-    let fullResponse = '';[m
[31m-[m
[31m-    for await (const chunk of stream) {[m
[31m-      const content = chunk.content;[m
[31m-      fullResponse += content;[m
[31m-      [m
[31m-      if (onToken) {[m
[31m-        onToken(content);[m
[31m-      }[m
[31m-    }[m
[31m-[m
[31m-    return fullResponse;[m
[31m-  }[m
[31m-[m
[31m-  buildSystemPrompt(context) {[m
[31m-    let prompt = `You are ZenAI, an intelligent assistant for project management and productivity.`;[m
[31m-[m
[31m-    if (context.role) {[m
[31m-      prompt += `\n\nYou are currently acting as a ${context.role}.`;[m
[31m-    }[m
[31m-[m
[31m-    if (context.capabilities) {[m
[31m-      prompt += `\n\nYour capabilities include: ${context.capabilities.join(', ')}.`;[m
[31m-    }[m
[31m-[m
[31m-    prompt += `\n\nAlways be helpful, concise, and action-oriented. When appropriate, provide structured responses with clear next steps.`;[m
[31m-[m
[31m-    return prompt;[m
[31m-  }[m
[31m-[m
[31m-  buildUserPrompt(prompt, context) {[m
[31m-    let fullPrompt = prompt;[m
[31m-[m
[31m-    if (context.projectContext) {[m
[31m-      fullPrompt = `${context.projectContext}\n\n${prompt}`;[m
[31m-    }[m
[31m-[m
[31m-    return fullPrompt;[m
[31m-  }[m
[31m-[m
[31m-  async generateStructuredResponse(prompt, schema, context = {}) {[m
[31m-    const systemPrompt = `${this.buildSystemPrompt(context)}[m
[31m-[m
[31m-Return your response as valid JSON matching this schema:[m
[31m-${JSON.stringify(schema, null, 2)}[m
[31m-[m
[31m-Only return the JSON, no additional text.`;[m
[31m-[m
[31m-    const messages = [[m
[31m-      { role: 'system', content: systemPrompt },[m
[31m-      { role: 'user', content: prompt }[m
[31m-    ];[m
[31m-[m
[31m-    const response = await this.model.call(messages);[m
[31m-    [m
[31m-    try {[m
[31m-      return JSON.parse(response.content);[m
[31m-    } catch (error) {[m
[31m-      logger.error('Failed to parse structured response:', error);[m
[31m-      throw new Error('Invalid JSON response');[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async generateMultipleResponses(prompt, count = 3, context = {}) {[m
[31m-    const promises = Array(count).fill(null).map(() =>[m
[31m-      this.generateResponse(prompt, context)[m
[31m-    );[m
[31m-[m
[31m-    return await Promise.all(promises);[m
[31m-  }[m
[31m-[m
[31m-  async refineResponse(initialResponse, refinementPrompt, context = {}) {[m
[31m-    const prompt = `Given this initial response:[m
[31m-[m
[31m-"${initialResponse}"[m
[31m-[m
[31m-${refinementPrompt}`;[m
[31m-[m
[31m-    return await this.generateResponse(prompt, context);[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = ResponseGenerator;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/services/task-automation.js b/zenai-ai-engine/src/services/task-automation.js[m
[1mdeleted file mode 100644[m
[1mindex 1a8833c..0000000[m
[1m--- a/zenai-ai-engine/src/services/task-automation.js[m
[1m+++ /dev/null[m
[36m@@ -1,180 +0,0 @@[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class TaskAutomation {[m
[31m-  constructor(options = {}) {[m
[31m-    this.rules = new Map();[m
[31m-    this.triggers = new Map();[m
[31m-    this.actions = new Map();[m
[31m-    [m
[31m-    this.registerDefaultActions();[m
[31m-  }[m
[31m-[m
[31m-  registerDefaultActions() {[m
[31m-    this.registerAction('send_notification', async (data) => {[m
[31m-      logger.info('Sending notification:', data);[m
[31m-      // Implement notification logic[m
[31m-    });[m
[31m-[m
[31m-    this.registerAction('update_status', async (data) => {[m
[31m-      logger.info('Updating status:', data);[m
[31m-      // Implement status update logic[m
[31m-    });[m
[31m-[m
[31m-    this.registerAction('assign_task', async (data) => {[m
[31m-      logger.info('Assigning task:', data);[m
[31m-      // Implement task assignment logic[m
[31m-    });[m
[31m-[m
[31m-    this.registerAction('create_subtask', async (data) => {[m
[31m-      logger.info('Creating subtask:', data);[m
[31m-      // Implement subtask creation logic[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  registerRule(ruleId, rule) {[m
[31m-    this.rules.set(ruleId, {[m
[31m-      id: ruleId,[m
[31m-      trigger: rule.trigger,[m
[31m-      conditions: rule.conditions || [],[m
[31m-      actions: rule.actions || [],[m
[31m-      enabled: rule.enabled !== false[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  registerAction(actionName, handler) {[m
[31m-    this.actions.set(actionName, handler);[m
[31m-  }[m
[31m-[m
[31m-  async evaluateTrigger(triggerType, data) {[m
[31m-    try {[m
[31m-      const matchingRules = Array.from(this.rules.values()).filter([m
[31m-        rule => rule.enabled && rule.trigger.type === triggerType[m
[31m-      );[m
[31m-[m
[31m-      for (const rule of matchingRules) {[m
[31m-        const shouldExecute = await this.evaluateConditions(rule.conditions, data);[m
[31m-        [m
[31m-        if (shouldExecute) {[m
[31m-          await this.executeActions(rule.actions, data);[m
[31m-        }[m
[31m-      }[m
[31m-    } catch (error) {[m
[31m-      logger.error('Trigger evaluation error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async evaluateConditions(conditions, data) {[m
[31m-    if (conditions.length === 0) return true;[m
[31m-[m
[31m-    for (const condition of conditions) {[m
[31m-      const result = await this.evaluateCondition(condition, data);[m
[31m-      if (!result) return false;[m
[31m-    }[m
[31m-[m
[31m-    return true;[m
[31m-  }[m
[31m-[m
[31m-  async evaluateCondition(condition, data) {[m
[31m-    const { field, operator, value } = condition;[m
[31m-    const actualValue = this.getNestedValue(data, field);[m
[31m-[m
[31m-    switch (operator) {[m
[31m-      case 'equals':[m
[31m-        return actualValue === value;[m
[31m-      case 'not_equals':[m
[31m-        return actualValue !== value;[m
[31m-      case 'contains':[m
[31m-        return actualValue?.includes(value);[m
[31m-      case 'greater_than':[m
[31m-        return actualValue > value;[m
[31m-      case 'less_than':[m
[31m-        return actualValue < value;[m
[31m-      case 'is_empty':[m
[31m-        return !actualValue || actualValue.length === 0;[m
[31m-      case 'is_not_empty':[m
[31m-        return actualValue && actualValue.length > 0;[m
[31m-      default:[m
[31m-        return false;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async executeActions(actions, data) {[m
[31m-    for (const action of actions) {[m
[31m-      try {[m
[31m-        const handler = this.actions.get(action.type);[m
[31m-        [m
[31m-        if (handler) {[m
[31m-          await handler({ ...data, ...action.params });[m
[31m-        } else {[m
[31m-          logger.warn(`Action handler not found: ${action.type}`);[m
[31m-        }[m
[31m-      } catch (error) {[m
[31m-        logger.error(`Action execution error (${action.type}):`, error);[m
[31m-      }[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  getNestedValue(obj, path) {[m
[31m-    return path.split('.').reduce((curr, key) => curr?.[key], obj);[m
[31m-  }[m
[31m-[m
[31m-  // Common automation rules[m
[31m-  createTaskCompletionRule() {[m
[31m-    return {[m
[31m-      trigger: { type: 'task.completed' },[m
[31m-      conditions: [],[m
[31m-      actions: [[m
[31m-        {[m
[31m-          type: 'send_notification',[m
[31m-          params: {[m
[31m-            message: 'Task completed!',[m
[31m-            channel: 'slack'[m
[31m-          }[m
[31m-        },[m
[31m-        {[m
[31m-          type: 'update_status',[m
[31m-          params: { status: 'done' }[m
[31m-        }[m
[31m-      ][m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  createDeadlineAlertRule() {[m
[31m-    return {[m
[31m-      trigger: { type: 'task.deadline_approaching' },[m
[31m-      conditions: [[m
[31m-        { field: 'status', operator: 'not_equals', value: 'done' },[m
[31m-        { field: 'daysUntilDeadline', operator: 'less_than', value: 3 }[m
[31m-      ],[m
[31m-      actions: [[m
[31m-        {[m
[31m-          type: 'send_notification',[m
[31m-          params: {[m
[31m-            message: 'Deadline approaching!',[m
[31m-            urgency: 'high'[m
[31m-          }[m
[31m-        }[m
[31m-      ][m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  createAutoAssignRule() {[m
[31m-    return {[m
[31m-      trigger: { type: 'task.created' },[m
[31m-      conditions: [[m
[31m-        { field: 'assignee', operator: 'is_empty' }[m
[31m-      ],[m
[31m-      actions: [[m
[31m-        {[m
[31m-          type: 'assign_task',[m
[31m-          params: {[m
[31m-            strategy: 'round_robin'[m
[31m-          }[m
[31m-        }[m
[31m-      ][m
[31m-    };[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = TaskAutomation;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/tools/calendar.tool.js b/zenai-ai-engine/src/tools/calendar.tool.js[m
[1mdeleted file mode 100644[m
[1mindex ddcb4ec..0000000[m
[1m--- a/zenai-ai-engine/src/tools/calendar.tool.js[m
[1m+++ /dev/null[m
[36m@@ -1,119 +0,0 @@[m
[31m-const { DynamicTool } = require('langchain/tools');[m
[31m-const { google } = require('googleapis');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class CalendarTool {[m
[31m-  constructor() {[m
[31m-    this.auth = new google.auth.GoogleAuth({[m
[31m-      keyFile: process.env.GOOGLE_CALENDAR_CREDENTIALS,[m
[31m-      scopes: ['https://www.googleapis.com/auth/calendar'][m
[31m-    });[m
[31m-    [m
[31m-    this.calendar = google.calendar({ version: 'v3', auth: this.auth });[m
[31m-  }[m
[31m-[m
[31m-  createTools() {[m
[31m-    return [[m
[31m-      new DynamicTool({[m
[31m-        name: 'calendar_create_event',[m
[31m-        description: 'Create calendar event',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const data = JSON.parse(input);[m
[31m-            const event = await this.createEvent(data);[m
[31m-            return `Event created: ${event.htmlLink}`;[m
[31m-          } catch (error) {[m
[31m-            logger.error('Calendar create event error:', error);[m
[31m-            return `Error creating event: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'calendar_list_events',[m
[31m-        description: 'List upcoming calendar events',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const { timeMin, timeMax, maxResults } = JSON.parse(input || '{}');[m
[31m-            const events = await this.listEvents(timeMin, timeMax, maxResults);[m
[31m-            return JSON.stringify(events);[m
[31m-          } catch (error) {[m
[31m-            logger.error('Calendar list events error:', error);[m
[31m-            return `Error listing events: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'calendar_check_availability',[m
[31m-        description: 'Check calendar availability',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const { start, end } = JSON.parse(input);[m
[31m-            const available = await this.checkAvailability(start, end);[m
[31m-            return available ? 'Time slot available' : 'Time slot occupied';[m
[31m-          } catch (error) {[m
[31m-            logger.error('Calendar availability error:', error);[m
[31m-            return `Error checking availability: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      })[m
[31m-    ];[m
[31m-  }[m
[31m-[m
[31m-  async createEvent(data) {[m
[31m-    const event = {[m
[31m-      summary: data.title,[m
[31m-      description: data.description,[m
[31m-      start: {[m
[31m-        dateTime: data.startTime,[m
[31m-        timeZone: data.timeZone || 'UTC'[m
[31m-      },[m
[31m-      end: {[m
[31m-        dateTime: data.endTime,[m
[31m-        timeZone: data.timeZone || 'UTC'[m
[31m-      },[m
[31m-      attendees: data.attendees?.map(email => ({ email })),[m
[31m-      reminders: {[m
[31m-        useDefault: false,[m
[31m-        overrides: [[m
[31m-          { method: 'email', minutes: 24 * 60 },[m
[31m-          { method: 'popup', minutes: 30 }[m
[31m-        ][m
[31m-      }[m
[31m-    };[m
[31m-[m
[31m-    const response = await this.calendar.events.insert({[m
[31m-      calendarId: 'primary',[m
[31m-      resource: event[m
[31m-    });[m
[31m-    [m
[31m-    return response.data;[m
[31m-  }[m
[31m-[m
[31m-  async listEvents(timeMin, timeMax, maxResults = 10) {[m
[31m-    const response = await this.calendar.events.list({[m
[31m-      calendarId: 'primary',[m
[31m-      timeMin: timeMin || new Date().toISOString(),[m
[31m-      timeMax: timeMax,[m
[31m-      maxResults,[m
[31m-      singleEvents: true,[m
[31m-      orderBy: 'startTime'[m
[31m-    });[m
[31m-    [m
[31m-    return response.data.items.map(event => ({[m
[31m-      id: event.id,[m
[31m-      title: event.summary,[m
[31m-      start: event.start.dateTime || event.start.date,[m
[31m-      end: event.end.dateTime || event.end.date,[m
[31m-      attendees: event.attendees?.map(a => a.email)[m
[31m-    }));[m
[31m-  }[m
[31m-[m
[31m-  async checkAvailability(start, end) {[m
[31m-    const events = await this.listEvents(start, end);[m
[31m-    return events.length === 0;[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = CalendarTool;[m
[1mdiff --git a/zenai-ai-engine/src/tools/github.tool.js b/zenai-ai-engine/src/tools/github.tool.js[m
[1mdeleted file mode 100644[m
[1mindex 5bde644..0000000[m
[1m--- a/zenai-ai-engine/src/tools/github.tool.js[m
[1m+++ /dev/null[m
[36m@@ -1,106 +0,0 @@[m
[31m-const { DynamicTool } = require('langchain/tools');[m
[31m-const { Octokit } = require('@octokit/rest');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class GitHubTool {[m
[31m-  constructor() {[m
[31m-    this.octokit = new Octokit({[m
[31m-      auth: process.env.GITHUB_TOKEN[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  createTools() {[m
[31m-    return [[m
[31m-      new DynamicTool({[m
[31m-        name: 'github_create_issue',[m
[31m-        description: 'Create GitHub issue',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const data = JSON.parse(input);[m
[31m-            const issue = await this.createIssue(data);[m
[31m-            return `Issue created: ${issue.html_url}`;[m
[31m-          } catch (error) {[m
[31m-            logger.error('GitHub create issue error:', error);[m
[31m-            return `Error creating issue: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'github_create_pr',[m
[31m-        description: 'Create pull request',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const data = JSON.parse(input);[m
[31m-            const pr = await this.createPullRequest(data);[m
[31m-            return `PR created: ${pr.html_url}`;[m
[31m-          } catch (error) {[m
[31m-            logger.error('GitHub create PR error:', error);[m
[31m-            return `Error creating PR: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'github_get_repo_info',[m
[31m-        description: 'Get repository information',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const { owner, repo } = JSON.parse(input);[m
[31m-            const info = await this.getRepoInfo(owner, repo);[m
[31m-            return JSON.stringify(info);[m
[31m-          } catch (error) {[m
[31m-            logger.error('GitHub get repo error:', error);[m
[31m-            return `Error getting repo: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      })[m
[31m-    ];[m
[31m-  }[m
[31m-[m
[31m-  async createIssue(data) {[m
[31m-    const { owner, repo, title, body, labels, assignees } = data;[m
[31m-    [m
[31m-    const response = await this.octokit.issues.create({[m
[31m-      owner,[m
[31m-      repo,[m
[31m-      title,[m
[31m-      body,[m
[31m-      labels,[m
[31m-      assignees[m
[31m-    });[m
[31m-    [m
[31m-    return response.data;[m
[31m-  }[m
[31m-[m
[31m-  async createPullRequest(data) {[m
[31m-    const { owner, repo, title, body, head, base } = data;[m
[31m-    [m
[31m-    const response = await this.octokit.pulls.create({[m
[31m-      owner,[m
[31m-      repo,[m
[31m-      title,[m
[31m-      body,[m
[31m-      head,[m
[31m-      base: base || 'main'[m
[31m-    });[m
[31m-    [m
[31m-    return response.data;[m
[31m-  }[m
[31m-[m
[31m-  async getRepoInfo(owner, repo) {[m
[31m-    const response = await this.octokit.repos.get({ owner, repo });[m
[31m-    [m
[31m-    return {[m
[31m-      name: response.data.name,[m
[31m-      description: response.data.description,[m
[31m-      stars: response.data.stargazers_count,[m
[31m-      forks: response.data.forks_count,[m
[31m-      openIssues: response.data.open_issues_count,[m
[31m-      language: response.data.language,[m
[31m-      url: response.data.html_url[m
[31m-    };[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = GitHubTool;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/tools/notion.tool.js b/zenai-ai-engine/src/tools/notion.tool.js[m
[1mdeleted file mode 100644[m
[1mindex 848873e..0000000[m
[1m--- a/zenai-ai-engine/src/tools/notion.tool.js[m
[1m+++ /dev/null[m
[36m@@ -1,139 +0,0 @@[m
[31m-const { DynamicTool } = require('langchain/tools');[m
[31m-const axios = require('axios');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class NotionTool {[m
[31m-  constructor() {[m
[31m-    this.apiKey = process.env.NOTION_API_KEY;[m
[31m-    this.databaseId = process.env.NOTION_DATABASE_ID;[m
[31m-    this.baseURL = 'https://api.notion.com/v1';[m
[31m-    [m
[31m-    this.client = axios.create({[m
[31m-      baseURL: this.baseURL,[m
[31m-      headers: {[m
[31m-        'Authorization': `Bearer ${this.apiKey}`,[m
[31m-        'Notion-Version': '2022-06-28',[m
[31m-        'Content-Type': 'application/json'[m
[31m-      }[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  createTools() {[m
[31m-    return [[m
[31m-      new DynamicTool({[m
[31m-        name: 'notion_create_page',[m
[31m-        description: 'Create a new page in Notion database',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const data = JSON.parse(input);[m
[31m-            const response = await this.createPage(data);[m
[31m-            return `Page created successfully: ${response.url}`;[m
[31m-          } catch (error) {[m
[31m-            logger.error('Notion create page error:', error);[m
[31m-            return `Error creating page: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'notion_query_database',[m
[31m-        description: 'Query Notion database with filters',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const filters = JSON.parse(input);[m
[31m-            const results = await this.queryDatabase(filters);[m
[31m-            return JSON.stringify(results);[m
[31m-          } catch (error) {[m
[31m-            logger.error('Notion query error:', error);[m
[31m-            return `Error querying database: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'notion_update_page',[m
[31m-        description: 'Update existing Notion page',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const { pageId, properties } = JSON.parse(input);[m
[31m-            await this.updatePage(pageId, properties);[m
[31m-            return `Page ${pageId} updated successfully`;[m
[31m-          } catch (error) {[m
[31m-            logger.error('Notion update error:', error);[m
[31m-            return `Error updating page: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      })[m
[31m-    ];[m
[31m-  }[m
[31m-[m
[31m-  async createPage(data) {[m
[31m-    const response = await this.client.post('/pages', {[m
[31m-      parent: { database_id: this.databaseId },[m
[31m-      properties: this.formatProperties(data)[m
[31m-    });[m
[31m-    [m
[31m-    return response.data;[m
[31m-  }[m
[31m-[m
[31m-  async queryDatabase(filters = {}) {[m
[31m-    const response = await this.client.post(`/databases/${this.databaseId}/query`, {[m
[31m-      filter: filters,[m
[31m-      sorts: [{ property: 'Created', direction: 'descending' }][m
[31m-    });[m
[31m-    [m
[31m-    return response.data.results;[m
[31m-  }[m
[31m-[m
[31m-  async updatePage(pageId, properties) {[m
[31m-    const response = await this.client.patch(`/pages/${pageId}`, {[m
[31m-      properties: this.formatProperties(properties)[m
[31m-    });[m
[31m-    [m
[31m-    return response.data;[m
[31m-  }[m
[31m-[m
[31m-  formatProperties(data) {[m
[31m-    const properties = {};[m
[31m-    [m
[31m-    if (data.title) {[m
[31m-      properties.Name = {[m
[31m-        title: [{ text: { content: data.title } }][m
[31m-      };[m
[31m-    }[m
[31m-    [m
[31m-    if (data.status) {[m
[31m-      properties.Status = {[m
[31m-        select: { name: data.status }[m
[31m-      };[m
[31m-    }[m
[31m-    [m
[31m-    if (data.priority) {[m
[31m-      properties.Priority = {[m
[31m-        select: { name: data.priority }[m
[31m-      };[m
[31m-    }[m
[31m-    [m
[31m-    if (data.assignee) {[m
[31m-      properties.Assignee = {[m
[31m-        people: [{ id: data.assignee }][m
[31m-      };[m
[31m-    }[m
[31m-    [m
[31m-    if (data.dueDate) {[m
[31m-      properties['Due Date'] = {[m
[31m-        date: { start: data.dueDate }[m
[31m-      };[m
[31m-    }[m
[31m-    [m
[31m-    if (data.tags) {[m
[31m-      properties.Tags = {[m
[31m-        multi_select: data.tags.map(tag => ({ name: tag }))[m
[31m-      };[m
[31m-    }[m
[31m-    [m
[31m-    return properties;[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = NotionTool;[m
[1mdiff --git a/zenai-ai-engine/src/tools/search.tool.js b/zenai-ai-engine/src/tools/search.tool.js[m
[1mdeleted file mode 100644[m
[1mindex 8d7fd2d..0000000[m
[1m--- a/zenai-ai-engine/src/tools/search.tool.js[m
[1m+++ /dev/null[m
[36m@@ -1,104 +0,0 @@[m
[31m-const { DynamicTool } = require('langchain/tools');[m
[31m-const axios = require('axios');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class SearchTool {[m
[31m-  constructor() {[m
[31m-    this.serpApiKey = process.env.SERPAPI_API_KEY;[m
[31m-    this.tavilyApiKey = process.env.TAVILY_API_KEY;[m
[31m-  }[m
[31m-[m
[31m-  createTools() {[m
[31m-    return [[m
[31m-      new DynamicTool({[m
[31m-        name: 'web_search',[m
[31m-        description: 'Search the web for information',[m
[31m-        func: async (query) => {[m
[31m-          try {[m
[31m-            const results = await this.search(query);[m
[31m-            return JSON.stringify(results);[m
[31m-          } catch (error) {[m
[31m-            logger.error('Web search error:', error);[m
[31m-            return `Error searching: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'search_documentation',[m
[31m-        description: 'Search technical documentation',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const { query, source } = JSON.parse(input);[m
[31m-            const results = await this.searchDocs(query, source);[m
[31m-            return JSON.stringify(results);[m
[31m-          } catch (error) {[m
[31m-            logger.error('Documentation search error:', error);[m
[31m-            return `Error searching docs: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      })[m
[31m-    ];[m
[31m-  }[m
[31m-[m
[31m-  async search(query, numResults = 5) {[m
[31m-    if (this.tavilyApiKey) {[m
[31m-      return await this.tavilySearch(query, numResults);[m
[31m-    } else if (this.serpApiKey) {[m
[31m-      return await this.serpApiSearch(query, numResults);[m
[31m-    }[m
[31m-    [m
[31m-    throw new Error('No search API configured');[m
[31m-  }[m
[31m-[m
[31m-  async tavilySearch(query, maxResults) {[m
[31m-    const response = await axios.post('https://api.tavily.com/search', {[m
[31m-      api_key: this.tavilyApiKey,[m
[31m-      query,[m
[31m-      max_results: maxResults,[m
[31m-      search_depth: 'advanced'[m
[31m-    });[m
[31m-[m
[31m-    return response.data.results.map(r => ({[m
[31m-      title: r.title,[m
[31m-      url: r.url,[m
[31m-      snippet: r.content,[m
[31m-      score: r.score[m
[31m-    }));[m
[31m-  }[m
[31m-[m
[31m-  async serpApiSearch(query, numResults) {[m
[31m-    const response = await axios.get('https://serpapi.com/search', {[m
[31m-      params: {[m
[31m-        api_key: this.serpApiKey,[m
[31m-        q: query,[m
[31m-        num: numResults[m
[31m-      }[m
[31m-    });[m
[31m-[m
[31m-    return response.data.organic_results?.map(r => ({[m
[31m-      title: r.title,[m
[31m-      url: r.link,[m
[31m-      snippet: r.snippet[m
[31m-    })) || [];[m
[31m-  }[m
[31m-[m
[31m-  async searchDocs(query, source = 'all') {[m
[31m-    // Implement documentation-specific search[m
[31m-    // Could integrate with Algolia, ReadTheDocs, etc.[m
[31m-    const docSources = {[m
[31m-      react: 'https://react.dev',[m
[31m-      nodejs: 'https://nodejs.org/docs',[m
[31m-      mdn: 'https://developer.mozilla.org'[m
[31m-    };[m
[31m-[m
[31m-    if (source !== 'all' && docSources[source]) {[m
[31m-      return await this.search(`${query} site:${docSources[source]}`);[m
[31m-    }[m
[31m-[m
[31m-    return await this.search(`${query} documentation`);[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = SearchTool;[m
[31m-[m
[1mdiff --git a/zenai-ai-engine/src/tools/slack.tool.js b/zenai-ai-engine/src/tools/slack.tool.js[m
[1mdeleted file mode 100644[m
[1mindex 500bd4e..0000000[m
[1m--- a/zenai-ai-engine/src/tools/slack.tool.js[m
[1m+++ /dev/null[m
[36m@@ -1,140 +0,0 @@[m
[31m-const { DynamicTool } = require('langchain/tools');[m
[31m-const axios = require('axios');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class SlackTool {[m
[31m-  constructor() {[m
[31m-    this.botToken = process.env.SLACK_BOT_TOKEN;[m
[31m-    this.webhookUrl = process.env.SLACK_WEBHOOK_URL;[m
[31m-    [m
[31m-    this.client = axios.create({[m
[31m-      baseURL: 'https://slack.com/api',[m
[31m-      headers: {[m
[31m-        'Authorization': `Bearer ${this.botToken}`,[m
[31m-        'Content-Type': 'application/json'[m
[31m-      }[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  createTools() {[m
[31m-    return [[m
[31m-      new DynamicTool({[m
[31m-        name: 'slack_send_message',[m
[31m-        description: 'Send message to Slack channel',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const { channel, message } = JSON.parse(input);[m
[31m-            await this.sendMessage(channel, message);[m
[31m-            return `Message sent to ${channel}`;[m
[31m-          } catch (error) {[m
[31m-            logger.error('Slack send message error:', error);[m
[31m-            return `Error sending message: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'slack_send_notification',[m
[31m-        description: 'Send rich notification with attachments',[m
[31m-        func: async (input) => {[m
[31m-          try {[m
[31m-            const data = JSON.parse(input);[m
[31m-            await this.sendNotification(data);[m
[31m-            return 'Notification sent successfully';[m
[31m-          } catch (error) {[m
[31m-            logger.error('Slack notification error:', error);[m
[31m-            return `Error sending notification: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      }),[m
[31m-[m
[31m-      new DynamicTool({[m
[31m-        name: 'slack_get_channels',[m
[31m-        description: 'List available Slack channels',[m
[31m-        func: async () => {[m
[31m-          try {[m
[31m-            const channels = await this.getChannels();[m
[31m-            return JSON.stringify(channels);[m
[31m-          } catch (error) {[m
[31m-            logger.error('Slack get channels error:', error);[m
[31m-            return `Error getting channels: ${error.message}`;[m
[31m-          }[m
[31m-        }[m
[31m-      })[m
[31m-    ];[m
[31m-  }[m
[31m-[m
[31m-  async sendMessage(channel, text) {[m
[31m-    const response = await this.client.post('/chat.postMessage', {[m
[31m-      channel,[m
[31m-      text[m
[31m-    });[m
[31m-    [m
[31m-    return response.data;[m
[31m-  }[m
[31m-[m
[31m-  async sendNotification(data) {[m
[31m-    const payload = {[m
[31m-      text: data.title || 'Notification',[m
[31m-      blocks: [[m
[31m-        {[m
[31m-          type: 'header',[m
[31m-          text: {[m
[31m-            type: 'plain_text',[m
[31m-            text: data.title || 'Notification'[m
[31m-          }[m
[31m-        },[m
[31m-        {[m
[31m-          type: 'section',[m
[31m-          text: {[m
[31m-            type: 'mrkdwn',[m
[31m-            text: data.message[m
[31m-          }[m
[31m-        }[m
[31m-      ][m
[31m-    };[m
[31m-[m
[31m-    if (data.fields) {[m
[31m-      payload.blocks.push({[m
[31m-        type: 'section',[m
[31m-        fields: data.fields.map(field => ({[m
[31m-          type: 'mrkdwn',[m
[31m-          text: `*${field.label}:*\n${field.value}`[m
[31m-        }))[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    if (data.actions) {[m
[31m-      payload.blocks.push({[m
[31m-        type: 'actions',[m
[31m-        elements: data.actions.map(action => ({[m
[31m-          type: 'button',[m
[31m-          text: {[m
[31m-            type: 'plain_text',[m
[31m-            text: action.text[m
[31m-          },[m
[31m-          url: action.url[m
[31m-        }))[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    if (this.webhookUrl) {[m
[31m-      await axios.post(this.webhookUrl, payload);[m
[31m-    } else {[m
[31m-      await this.client.post('/chat.postMessage', {[m
[31m-        channel: data.channel,[m
[31m-        ...payload[m
[31m-      });[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async getChannels() {[m
[31m-    const response = await this.client.get('/conversations.list');[m
[31m-    return response.data.channels.map(ch => ({[m
[31m-      id: ch.id,[m
[31m-      name: ch.name[m
[31m-    }));[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = SlackTool;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/utils/logger.js b/zenai-ai-engine/src/utils/logger.js[m
[1mdeleted file mode 100644[m
[1mindex dafe95f..0000000[m
[1m--- a/zenai-ai-engine/src/utils/logger.js[m
[1m+++ /dev/null[m
[36m@@ -1,28 +0,0 @@[m
[31m-// src/utils/logger.js[m
[31m-const winston = require('winston');[m
[31m-[m
[31m-const logFormat = winston.format.combine([m
[31m-  winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),[m
[31m-  winston.format.errors({ stack: true }),[m
[31m-  winston.format.printf(({ timestamp, level, message, stack }) => {[m
[31m-    if (stack) {[m
[31m-      return `${timestamp} [${level}]: ${message}\n${stack}`;[m
[31m-    }[m
[31m-    return `${timestamp} [${level}]: ${message}`;[m
[31m-  })[m
[31m-);[m
[31m-[m
[31m-const logger = winston.createLogger({[m
[31m-  level: process.env.LOG_LEVEL || 'info',[m
[31m-  format: logFormat,[m
[31m-  transports: [[m
[31m-    new winston.transports.Console({[m
[31m-      format: winston.format.combine([m
[31m-        winston.format.colorize(),[m
[31m-        logFormat[m
[31m-      )[m
[31m-    })[m
[31m-  ][m
[31m-});[m
[31m-[m
[31m-module.exports = logger;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/utils/prompt-optimizer.js b/zenai-ai-engine/src/utils/prompt-optimizer.js[m
[1mdeleted file mode 100644[m
[1mindex a2ad9ba..0000000[m
[1m--- a/zenai-ai-engine/src/utils/prompt-optimizer.js[m
[1m+++ /dev/null[m
[36m@@ -1,154 +0,0 @@[m
[31m-const TokenCounter = require('./token-counter');[m
[31m-const logger = require('./logger');[m
[31m-[m
[31m-class PromptOptimizer {[m
[31m-  constructor(modelName = 'gpt-4') {[m
[31m-    this.tokenCounter = new TokenCounter(modelName);[m
[31m-    this.maxTokens = 8000; // Conservative limit[m
[31m-  }[m
[31m-[m
[31m-  optimize(prompt, context = {}, options = {}) {[m
[31m-    const maxTokens = options.maxTokens || this.maxTokens;[m
[31m-    [m
[31m-    // Start with the base prompt[m
[31m-    let optimized = prompt;[m
[31m-    let currentTokens = this.tokenCounter.countTokens(optimized);[m
[31m-[m
[31m-    // Add context if it fits[m
[31m-    if (context && currentTokens < maxTokens * 0.7) {[m
[31m-      const contextStr = this.formatContext(context);[m
[31m-      const contextTokens = this.tokenCounter.countTokens(contextStr);[m
[31m-      [m
[31m-      if (currentTokens + contextTokens < maxTokens * 0.8) {[m
[31m-        optimized = `${contextStr}\n\n${optimized}`;[m
[31m-        currentTokens += contextTokens;[m
[31m-      } else {[m
[31m-        // Truncate context to fit[m
[31m-        const availableTokens = Math.floor(maxTokens * 0.5);[m
[31m-        const truncatedContext = this.tokenCounter.truncateToTokenLimit([m
[31m-          contextStr,[m
[31m-          availableTokens[m
[31m-        );[m
[31m-        optimized = `${truncatedContext}\n\n${optimized}`;[m
[31m-        currentTokens = this.tokenCounter.countTokens(optimized);[m
[31m-      }[m
[31m-    }[m
[31m-[m
[31m-    // Add examples if specified and if there's room[m
[31m-    if (options.examples && currentTokens < maxTokens * 0.85) {[m
[31m-      const examplesStr = this.formatExamples(options.examples);[m
[31m-      const examplesTokens = this.tokenCounter.countTokens(examplesStr);[m
[31m-      [m
[31m-      if (currentTokens + examplesTokens < maxTokens * 0.9) {[m
[31m-        optimized = `${optimized}\n\n${examplesStr}`;[m
[31m-      }[m
[31m-    }[m
[31m-[m
[31m-    return optimized;[m
[31m-  }[m
[31m-[m
[31m-  formatContext(context) {[m
[31m-    const lines = [];[m
[31m-    [m
[31m-    if (typeof context === 'string') {[m
[31m-      return context;[m
[31m-    }[m
[31m-[m
[31m-    for (const [key, value] of Object.entries(context)) {[m
[31m-      if (typeof value === 'object') {[m
[31m-        lines.push(`${key}: ${JSON.stringify(value, null, 2)}`);[m
[31m-      } else {[m
[31m-        lines.push(`${key}: ${value}`);[m
[31m-      }[m
[31m-    }[m
[31m-[m
[31m-    return lines.join('\n');[m
[31m-  }[m
[31m-[m
[31m-  formatExamples(examples) {[m
[31m-    return examples.map((ex, i) => [m
[31m-      `Example ${i + 1}:\nInput: ${ex.input}\nOutput: ${ex.output}`[m
[31m-    ).join('\n\n');[m
[31m-  }[m
[31m-[m
[31m-  compressPrompt(prompt) {[m
[31m-    // Remove extra whitespace[m
[31m-    let compressed = prompt.replace(/\s+/g, ' ').trim();[m
[31m-    [m
[31m-    // Remove redundant phrases[m
[31m-    const redundantPhrases = [[m
[31m-      /please\s+/gi,[m
[31m-      /kindly\s+/gi,[m
[31m-      /essentially\s+/gi,[m
[31m-      /basically\s+/gi[m
[31m-    ];[m
[31m-[m
[31m-    redundantPhrases.forEach(phrase => {[m
[31m-      compressed = compressed.replace(phrase, '');[m
[31m-    });[m
[31m-[m
[31m-    return compressed;[m
[31m-  }[m
[31m-[m
[31m-  extractKeyInformation(text, maxTokens) {[m
[31m-    // Split into sentences[m
[31m-    const sentences = text.match(/[^.!?]+[.!?]+/g) || [text];[m
[31m-    [m
[31m-    // Score sentences by importance (simple heuristic)[m
[31m-    const scored = sentences.map(sentence => ({[m
[31m-      text: sentence,[m
[31m-      score: this.scoreSentence(sentence)[m
[31m-    }));[m
[31m-[m
[31m-    // Sort by score[m
[31m-    scored.sort((a, b) => b.score - a.score);[m
[31m-[m
[31m-    // Take sentences until we hit token limit[m
[31m-    let result = '';[m
[31m-    let tokens = 0;[m
[31m-[m
[31m-    for (const item of scored) {[m
[31m-      const sentenceTokens = this.tokenCounter.countTokens(item.text);[m
[31m-      if (tokens + sentenceTokens > maxTokens) break;[m
[31m-      [m
[31m-      result += item.text + ' ';[m
[31m-      tokens += sentenceTokens;[m
[31m-    }[m
[31m-[m
[31m-    return result.trim();[m
[31m-  }[m
[31m-[m
[31m-  scoreSentence(sentence) {[m
[31m-    let score = 0;[m
[31m-    [m
[31m-    // Important keywords increase score[m
[31m-    const importantKeywords = [[m
[31m-      'important', 'critical', 'must', 'required', 'urgent',[m
[31m-      'deadline', 'priority', 'key', 'essential', 'vital'[m
[31m-    ];[m
[31m-[m
[31m-    importantKeywords.forEach(keyword => {[m
[31m-      if (sentence.toLowerCase().includes(keyword)) {[m
[31m-        score += 2;[m
[31m-      }[m
[31m-    });[m
[31m-[m
[31m-    // Numbers and dates are often important[m
[31m-    if (/\d+/.test(sentence)) {[m
[31m-      score += 1;[m
[31m-    }[m
[31m-[m
[31m-    // Questions are often important[m
[31m-    if (sentence.includes('?')) {[m
[31m-      score += 1;[m
[31m-    }[m
[31m-[m
[31m-    return score;[m
[31m-  }[m
[31m-[m
[31m-  cleanup() {[m
[31m-    this.tokenCounter.cleanup();[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = PromptOptimizer;[m
[1mdiff --git a/zenai-ai-engine/src/utils/response-parser.js b/zenai-ai-engine/src/utils/response-parser.js[m
[1mdeleted file mode 100644[m
[1mindex e12fbca..0000000[m
[1m--- a/zenai-ai-engine/src/utils/response-parser.js[m
[1m+++ /dev/null[m
[36m@@ -1,166 +0,0 @@[m
[31m-const logger = require('./logger');[m
[31m-[m
[31m-class ResponseParser {[m
[31m-  parseJSON(response) {[m
[31m-    try {[m
[31m-      // Remove markdown code blocks if present[m
[31m-      let cleaned = response.trim();[m
[31m-      [m
[31m-      if (cleaned.startsWith('```json')) {[m
[31m-        cleaned = cleaned.replace(/```json\n?/g, '').replace(/```\n?$/g, '');[m
[31m-      } else if (cleaned.startsWith('```')) {[m
[31m-        cleaned = cleaned.replace(/```\n?/g, '');[m
[31m-      }[m
[31m-[m
[31m-      return JSON.parse(cleaned);[m
[31m-    } catch (error) {[m
[31m-      logger.error('JSON parsing error:', error);[m
[31m-      [m
[31m-      // Try to extract JSON from text[m
[31m-      const jsonMatch = response.match(/\{[\s\S]*\}/);[m
[31m-      if (jsonMatch) {[m
[31m-        try {[m
[31m-          return JSON.parse(jsonMatch[0]);[m
[31m-        } catch (e) {[m
[31m-          throw new Error('Failed to parse JSON response');[m
[31m-        }[m
[31m-      }[m
[31m-      [m
[31m-      throw new Error('No valid JSON found in response');[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  parseList(response) {[m
[31m-    // Extract list items from various formats[m
[31m-    const lines = response.split('\n');[m
[31m-    const items = [];[m
[31m-[m
[31m-    for (const line of lines) {[m
[31m-      const trimmed = line.trim();[m
[31m-      [m
[31m-      // Numbered list: 1. Item[m
[31m-      if (/^\d+\.\s/.test(trimmed)) {[m
[31m-        items.push(trimmed.replace(/^\d+\.\s/, ''));[m
[31m-      }[m
[31m-      // Bullet list: - Item or * Item[m
[31m-      else if (/^[-*]\s/.test(trimmed)) {[m
[31m-        items.push(trimmed.replace(/^[-*]\s/, ''));[m
[31m-      }[m
[31m-      // Plain items[m
[31m-      else if (trimmed && !trimmed.startsWith('#')) {[m
[31m-        items.push(trimmed);[m
[31m-      }[m
[31m-    }[m
[31m-[m
[31m-    return items;[m
[31m-  }[m
[31m-[m
[31m-  parseMarkdown(response) {[m
[31m-    const sections = {};[m
[31m-    const lines = response.split('\n');[m
[31m-    let currentSection = 'main';[m
[31m-    let currentContent = [];[m
[31m-[m
[31m-    for (const line of lines) {[m
[31m-      const trimmed = line.trim();[m
[31m-      [m
[31m-      // Check for headers[m
[31m-      const headerMatch = trimmed.match(/^(#{1,6})\s(.+)$/);[m
[31m-      if (headerMatch) {[m
[31m-        // Save previous section[m
[31m-        if (currentContent.length > 0) {[m
[31m-          sections[currentSection] = currentContent.join('\n').trim();[m
[31m-        }[m
[31m-        [m
[31m-        // Start new section[m
[31m-        currentSection = headerMatch[2].toLowerCase().replace(/\s+/g, '_');[m
[31m-        currentContent = [];[m
[31m-      } else {[m
[31m-        currentContent.push(line);[m
[31m-      }[m
[31m-    }[m
[31m-[m
[31m-    // Save last section[m
[31m-    if (currentContent.length > 0) {[m
[31m-      sections[currentSection] = currentContent.join('\n').trim();[m
[31m-    }[m
[31m-[m
[31m-    return sections;[m
[31m-  }[m
[31m-[m
[31m-  extractCodeBlocks(response) {[m
[31m-    const codeBlocks = [];[m
[31m-    const regex = /```(\w+)?\n([\s\S]*?)```/g;[m
[31m-    let match;[m
[31m-[m
[31m-    while ((match = regex.exec(response)) !== null) {[m
[31m-      codeBlocks.push({[m
[31m-        language: match[1] || 'text',[m
[31m-        code: match[2].trim()[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    return codeBlocks;[m
[31m-  }[m
[31m-[m
[31m-  extractMetadata(response) {[m
[31m-    const metadata = {};[m
[31m-    [m
[31m-    // Extract key-value pairs from formats like "Key: Value"[m
[31m-    const kvRegex = /^([A-Z][a-zA-Z\s]+):\s*(.+)$/gm;[m
[31m-    let match;[m
[31m-[m
[31m-    while ((match = kvRegex.exec(response)) !== null) {[m
[31m-      const key = match[1].toLowerCase().replace(/\s+/g, '_');[m
[31m-      const value = match[2].trim();[m
[31m-      metadata[key] = value;[m
[31m-    }[m
[31m-[m
[31m-    return metadata;[m
[31m-  }[m
[31m-[m
[31m-  cleanResponse(response) {[m
[31m-    // Remove common AI artifacts[m
[31m-    let cleaned = response.trim();[m
[31m-    [m
[31m-    // Remove thinking tags if present[m
[31m-    cleaned = cleaned.replace(/<think>[\s\S]*?<\/think>/gi, '');[m
[31m-    [m
[31m-    // Remove system messages[m
[31m-    cleaned = cleaned.replace(/^(System|Assistant|AI):\s*/gim, '');[m
[31m-    [m
[31m-    // Remove excessive whitespace[m
[31m-    cleaned = cleaned.replace(/\n{3,}/g, '\n\n');[m
[31m-    [m
[31m-    return cleaned.trim();[m
[31m-  }[m
[31m-[m
[31m-  validateStructure(response, schema) {[m
[31m-    try {[m
[31m-      const parsed = this.parseJSON(response);[m
[31m-      [m
[31m-      // Check required fields[m
[31m-      for (const field of schema.required || []) {[m
[31m-        if (!(field in parsed)) {[m
[31m-          throw new Error(`Missing required field: ${field}`);[m
[31m-        }[m
[31m-      }[m
[31m-[m
[31m-      // Validate types[m
[31m-      for (const [field, expectedType] of Object.entries(schema.properties || {})) {[m
[31m-        if (field in parsed) {[m
[31m-          const actualType = typeof parsed[field];[m
[31m-          if (actualType !== expectedType.type) {[m
[31m-            throw new Error(`Invalid type for ${field}: expected ${expectedType.type}, got ${actualType}`);[m
[31m-          }[m
[31m-        }[m
[31m-      }[m
[31m-[m
[31m-      return { valid: true, data: parsed };[m
[31m-    } catch (error) {[m
[31m-      return { valid: false, error: error.message };[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = ResponseParser;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/utils/token-counter.js b/zenai-ai-engine/src/utils/token-counter.js[m
[1mdeleted file mode 100644[m
[1mindex a0f1ad3..0000000[m
[1m--- a/zenai-ai-engine/src/utils/token-counter.js[m
[1m+++ /dev/null[m
[36m@@ -1,95 +0,0 @@[m
[31m-[m
[31m-const { encoding_for_model } = require('tiktoken');[m
[31m-const logger = require('./logger');[m
[31m-[m
[31m-class TokenCounter {[m
[31m-  constructor(modelName = 'gpt-4') {[m
[31m-    try {[m
[31m-      this.encoding = encoding_for_model(modelName);[m
[31m-      this.modelName = modelName;[m
[31m-    } catch (error) {[m
[31m-      logger.warn(`Failed to load encoding for ${modelName}, using cl100k_base`);[m
[31m-      this.encoding = encoding_for_model('cl100k_base');[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  countTokens(text) {[m
[31m-    if (!text) return 0;[m
[31m-    return this.encoding.encode(text).length;[m
[31m-  }[m
[31m-[m
[31m-  countMessagesTokens(messages) {[m
[31m-    let totalTokens = 0;[m
[31m-[m
[31m-    for (const message of messages) {[m
[31m-      // Every message follows <|start|>{role/name}\n{content}<|end|>\n[m
[31m-      totalTokens += 4;[m
[31m-      [m
[31m-      if (message.role) {[m
[31m-        totalTokens += this.countTokens(message.role);[m
[31m-      }[m
[31m-      [m
[31m-      if (message.content) {[m
[31m-        totalTokens += this.countTokens(message.content);[m
[31m-      }[m
[31m-      [m
[31m-      if (message.name) {[m
[31m-        totalTokens += this.countTokens(message.name);[m
[31m-        totalTokens += -1; // Role is omitted[m
[31m-      }[m
[31m-    }[m
[31m-[m
[31m-    totalTokens += 2; // Every reply is primed with <|start|>assistant[m
[31m-[m
[31m-    return totalTokens;[m
[31m-  }[m
[31m-[m
[31m-  estimateCost(tokens, model = this.modelName) {[m
[31m-    // Approximate costs (as of 2024)[m
[31m-    const costs = {[m
[31m-      'gpt-4': { input: 0.03, output: 0.06 },[m
[31m-      'gpt-4-turbo': { input: 0.01, output: 0.03 },[m
[31m-      'gpt-3.5-turbo': { input: 0.0015, output: 0.002 }[m
[31m-    };[m
[31m-[m
[31m-    const modelCost = costs[model] || costs['gpt-4'];[m
[31m-    return {[m
[31m-      input: (tokens / 1000) * modelCost.input,[m
[31m-      output: (tokens / 1000) * modelCost.output[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  truncateToTokenLimit(text, maxTokens) {[m
[31m-    const tokens = this.encoding.encode(text);[m
[31m-    [m
[31m-    if (tokens.length <= maxTokens) {[m
[31m-      return text;[m
[31m-    }[m
[31m-[m
[31m-    const truncatedTokens = tokens.slice(0, maxTokens);[m
[31m-    return this.encoding.decode(truncatedTokens);[m
[31m-  }[m
[31m-[m
[31m-  splitIntoChunks(text, chunkSize, overlap = 0) {[m
[31m-    const tokens = this.encoding.encode(text);[m
[31m-    const chunks = [];[m
[31m-    [m
[31m-    let start = 0;[m
[31m-    while (start < tokens.length) {[m
[31m-      const end = Math.min(start + chunkSize, tokens.length);[m
[31m-      const chunkTokens = tokens.slice(start, end);[m
[31m-      chunks.push(this.encoding.decode(chunkTokens));[m
[31m-      start = end - overlap;[m
[31m-    }[m
[31m-[m
[31m-    return chunks;[m
[31m-  }[m
[31m-[m
[31m-  cleanup() {[m
[31m-    if (this.encoding) {[m
[31m-      this.encoding.free();[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = TokenCounter;[m
[1mdiff --git a/zenai-ai-engine/src/whisper/audio-processor.js b/zenai-ai-engine/src/whisper/audio-processor.js[m
[1mdeleted file mode 100644[m
[1mindex 2b3a208..0000000[m
[1m--- a/zenai-ai-engine/src/whisper/audio-processor.js[m
[1m+++ /dev/null[m
[36m@@ -1,209 +0,0 @@[m
[31m-const ffmpeg = require('ffmpeg-static');[m
[31m-const { exec } = require('child_process');[m
[31m-const { promisify } = require('util');[m
[31m-const fs = require('fs');[m
[31m-const path = require('path');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-const execPromise = promisify(exec);[m
[31m-[m
[31m-class AudioProcessor {[m
[31m-  constructor() {[m
[31m-    this.supportedFormats = ['.mp3', '.wav', '.m4a', '.ogg', '.flac'];[m
[31m-    this.outputFormat = 'mp3';[m
[31m-    this.sampleRate = 16000; // 16kHz for Whisper[m
[31m-    this.channels = 1; // Mono[m
[31m-  }[m
[31m-[m
[31m-  async processAudio(inputPath, options = {}) {[m
[31m-    try {[m
[31m-      const ext = path.extname(inputPath).toLowerCase();[m
[31m-      [m
[31m-      // Check if already in supported format[m
[31m-      if (this.supportedFormats.includes(ext) && !options.forceConvert) {[m
[31m-        return inputPath;[m
[31m-      }[m
[31m-[m
[31m-      const outputPath = this.getOutputPath(inputPath);[m
[31m-      await this.convert(inputPath, outputPath, options);[m
[31m-      [m
[31m-      return outputPath;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Audio processing error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async convert(inputPath, outputPath, options = {}) {[m
[31m-    const sampleRate = options.sampleRate || this.sampleRate;[m
[31m-    const channels = options.channels || this.channels;[m
[31m-    const bitrate = options.bitrate || '32k';[m
[31m-[m
[31m-    const command = `${ffmpeg} -i "${inputPath}" \[m
[31m-      -acodec libmp3lame \[m
[31m-      -ar ${sampleRate} \[m
[31m-      -ac ${channels} \[m
[31m-      -ab ${bitrate} \[m
[31m-      "${outputPath}"`;[m
[31m-[m
[31m-    try {[m
[31m-      await execPromise(command);[m
[31m-      logger.info(`Audio converted: ${outputPath}`);[m
[31m-    } catch (error) {[m
[31m-      logger.error('FFmpeg conversion error:', error);[m
[31m-      throw new Error('Failed to convert audio file');[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async extractAudioFromVideo(videoPath, outputPath) {[m
[31m-    const command = `${ffmpeg} -i "${videoPath}" \[m
[31m-      -vn \[m
[31m-      -acodec libmp3lame \[m
[31m-      -ar ${this.sampleRate} \[m
[31m-      -ac ${this.channels} \[m
[31m-      "${outputPath}"`;[m
[31m-[m
[31m-    try {[m
[31m-      await execPromise(command);[m
[31m-      logger.info(`Audio extracted from video: ${outputPath}`);[m
[31m-      return outputPath;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Audio extraction error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async splitAudio(inputPath, chunkDuration = 600) {[m
[31m-    const outputPattern = inputPath.replace([m
[31m-      path.extname(inputPath),[m
[31m-      '_chunk_%03d.mp3'[m
[31m-    );[m
[31m-[m
[31m-    const command = `${ffmpeg} -i "${inputPath}" \[m
[31m-      -f segment \[m
[31m-      -segment_time ${chunkDuration} \[m
[31m-      -c copy \[m
[31m-      "${outputPattern}"`;[m
[31m-[m
[31m-    try {[m
[31m-      await execPromise(command);[m
[31m-      [m
[31m-      const dir = path.dirname(inputPath);[m
[31m-      const basename = path.basename(inputPath, path.extname(inputPath));[m
[31m-      const chunks = fs.readdirSync(dir)[m
[31m-        .filter(f => f.startsWith(`${basename}_chunk_`))[m
[31m-        .map(f => path.join(dir, f))[m
[31m-        .sort();[m
[31m-[m
[31m-      logger.info(`Audio split into ${chunks.length} chunks`);[m
[31m-      return chunks;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Audio splitting error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async getAudioInfo(filePath) {[m
[31m-    const command = `${ffmpeg} -i "${filePath}" 2>&1`;[m
[31m-[m
[31m-    try {[m
[31m-      const { stdout, stderr } = await execPromise(command);[m
[31m-      const output = stderr || stdout;[m
[31m-[m
[31m-      const duration = this.extractDuration(output);[m
[31m-      const format = this.extractFormat(output);[m
[31m-      const codec = this.extractCodec(output);[m
[31m-      const sampleRate = this.extractSampleRate(output);[m
[31m-[m
[31m-      return { duration, format, codec, sampleRate };[m
[31m-    } catch (error) {[m
[31m-      // FFmpeg returns error code even on success for -i[m
[31m-      if (error.stderr) {[m
[31m-        const output = error.stderr;[m
[31m-        return {[m
[31m-          duration: this.extractDuration(output),[m
[31m-          format: this.extractFormat(output),[m
[31m-          codec: this.extractCodec(output),[m
[31m-          sampleRate: this.extractSampleRate(output)[m
[31m-        };[m
[31m-      }[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async normalizeVolume(inputPath, outputPath, targetLevel = -20) {[m
[31m-    const command = `${ffmpeg} -i "${inputPath}" \[m
[31m-      -af "loudnorm=I=${targetLevel}:TP=-1.5:LRA=11" \[m
[31m-      "${outputPath}"`;[m
[31m-[m
[31m-    try {[m
[31m-      await execPromise(command);[m
[31m-      logger.info(`Audio volume normalized: ${outputPath}`);[m
[31m-      return outputPath;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Volume normalization error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async removeNoise(inputPath, outputPath) {[m
[31m-    // Simple noise reduction using highpass and lowpass filters[m
[31m-    const command = `${ffmpeg} -i "${inputPath}" \[m
[31m-      -af "highpass=f=200, lowpass=f=3000" \[m
[31m-      "${outputPath}"`;[m
[31m-[m
[31m-    try {[m
[31m-      await execPromise(command);[m
[31m-      logger.info(`Noise reduction applied: ${outputPath}`);[m
[31m-      return outputPath;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Noise reduction error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  getOutputPath(inputPath) {[m
[31m-    const dir = path.dirname(inputPath);[m
[31m-    const basename = path.basename(inputPath, path.extname(inputPath));[m
[31m-    return path.join(dir, `${basename}_processed.${this.outputFormat}`);[m
[31m-  }[m
[31m-[m
[31m-  extractDuration(output) {[m
[31m-    const match = output.match(/Duration: (\d{2}):(\d{2}):(\d{2}\.\d{2})/);[m
[31m-    if (match) {[m
[31m-      const hours = parseInt(match[1]);[m
[31m-      const minutes = parseInt(match[2]);[m
[31m-      const seconds = parseFloat(match[3]);[m
[31m-      return hours * 3600 + minutes * 60 + seconds;[m
[31m-    }[m
[31m-    return null;[m
[31m-  }[m
[31m-[m
[31m-  extractFormat(output) {[m
[31m-    const match = output.match(/Input #\d+, (\w+),/);[m
[31m-    return match ? match[1] : null;[m
[31m-  }[m
[31m-[m
[31m-  extractCodec(output) {[m
[31m-    const match = output.match(/Audio: (\w+)/);[m
[31m-    return match ? match[1] : null;[m
[31m-  }[m
[31m-[m
[31m-  extractSampleRate(output) {[m
[31m-    const match = output.match(/(\d+) Hz/);[m
[31m-    return match ? parseInt(match[1]) : null;[m
[31m-  }[m
[31m-[m
[31m-  cleanup(filePath) {[m
[31m-    try {[m
[31m-      if (fs.existsSync(filePath)) {[m
[31m-        fs.unlinkSync(filePath);[m
[31m-        logger.info(`Cleaned up file: ${filePath}`);[m
[31m-      }[m
[31m-    } catch (error) {[m
[31m-      logger.error(`Cleanup error for ${filePath}:`, error);[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = AudioProcessor;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-ai-engine/src/whisper/transcription.service.js b/zenai-ai-engine/src/whisper/transcription.service.js[m
[1mdeleted file mode 100644[m
[1mindex 269865a..0000000[m
[1m--- a/zenai-ai-engine/src/whisper/transcription.service.js[m
[1m+++ /dev/null[m
[36m@@ -1,181 +0,0 @@[m
[31m-// src/whisper/transcription.service.js[m
[31m-const { OpenAI } = require('openai');[m
[31m-const fs = require('fs');[m
[31m-const path = require('path');[m
[31m-const ffmpeg = require('ffmpeg-static');[m
[31m-const { exec } = require('child_process');[m
[31m-const { promisify } = require('util');[m
[31m-const execPromise = promisify(exec);[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class WhisperService {[m
[31m-  constructor() {[m
[31m-    this.openai = new OpenAI({[m
[31m-      apiKey: process.env.OPENAI_API_KEY[m
[31m-    });[m
[31m-    this.model = process.env.WHISPER_MODEL || 'whisper-1';[m
[31m-    this.maxFileSize = 25 * 1024 * 1024; // 25MB limit[m
[31m-  }[m
[31m-[m
[31m-  async transcribe(audioFilePath, options = {}) {[m
[31m-    try {[m
[31m-      // Validate file[m
[31m-      if (!fs.existsSync(audioFilePath)) {[m
[31m-        throw new Error('Audio file not found');[m
[31m-      }[m
[31m-[m
[31m-      const stats = fs.statSync(audioFilePath);[m
[31m-      if (stats.size > this.maxFileSize) {[m
[31m-        logger.info('File too large, splitting audio...');[m
[31m-        return await this.transcribeLargeFile(audioFilePath, options);[m
[31m-      }[m
[31m-[m
[31m-      // Process audio file[m
[31m-      const processedPath = await this.preprocessAudio(audioFilePath);[m
[31m-[m
[31m-      // Transcribe[m
[31m-      logger.info(`Transcribing: ${processedPath}`);[m
[31m-      const transcription = await this.openai.audio.transcriptions.create({[m
[31m-        file: fs.createReadStream(processedPath),[m
[31m-        model: this.model,[m
[31m-        language: options.language || process.env.WHISPER_LANGUAGE || 'en',[m
[31m-        response_format: options.format || 'verbose_json',[m
[31m-        temperature: options.temperature || 0[m
[31m-      });[m
[31m-[m
[31m-      // Cleanup[m
[31m-      if (processedPath !== audioFilePath) {[m
[31m-        fs.unlinkSync(processedPath);[m
[31m-      }[m
[31m-[m
[31m-      return {[m
[31m-        text: transcription.text,[m
[31m-        segments: transcription.segments || [],[m
[31m-        duration: transcription.duration,[m
[31m-        language: transcription.language[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Transcription error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async preprocessAudio(inputPath) {[m
[31m-    const ext = path.extname(inputPath).toLowerCase();[m
[31m-    [m
[31m-    // If already in supported format, return as-is[m
[31m-    if (['.mp3', '.wav', '.m4a'].includes(ext)) {[m
[31m-      return inputPath;[m
[31m-    }[m
[31m-[m
[31m-    // Convert to MP3[m
[31m-    const outputPath = inputPath.replace(ext, '_processed.mp3');[m
[31m-    [m
[31m-    try {[m
[31m-      await execPromise([m
[31m-        `${ffmpeg} -i "${inputPath}" -acodec libmp3lame -ar 16000 -ac 1 -ab 32k "${outputPath}"`[m
[31m-      );[m
[31m-      [m
[31m-      logger.info(`Audio converted: ${outputPath}`);[m
[31m-      return outputPath;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Audio preprocessing error:', error);[m
[31m-      throw new Error('Failed to preprocess audio');[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async transcribeLargeFile(audioFilePath, options) {[m
[31m-    // Split large audio file into chunks[m
[31m-    const chunks = await this.splitAudio(audioFilePath);[m
[31m-    [m
[31m-    // Transcribe each chunk[m
[31m-    const transcriptions = await Promise.all([m
[31m-      chunks.map(chunk => this.transcribe(chunk, options))[m
[31m-    );[m
[31m-[m
[31m-    // Merge transcriptions[m
[31m-    const fullText = transcriptions.map(t => t.text).join(' ');[m
[31m-    const allSegments = transcriptions.flatMap(t => t.segments || []);[m
[31m-[m
[31m-    // Cleanup chunks[m
[31m-    chunks.forEach(chunk => fs.unlinkSync(chunk));[m
[31m-[m
[31m-    return {[m
[31m-      text: fullText,[m
[31m-      segments: allSegments,[m
[31m-      duration: transcriptions.reduce((sum, t) => sum + (t.duration || 0), 0),[m
[31m-      language: transcriptions[0]?.language[m
[31m-    };[m
[31m-  }[m
[31m-[m
[31m-  async splitAudio(inputPath, chunkDuration = 600) {[m
[31m-    // Split into 10-minute chunks[m
[31m-    const outputPattern = inputPath.replace(path.extname(inputPath), '_chunk_%03d.mp3');[m
[31m-    [m
[31m-    try {[m
[31m-      await execPromise([m
[31m-        `${ffmpeg} -i "${inputPath}" -f segment -segment_time ${chunkDuration} -c copy "${outputPattern}"`[m
[31m-      );[m
[31m-[m
[31m-      // Get list of created chunks[m
[31m-      const dir = path.dirname(inputPath);[m
[31m-      const basename = path.basename(inputPath, path.extname(inputPath));[m
[31m-      const chunks = fs.readdirSync(dir)[m
[31m-        .filter(f => f.startsWith(`${basename}_chunk_`))[m
[31m-        .map(f => path.join(dir, f));[m
[31m-[m
[31m-      return chunks;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Audio splitting error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async transcribeStream(audioStream, options = {}) {[m
[31m-    // For real-time transcription[m
[31m-    const tempFile = path.join('/tmp', `stream_${Date.now()}.mp3`);[m
[31m-    const writeStream = fs.createWriteStream(tempFile);[m
[31m-[m
[31m-    return new Promise((resolve, reject) => {[m
[31m-      audioStream.pipe(writeStream);[m
[31m-[m
[31m-      writeStream.on('finish', async () => {[m
[31m-        try {[m
[31m-          const result = await this.transcribe(tempFile, options);[m
[31m-          fs.unlinkSync(tempFile);[m
[31m-          resolve(result);[m
[31m-        } catch (error) {[m
[31m-          reject(error);[m
[31m-        }[m
[31m-      });[m
[31m-[m
[31m-      writeStream.on('error', reject);[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  async translate(audioFilePath, targetLanguage = 'en') {[m
[31m-    try {[m
[31m-      const processedPath = await this.preprocessAudio(audioFilePath);[m
[31m-[m
[31m-      const translation = await this.openai.audio.translations.create({[m
[31m-        file: fs.createReadStream(processedPath),[m
[31m-        model: this.model[m
[31m-      });[m
[31m-[m
[31m-      if (processedPath !== audioFilePath) {[m
[31m-        fs.unlinkSync(processedPath);[m
[31m-      }[m
[31m-[m
[31m-      return {[m
[31m-        text: translation.text,[m
[31m-        sourceLanguage: 'auto-detected',[m
[31m-        targetLanguage[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Translation error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = WhisperService;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/.env.example b/zenai-backend/.env.example[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/.gitignore b/zenai-backend/.gitignore[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/Dockerfile b/zenai-backend/Dockerfile[m
[1mdeleted file mode 100644[m
[1mindex 1c8d926..0000000[m
[1m--- a/zenai-backend/Dockerfile[m
[1m+++ /dev/null[m
[36m@@ -1,37 +0,0 @@[m
[31m-# backend/Dockerfile[m
[31m-FROM node:18-alpine AS builder[m
[31m-[m
[31m-WORKDIR /app[m
[31m-[m
[31m-# Copy package files[m
[31m-COPY package*.json ./[m
[31m-[m
[31m-# Install dependencies[m
[31m-RUN npm ci --only=production && npm cache clean --force[m
[31m-[m
[31m-# Copy application files[m
[31m-COPY . .[m
[31m-[m
[31m-# Production stage[m
[31m-FROM node:18-alpine[m
[31m-[m
[31m-WORKDIR /app[m
[31m-[m
[31m-# Copy from builder[m
[31m-COPY --from=builder /app/node_modules ./node_modules[m
[31m-COPY --from=builder /app ./[m
[31m-[m
[31m-# Create non-root user[m
[31m-RUN addgroup -g 1001 -S nodejs && \[m
[31m-    adduser -S nodejs -u 1001 && \[m
[31m-    chown -R nodejs:nodejs /app[m
[31m-[m
[31m-USER nodejs[m
[31m-[m
[31m-EXPOSE 5000[m
[31m-[m
[31m-# Health check[m
[31m-HEALTHCHECK --interval=30s --timeout=3s --start-period=40s --retries=3 \[m
[31m-  CMD node -e "require('http').get('http://localhost:5000/health', (r) => {process.exit(r.statusCode === 200 ? 0 : 1)})"[m
[31m-[m
[31m-CMD ["node", "src/server.js"][m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/README.md b/zenai-backend/README.md[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/docker-compose.yml b/zenai-backend/docker-compose.yml[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/package.json b/zenai-backend/package.json[m
[1mdeleted file mode 100644[m
[1mindex d0918d1..0000000[m
[1m--- a/zenai-backend/package.json[m
[1m+++ /dev/null[m
[36m@@ -1,43 +0,0 @@[m
[31m-{[m
[31m-  "name": "zenai-backend",[m
[31m-  "version": "1.0.0",[m
[31m-  "description": "",[m
[31m-  "main": "index.js",[m
[31m-  "scripts": {[m
[31m-    "dev": "node src/server.js",[m
[31m-    "start": "node src/server.js",[m
[31m-    "test": "echo \"Error: no test specified\" && exit 1"[m
[31m-  },[m
[31m-  "keywords": [],[m
[31m-  "author": "",[m
[31m-  "license": "ISC",[m
[31m-  "type": "commonjs",[m
[31m-  "dependencies": {[m
[31m-    "axios": "^1.13.2",[m
[31m-    "bcryptjs": "^3.0.3",[m
[31m-    "bull": "^4.16.5",[m
[31m-    "bullmq": "^5.63.0",[m
[31m-    "compression": "^1.8.1",[m
[31m-    "cors": "^2.8.5",[m
[31m-    "dotenv": "^17.2.3",[m
[31m-    "express": "^5.1.0",[m
[31m-    "express-rate-limit": "^7.5.1",[m
[31m-    "express-validator": "^7.3.0",[m
[31m-    "helmet": "^8.1.0",[m
[31m-    "ioredis": "^5.8.2",[m
[31m-    "joi": "^18.0.1",[m
[31m-    "jsonwebtoken": "^9.0.2",[m
[31m-    "langchain": "^1.0.3",[m
[31m-    "mongoose": "^8.19.3",[m
[31m-    "morgan": "^1.10.1",[m
[31m-    "multer": "^2.0.2",[m
[31m-    "openai": "^6.8.1",[m
[31m-    "redis": "^5.9.0",[m
[31m-    "socket.io": "^4.8.1",[m
[31m-    "winston": "^3.18.3",[m
[31m-    "winston-daily-rotate-file": "^5.0.0"[m
[31m-  },[m
[31m-  "devDependencies": {[m
[31m-    "nodemon": "^3.1.10"[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/zenai-backend/src/app.js b/zenai-backend/src/app.js[m
[1mdeleted file mode 100644[m
[1mindex 9c9f196..0000000[m
[1m--- a/zenai-backend/src/app.js[m
[1m+++ /dev/null[m
[36m@@ -1,75 +0,0 @@[m
[31m-// src/app.js[m
[31m-const express = require('express');[m
[31m-const cors = require('cors');[m
[31m-const helmet = require('helmet');[m
[31m-const morgan = require('morgan');[m
[31m-const compression = require('compression');[m
[31m-const { errorHandler, notFound } = require('./middleware/errorHandler.middleware');[m
[31m-const logger = require('./utils/logger');[m
[31m-[m
[31m-// Import routes[m
[31m-const authRoutes = require('./routes/auth.routes');[m
[31m-const projectRoutes = require('./routes/project.routes');[m
[31m-const taskRoutes = require('./routes/task.routes');[m
[31m-const aiRoutes = require('./routes/ai.routes');[m
[31m-[m
[31m-const app = express();[m
[31m-[m
[31m-// Security middleware[m
[31m-app.use(helmet());[m
[31m-app.use(cors({[m
[31m-  origin: process.env.CORS_ORIGIN || 'http://localhost:3000',[m
[31m-  credentials: true[m
[31m-}));[m
[31m-[m
[31m-// Body parsing middleware[m
[31m-app.use(express.json({ limit: '10mb' }));[m
[31m-app.use(express.urlencoded({ extended: true, limit: '10mb' }));[m
[31m-[m
[31m-// Compression[m
[31m-app.use(compression());[m
[31m-[m
[31m-// Logging[m
[31m-if (process.env.NODE_ENV === 'development') {[m
[31m-  app.use(morgan('dev'));[m
[31m-} else {[m
[31m-  app.use(morgan('combined', {[m
[31m-    stream: {[m
[31m-      write: (message) => logger.info(message.trim())[m
[31m-    }[m
[31m-  }));[m
[31m-}[m
[31m-[m
[31m-// Health check[m
[31m-app.get('/health', (req, res) => {[m
[31m-  res.json({[m
[31m-    status: 'healthy',[m
[31m-    timestamp: new Date().toISOString(),[m
[31m-    uptime: process.uptime(),[m
[31m-    environment: process.env.NODE_ENV[m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-// API routes[m
[31m-const API_VERSION = process.env.API_VERSION || 'v1';[m
[31m-app.use(`/api/${API_VERSION}/auth`, authRoutes);[m
[31m-app.use(`/api/${API_VERSION}/projects`, projectRoutes);[m
[31m-app.use(`/api/${API_VERSION}/tasks`, taskRoutes);[m
[31m-app.use(`/api/${API_VERSION}/ai`, aiRoutes);[m
[31m-[m
[31m-// Root route[m
[31m-app.get('/', (req, res) => {[m
[31m-  res.json({[m
[31m-    message: 'ZenAI API Server',[m
[31m-    version: API_VERSION,[m
[31m-    documentation: '/api/docs'[m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-// 404 handler[m
[31m-app.use(notFound);[m
[31m-[m
[31m-// Error handler (must be last)[m
[31m-app.use(errorHandler);[m
[31m-[m
[31m-module.exports = app;[m
[1mdiff --git a/zenai-backend/src/config/database.js b/zenai-backend/src/config/database.js[m
[1mdeleted file mode 100644[m
[1mindex e2acc75..0000000[m
[1m--- a/zenai-backend/src/config/database.js[m
[1m+++ /dev/null[m
[36m@@ -1,36 +0,0 @@[m
[31m-const mongoose = require('mongoose');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-const connectDB = async () => {[m
[31m-  try {[m
[31m-    const conn = await mongoose.connect(process.env.MONGODB_URI, {[m
[31m-      maxPoolSize: 10,[m
[31m-      serverSelectionTimeoutMS: 5000,[m
[31m-      socketTimeoutMS: 45000,[m
[31m-    });[m
[31m-[m
[31m-    logger.info(`MongoDB Connected: ${conn.connection.host}`);[m
[31m-[m
[31m-    // Handle connection events[m
[31m-    mongoose.connection.on('error', (err) => {[m
[31m-      logger.error(`MongoDB connection error: ${err}`);[m
[31m-    });[m
[31m-[m
[31m-    mongoose.connection.on('disconnected', () => {[m
[31m-      logger.warn('MongoDB disconnected');[m
[31m-    });[m
[31m-[m
[31m-    // Graceful shutdown[m
[31m-    process.on('SIGINT', async () => {[m
[31m-      await mongoose.connection.close();[m
[31m-      logger.info('MongoDB connection closed through app termination');[m
[31m-      process.exit(0);[m
[31m-    });[m
[31m-[m
[31m-  } catch (error) {[m
[31m-    logger.error(`MongoDB connection failed: ${error.message}`);[m
[31m-    process.exit(1);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-module.exports = connectDB;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/config/env.js b/zenai-backend/src/config/env.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/config/jwt.js b/zenai-backend/src/config/jwt.js[m
[1mdeleted file mode 100644[m
[1mindex 9844d75..0000000[m
[1m--- a/zenai-backend/src/config/jwt.js[m
[1m+++ /dev/null[m
[36m@@ -1,40 +0,0 @@[m
[31m-const jwt = require('jsonwebtoken');[m
[31m-[m
[31m-const generateAccessToken = (userId) => {[m
[31m-  return jwt.sign([m
[31m-    { userId },[m
[31m-    process.env.JWT_SECRET,[m
[31m-    { expiresIn: process.env.JWT_EXPIRE || '7d' }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-const generateRefreshToken = (userId) => {[m
[31m-  return jwt.sign([m
[31m-    { userId },[m
[31m-    process.env.JWT_REFRESH_SECRET,[m
[31m-    { expiresIn: process.env.JWT_REFRESH_EXPIRE || '30d' }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-const verifyAccessToken = (token) => {[m
[31m-  try {[m
[31m-    return jwt.verify(token, process.env.JWT_SECRET);[m
[31m-  } catch (error) {[m
[31m-    throw new Error('Invalid access token');[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-const verifyRefreshToken = (token) => {[m
[31m-  try {[m
[31m-    return jwt.verify(token, process.env.JWT_REFRESH_SECRET);[m
[31m-  } catch (error) {[m
[31m-    throw new Error('Invalid refresh token');[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-module.exports = {[m
[31m-  generateAccessToken,[m
[31m-  generateRefreshToken,[m
[31m-  verifyAccessToken,[m
[31m-  verifyRefreshToken[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/config/redis.js b/zenai-backend/src/config/redis.js[m
[1mdeleted file mode 100644[m
[1mindex f7db04c..0000000[m
[1m--- a/zenai-backend/src/config/redis.js[m
[1m+++ /dev/null[m
[36m@@ -1,69 +0,0 @@[m
[31m-const Redis = require('ioredis');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-const redisClient = new Redis({[m
[31m-  host: process.env.REDIS_HOST || 'localhost',[m
[31m-  port: process.env.REDIS_PORT || 6379,[m
[31m-  password: process.env.REDIS_PASSWORD || undefined,[m
[31m-  retryStrategy: (times) => {[m
[31m-    const delay = Math.min(times * 50, 2000);[m
[31m-    return delay;[m
[31m-  },[m
[31m-  maxRetriesPerRequest: 3[m
[31m-});[m
[31m-[m
[31m-redisClient.on('connect', () => {[m
[31m-  logger.info('Redis connected successfully');[m
[31m-});[m
[31m-[m
[31m-redisClient.on('error', (err) => {[m
[31m-  logger.error(`Redis connection error: ${err}`);[m
[31m-});[m
[31m-[m
[31m-// Cache helper functions[m
[31m-const cache = {[m
[31m-  async get(key) {[m
[31m-    try {[m
[31m-      const data = await redisClient.get(key);[m
[31m-      return data ? JSON.parse(data) : null;[m
[31m-    } catch (error) {[m
[31m-      logger.error(`Redis GET error: ${error}`);[m
[31m-      return null;[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  async set(key, value, ttl = 3600) {[m
[31m-    try {[m
[31m-      await redisClient.setex(key, ttl, JSON.stringify(value));[m
[31m-      return true;[m
[31m-    } catch (error) {[m
[31m-      logger.error(`Redis SET error: ${error}`);[m
[31m-      return false;[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  async del(key) {[m
[31m-    try {[m
[31m-      await redisClient.del(key);[m
[31m-      return true;[m
[31m-    } catch (error) {[m
[31m-      logger.error(`Redis DEL error: ${error}`);[m
[31m-      return false;[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  async clearPattern(pattern) {[m
[31m-    try {[m
[31m-      const keys = await redisClient.keys(pattern);[m
[31m-      if (keys.length > 0) {[m
[31m-        await redisClient.del(...keys);[m
[31m-      }[m
[31m-      return true;[m
[31m-    } catch (error) {[m
[31m-      logger.error(`Redis CLEAR error: ${error}`);[m
[31m-      return false;[m
[31m-    }[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-module.exports = { redisClient, cache };[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/controllers/ai.controller.js b/zenai-backend/src/controllers/ai.controller.js[m
[1mdeleted file mode 100644[m
[1mindex d588226..0000000[m
[1m--- a/zenai-backend/src/controllers/ai.controller.js[m
[1m+++ /dev/null[m
[36m@@ -1,373 +0,0 @@[m
[31m-// src/controllers/ai.controller.js[m
[31m-const aiService = require('../services/ai.service');[m
[31m-const Project = require('../models/Project.model');[m
[31m-const Task = require('../models/Task.model');[m
[31m-const multer = require('multer');[m
[31m-const path = require('path');[m
[31m-const fs = require('fs');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-// Configure multer for file uploads[m
[31m-const storage = multer.diskStorage({[m
[31m-  destination: (req, file, cb) => {[m
[31m-    const uploadDir = path.join(__dirname, '../../uploads/audio');[m
[31m-    if (!fs.existsSync(uploadDir)) {[m
[31m-      fs.mkdirSync(uploadDir, { recursive: true });[m
[31m-    }[m
[31m-    cb(null, uploadDir);[m
[31m-  },[m
[31m-  filename: (req, file, cb) => {[m
[31m-    const uniqueName = `${Date.now()}-${file.originalname}`;[m
[31m-    cb(null, uniqueName);[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-const upload = multer({[m
[31m-  storage,[m
[31m-  limits: { fileSize: 50 * 1024 * 1024 }, // 50MB[m
[31m-  fileFilter: (req, file, cb) => {[m
[31m-    const allowedTypes = /mp3|wav|m4a|mp4|webm|ogg/;[m
[31m-    const extname = allowedTypes.test([m
[31m-      path.extname(file.originalname).toLowerCase()[m
[31m-    );[m
[31m-    const mimetype = allowedTypes.test(file.mimetype);[m
[31m-[m
[31m-    if (mimetype && extname) {[m
[31m-      return cb(null, true);[m
[31m-    }[m
[31m-    cb(new Error('Invalid file type. Only audio files allowed.'));[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-exports.uploadAudio = upload.single('audio');[m
[31m-[m
[31m-// Chat with AI[m
[31m-exports.chat = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { message, context } = req.body;[m
[31m-    const userId = req.user.userId;[m
[31m-[m
[31m-    if (!message) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Message is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const result = await aiService.chat(userId, message, context);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: result[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Create task from natural language[m
[31m-exports.createTask = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { description, projectId } = req.body;[m
[31m-    const userId = req.user.userId;[m
[31m-[m
[31m-    if (!description || !projectId) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Description and projectId are required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Verify project access[m
[31m-    const project = await Project.findById(projectId);[m
[31m-    if (!project) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const hasAccess = project.owner.toString() === userId ||[m
[31m-                      project.team.some(t => t.user.toString() === userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const result = await aiService.createTaskFromDescription([m
[31m-      description,[m
[31m-      projectId,[m
[31m-      userId[m
[31m-    );[m
[31m-[m
[31m-    // Create actual task in database[m
[31m-    const task = await Task.create({[m
[31m-      ...result.task,[m
[31m-      project: projectId,[m
[31m-      createdBy: userId[m
[31m-    });[m
[31m-[m
[31m-    logger.info(`AI created task: ${task._id} for project: ${projectId}`);[m
[31m-[m
[31m-    res.status(201).json({[m
[31m-      success: true,[m
[31m-      message: 'Task created successfully',[m
[31m-      data: task[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Analyze task complexity and effort[m
[31m-exports.analyzeTask = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { taskId } = req.params;[m
[31m-[m
[31m-    const task = await Task.findById(taskId).populate('project');[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = task.project.owner.toString() === req.user.userId ||[m
[31m-                      task.project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const projectContext = {[m
[31m-      name: task.project.name,[m
[31m-      status: task.project.status,[m
[31m-      priority: task.project.priority[m
[31m-    };[m
[31m-[m
[31m-    const analysis = await aiService.analyzeTask(task, projectContext);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: analysis[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Analyze project health[m
[31m-exports.analyzeProject = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { projectId } = req.params;[m
[31m-[m
[31m-    const project = await Project.findById(projectId);[m
[31m-    if (!project) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = project.owner.toString() === req.user.userId ||[m
[31m-                      project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const tasks = await Task.find({ project: projectId });[m
[31m-[m
[31m-    const analysis = await aiService.analyzeProject(project, tasks);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: analysis[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Transcribe audio/meeting[m
[31m-exports.transcribe = async (req, res, next) => {[m
[31m-  try {[m
[31m-    if (!req.file) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Audio file is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const { title, participants } = req.body;[m
[31m-    const audioPath = req.file.path;[m
[31m-[m
[31m-    const meetingContext = {[m
[31m-      title: title || 'Team Meeting',[m
[31m-      participants: participants ? JSON.parse(participants) : [],[m
[31m-      date: new Date().toISOString()[m
[31m-    };[m
[31m-[m
[31m-    const result = await aiService.transcribeAudio(audioPath, meetingContext);[m
[31m-[m
[31m-    // Clean up uploaded file[m
[31m-    fs.unlinkSync(audioPath);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: result[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    // Clean up file on error[m
[31m-    if (req.file && fs.existsSync(req.file.path)) {[m
[31m-      fs.unlinkSync(req.file.path);[m
[31m-    }[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Suggest task breakdown[m
[31m-exports.suggestBreakdown = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { taskId } = req.params;[m
[31m-[m
[31m-    const task = await Task.findById(taskId).populate('project');[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const subtasks = await aiService.suggestTaskBreakdown(task);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: subtasks[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Estimate effort for multiple tasks[m
[31m-exports.estimateEffort = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { taskIds } = req.body;[m
[31m-[m
[31m-    if (!Array.isArray(taskIds) || taskIds.length === 0) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Task IDs array is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const tasks = await Task.find({ _id: { $in: taskIds } });[m
[31m-[m
[31m-    const estimates = await aiService.estimateEffort(tasks);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: estimates[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Get chat history[m
[31m-exports.getChatHistory = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { page = 1, limit = 50 } = req.query;[m
[31m-    const userId = req.user.userId;[m
[31m-[m
[31m-    const skip = (page - 1) * limit;[m
[31m-[m
[31m-    const [messages, total] = await Promise.all([[m
[31m-      ChatMessage.find({ user: userId })[m
[31m-        .sort({ createdAt: -1 })[m
[31m-        .skip(skip)[m
[31m-        .limit(parseInt(limit)),[m
[31m-      ChatMessage.countDocuments({ user: userId })[m
[31m-    ]);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: {[m
[31m-        messages: messages.reverse(), // Reverse to show oldest first[m
[31m-        pagination: {[m
[31m-          page: parseInt(page),[m
[31m-          limit: parseInt(limit),[m
[31m-          total,[m
[31m-          pages: Math.ceil(total / limit)[m
[31m-        }[m
[31m-      }[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Index document for RAG[m
[31m-exports.indexDocument = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { content, metadata } = req.body;[m
[31m-[m
[31m-    if (!content) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Content is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const result = await aiService.indexDocument(content, {[m
[31m-      ...metadata,[m
[31m-      userId: req.user.userId,[m
[31m-      indexedAt: new Date()[m
[31m-    });[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: result[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Search documents[m
[31m-exports.searchDocuments = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { query, limit = 5 } = req.query;[m
[31m-[m
[31m-    if (!query) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Search query is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const results = await aiService.searchDocuments(query, {[m
[31m-      limit: parseInt(limit),[m
[31m-      filter: { userId: req.user.userId }[m
[31m-    });[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: results[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/controllers/analytics.controller.js b/zenai-backend/src/controllers/analytics.controller.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/controllers/auth.controller.js b/zenai-backend/src/controllers/auth.controller.js[m
[1mdeleted file mode 100644[m
[1mindex 6c00de9..0000000[m
[1m--- a/zenai-backend/src/controllers/auth.controller.js[m
[1m+++ /dev/null[m
[36m@@ -1,197 +0,0 @@[m
[31m-const User = require('../models/User.model');[m
[31m-const { generateAccessToken, generateRefreshToken } = require('../config/jwt');[m
[31m-const { cache } = require('../config/redis');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-exports.register = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { name, email, password } = req.body;[m
[31m-[m
[31m-    // Check if user exists[m
[31m-    const existingUser = await User.findOne({ email });[m
[31m-    if (existingUser) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Email already registered'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Create user[m
[31m-    const user = await User.create({ name, email, password });[m
[31m-[m
[31m-    // Generate tokens[m
[31m-    const accessToken = generateAccessToken(user._id);[m
[31m-    const refreshToken = generateRefreshToken(user._id);[m
[31m-[m
[31m-    // Save refresh token[m
[31m-    user.refreshToken = refreshToken;[m
[31m-    await user.save();[m
[31m-[m
[31m-    logger.info(`New user registered: ${email}`);[m
[31m-[m
[31m-    res.status(201).json({[m
[31m-      success: true,[m
[31m-      message: 'Registration successful',[m
[31m-      data: {[m
[31m-        user,[m
[31m-        accessToken,[m
[31m-        refreshToken[m
[31m-      }[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.login = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { email, password } = req.body;[m
[31m-[m
[31m-    // Find user with password[m
[31m-    const user = await User.findOne({ email }).select('+password');[m
[31m-    if (!user) {[m
[31m-      return res.status(401).json({[m
[31m-        success: false,[m
[31m-        message: 'Invalid credentials'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check password[m
[31m-    const isPasswordValid = await user.comparePassword(password);[m
[31m-    if (!isPasswordValid) {[m
[31m-      return res.status(401).json({[m
[31m-        success: false,[m
[31m-        message: 'Invalid credentials'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Update last login[m
[31m-    user.lastLogin = new Date();[m
[31m-    [m
[31m-    // Generate tokens[m
[31m-    const accessToken = generateAccessToken(user._id);[m
[31m-    const refreshToken = generateRefreshToken(user._id);[m
[31m-[m
[31m-    user.refreshToken = refreshToken;[m
[31m-    await user.save();[m
[31m-[m
[31m-    // Cache user data[m
[31m-    await cache.set(`user:${user._id}`, user, 3600);[m
[31m-[m
[31m-    logger.info(`User logged in: ${email}`);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Login successful',[m
[31m-      data: {[m
[31m-        user,[m
[31m-        accessToken,[m
[31m-        refreshToken[m
[31m-      }[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.logout = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const user = await User.findById(req.user.userId);[m
[31m-    if (user) {[m
[31m-      user.refreshToken = undefined;[m
[31m-      await user.save();[m
[31m-      [m
[31m-      // Clear cache[m
[31m-      await cache.del(`user:${user._id}`);[m
[31m-    }[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Logout successful'[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.refreshToken = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { refreshToken } = req.body;[m
[31m-[m
[31m-    if (!refreshToken) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Refresh token required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const decoded = verifyRefreshToken(refreshToken);[m
[31m-    const user = await User.findById(decoded.userId);[m
[31m-[m
[31m-    if (!user || user.refreshToken !== refreshToken) {[m
[31m-      return res.status(401).json({[m
[31m-        success: false,[m
[31m-        message: 'Invalid refresh token'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Generate new tokens[m
[31m-    const newAccessToken = generateAccessToken(user._id);[m
[31m-    const newRefreshToken = generateRefreshToken(user._id);[m
[31m-[m
[31m-    user.refreshToken = newRefreshToken;[m
[31m-    await user.save();[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: {[m
[31m-        accessToken: newAccessToken,[m
[31m-        refreshToken: newRefreshToken[m
[31m-      }[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.getProfile = async (req, res, next) => {[m
[31m-  try {[m
[31m-    // Check cache first[m
[31m-    let user = await cache.get(`user:${req.user.userId}`);[m
[31m-    [m
[31m-    if (!user) {[m
[31m-      user = await User.findById(req.user.userId);[m
[31m-      await cache.set(`user:${user._id}`, user, 3600);[m
[31m-    }[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: user[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.updateProfile = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { name, avatar } = req.body;[m
[31m-    [m
[31m-    const user = await User.findByIdAndUpdate([m
[31m-      req.user.userId,[m
[31m-      { name, avatar },[m
[31m-      { new: true, runValidators: true }[m
[31m-    );[m
[31m-[m
[31m-    // Update cache[m
[31m-    await cache.set(`user:${user._id}`, user, 3600);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Profile updated successfully',[m
[31m-      data: user[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/controllers/project.controller.js b/zenai-backend/src/controllers/project.controller.js[m
[1mdeleted file mode 100644[m
[1mindex 0c39f7b..0000000[m
[1m--- a/zenai-backend/src/controllers/project.controller.js[m
[1m+++ /dev/null[m
[36m@@ -1,244 +0,0 @@[m
[31m-const Project = require('../models/Project.model');[m
[31m-const Task = require('../models/Task.model');[m
[31m-const { cache } = require('../config/redis');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-exports.createProject = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { name, description, team, deadline, priority, tags } = req.body;[m
[31m-[m
[31m-    const project = await Project.create({[m
[31m-      name,[m
[31m-      description,[m
[31m-      owner: req.user.userId,[m
[31m-      team: team || [],[m
[31m-      deadline,[m
[31m-      priority,[m
[31m-      tags[m
[31m-    });[m
[31m-[m
[31m-    // Clear user's project cache[m
[31m-    await cache.clearPattern(`projects:${req.user.userId}:*`);[m
[31m-[m
[31m-    logger.info(`Project created: ${project._id} by user: ${req.user.userId}`);[m
[31m-[m
[31m-    res.status(201).json({[m
[31m-      success: true,[m
[31m-      message: 'Project created successfully',[m
[31m-      data: project[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.getProjects = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { status, priority, page = 1, limit = 10 } = req.query;[m
[31m-    const userId = req.user.userId;[m
[31m-[m
[31m-    // Build cache key[m
[31m-    const cacheKey = `projects:${userId}:${status || 'all'}:${priority || 'all'}:${page}:${limit}`;[m
[31m-    [m
[31m-    // Check cache[m
[31m-    let result = await cache.get(cacheKey);[m
[31m-[m
[31m-    if (!result) {[m
[31m-      // Build query[m
[31m-      const query = {[m
[31m-        $or: [[m
[31m-          { owner: userId },[m
[31m-          { 'team.user': userId }[m
[31m-        ][m
[31m-      };[m
[31m-[m
[31m-      if (status) query.status = status;[m
[31m-      if (priority) query.priority = priority;[m
[31m-[m
[31m-      const skip = (page - 1) * limit;[m
[31m-[m
[31m-      const [projects, total] = await Promise.all([[m
[31m-        Project.find(query)[m
[31m-          .populate('owner', 'name email avatar')[m
[31m-          .populate('team.user', 'name email avatar')[m
[31m-          .sort({ createdAt: -1 })[m
[31m-          .skip(skip)[m
[31m-          .limit(parseInt(limit)),[m
[31m-        Project.countDocuments(query)[m
[31m-      ]);[m
[31m-[m
[31m-      result = {[m
[31m-        projects,[m
[31m-        pagination: {[m
[31m-          page: parseInt(page),[m
[31m-          limit: parseInt(limit),[m
[31m-          total,[m
[31m-          pages: Math.ceil(total / limit)[m
[31m-        }[m
[31m-      };[m
[31m-[m
[31m-      // Cache for 5 minutes[m
[31m-      await cache.set(cacheKey, result, 300);[m
[31m-    }[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: result[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.getProjectById = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-[m
[31m-    const project = await Project.findById(id)[m
[31m-      .populate('owner', 'name email avatar')[m
[31m-      .populate('team.user', 'name email avatar');[m
[31m-[m
[31m-    if (!project) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = project.owner._id.toString() === req.user.userId ||[m
[31m-                      project.team.some(t => t.user._id.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Get project tasks[m
[31m-    const tasks = await Task.find({ project: id })[m
[31m-      .populate('assignee', 'name email avatar')[m
[31m-      .sort({ createdAt: -1 });[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: {[m
[31m-        project,[m
[31m-        tasks[m
[31m-      }[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.updateProject = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-    const updates = req.body;[m
[31m-[m
[31m-    const project = await Project.findById(id);[m
[31m-[m
[31m-    if (!project) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check ownership[m
[31m-    if (project.owner.toString() !== req.user.userId) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Only project owner can update'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    Object.assign(project, updates);[m
[31m-    await project.save();[m
[31m-[m
[31m-    // Clear cache[m
[31m-    await cache.clearPattern(`projects:*`);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Project updated successfully',[m
[31m-      data: project[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.deleteProject = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-[m
[31m-    const project = await Project.findById(id);[m
[31m-[m
[31m-    if (!project) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    if (project.owner.toString() !== req.user.userId) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Only project owner can delete'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Delete all project tasks[m
[31m-    await Task.deleteMany({ project: id });[m
[31m-    await project.deleteOne();[m
[31m-[m
[31m-    // Clear cache[m
[31m-    await cache.clearPattern(`projects:*`);[m
[31m-[m
[31m-    logger.info(`Project deleted: ${id} by user: ${req.user.userId}`);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Project and all related tasks deleted successfully'[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.updateProgress = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-[m
[31m-    const tasks = await Task.find({ project: id });[m
[31m-    const totalTasks = tasks.length;[m
[31m-    const completedTasks = tasks.filter(t => t.status === 'done').length;[m
[31m-    const inProgressTasks = tasks.filter(t => t.status === 'in-progress').length;[m
[31m-    [m
[31m-    const progress = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;[m
[31m-[m
[31m-    const project = await Project.findByIdAndUpdate([m
[31m-      id,[m
[31m-      {[m
[31m-        progress,[m
[31m-        'metadata.totalTasks': totalTasks,[m
[31m-        'metadata.completedTasks': completedTasks,[m
[31m-        'metadata.inProgressTasks': inProgressTasks[m
[31m-      },[m
[31m-      { new: true }[m
[31m-    );[m
[31m-[m
[31m-    // Clear cache[m
[31m-    await cache.clearPattern(`projects:*`);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: project[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/controllers/task.controller.js b/zenai-backend/src/controllers/task.controller.js[m
[1mdeleted file mode 100644[m
[1mindex 8030e5f..0000000[m
[1m--- a/zenai-backend/src/controllers/task.controller.js[m
[1m+++ /dev/null[m
[36m@@ -1,395 +0,0 @@[m
[31m-// src/controllers/task.controller.js[m
[31m-const Task = require('../models/Task.model');[m
[31m-const Project = require('../models/Project.model');[m
[31m-const { cache } = require('../config/redis');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-exports.createTask = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { [m
[31m-      title, [m
[31m-      description, [m
[31m-      project, [m
[31m-      assignee, [m
[31m-      priority, [m
[31m-      tags, [m
[31m-      dueDate,[m
[31m-      estimatedTime,[m
[31m-      dependencies [m
[31m-    } = req.body;[m
[31m-[m
[31m-    // Verify project exists and user has access[m
[31m-    const projectDoc = await Project.findById(project);[m
[31m-    if (!projectDoc) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const hasAccess = projectDoc.owner.toString() === req.user.userId ||[m
[31m-                      projectDoc.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Create task[m
[31m-    const task = await Task.create({[m
[31m-      title,[m
[31m-      description,[m
[31m-      project,[m
[31m-      assignee: assignee || null,[m
[31m-      createdBy: req.user.userId,[m
[31m-      priority,[m
[31m-      tags,[m
[31m-      dueDate,[m
[31m-      estimatedTime,[m
[31m-      dependencies[m
[31m-    });[m
[31m-[m
[31m-    // Update project metadata[m
[31m-    await Project.findByIdAndUpdate(project, {[m
[31m-      $inc: { 'metadata.totalTasks': 1 }[m
[31m-    });[m
[31m-[m
[31m-    // Clear cache[m
[31m-    await cache.clearPattern(`tasks:${project}:*`);[m
[31m-    await cache.clearPattern(`projects:*`);[m
[31m-[m
[31m-    // Populate task[m
[31m-    await task.populate([[m
[31m-      { path: 'assignee', select: 'name email avatar' },[m
[31m-      { path: 'createdBy', select: 'name email avatar' }[m
[31m-    ]);[m
[31m-[m
[31m-    logger.info(`Task created: ${task._id} in project: ${project}`);[m
[31m-[m
[31m-    res.status(201).json({[m
[31m-      success: true,[m
[31m-      message: 'Task created successfully',[m
[31m-      data: task[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.getTasks = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { projectId, status, priority, assignee, page = 1, limit = 20 } = req.query;[m
[31m-[m
[31m-    if (!projectId) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Project ID is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Verify access[m
[31m-    const project = await Project.findById(projectId);[m
[31m-    if (!project) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const hasAccess = project.owner.toString() === req.user.userId ||[m
[31m-                      project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Build cache key[m
[31m-    const cacheKey = `tasks:${projectId}:${status || 'all'}:${priority || 'all'}:${assignee || 'all'}:${page}`;[m
[31m-    [m
[31m-    let result = await cache.get(cacheKey);[m
[31m-[m
[31m-    if (!result) {[m
[31m-      const query = { project: projectId };[m
[31m-      if (status) query.status = status;[m
[31m-      if (priority) query.priority = priority;[m
[31m-      if (assignee) query.assignee = assignee;[m
[31m-[m
[31m-      const skip = (page - 1) * limit;[m
[31m-[m
[31m-      const [tasks, total] = await Promise.all([[m
[31m-        Task.find(query)[m
[31m-          .populate('assignee', 'name email avatar')[m
[31m-          .populate('createdBy', 'name email avatar')[m
[31m-          .sort({ createdAt: -1 })[m
[31m-          .skip(skip)[m
[31m-          .limit(parseInt(limit)),[m
[31m-        Task.countDocuments(query)[m
[31m-      ]);[m
[31m-[m
[31m-      result = {[m
[31m-        tasks,[m
[31m-        pagination: {[m
[31m-          page: parseInt(page),[m
[31m-          limit: parseInt(limit),[m
[31m-          total,[m
[31m-          pages: Math.ceil(total / limit)[m
[31m-        }[m
[31m-      };[m
[31m-[m
[31m-      await cache.set(cacheKey, result, 300);[m
[31m-    }[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: result[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.getTaskById = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-[m
[31m-    const task = await Task.findById(id)[m
[31m-      .populate('assignee', 'name email avatar')[m
[31m-      .populate('createdBy', 'name email avatar')[m
[31m-      .populate('project', 'name owner team')[m
[31m-      .populate('dependencies');[m
[31m-[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = task.project.owner.toString() === req.user.userId ||[m
[31m-                      task.project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: task[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.updateTask = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-    const updates = req.body;[m
[31m-[m
[31m-    const task = await Task.findById(id).populate('project');[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = task.project.owner.toString() === req.user.userId ||[m
[31m-                      task.project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Track status change for project metadata[m
[31m-    const oldStatus = task.status;[m
[31m-    Object.assign(task, updates);[m
[31m-    await task.save();[m
[31m-[m
[31m-    // Update project metadata if status changed[m
[31m-    if (oldStatus !== task.status) {[m
[31m-      await updateProjectMetadata(task.project._id);[m
[31m-    }[m
[31m-[m
[31m-    // Clear cache[m
[31m-    await cache.clearPattern(`tasks:${task.project._id}:*`);[m
[31m-    await cache.clearPattern(`projects:*`);[m
[31m-[m
[31m-    await task.populate([[m
[31m-      { path: 'assignee', select: 'name email avatar' },[m
[31m-      { path: 'createdBy', select: 'name email avatar' }[m
[31m-    ]);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Task updated successfully',[m
[31m-      data: task[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.deleteTask = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-[m
[31m-    const task = await Task.findById(id).populate('project');[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access (owner or creator can delete)[m
[31m-    const isOwner = task.project.owner.toString() === req.user.userId;[m
[31m-    const isCreator = task.createdBy.toString() === req.user.userId;[m
[31m-[m
[31m-    if (!isOwner && !isCreator) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Only project owner or task creator can delete'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const projectId = task.project._id;[m
[31m-    await task.deleteOne();[m
[31m-[m
[31m-    // Update project metadata[m
[31m-    await Project.findByIdAndUpdate(projectId, {[m
[31m-      $inc: { 'metadata.totalTasks': -1 }[m
[31m-    });[m
[31m-[m
[31m-    await updateProjectMetadata(projectId);[m
[31m-[m
[31m-    // Clear cache[m
[31m-    await cache.clearPattern(`tasks:${projectId}:*`);[m
[31m-    await cache.clearPattern(`projects:*`);[m
[31m-[m
[31m-    logger.info(`Task deleted: ${id} by user: ${req.user.userId}`);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Task deleted successfully'[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.addComment = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-    const { text } = req.body;[m
[31m-[m
[31m-    if (!text || text.trim().length === 0) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Comment text is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const task = await Task.findById(id).populate('project');[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = task.project.owner.toString() === req.user.userId ||[m
[31m-                      task.project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    task.comments.push({[m
[31m-      user: req.user.userId,[m
[31m-      text: text.trim(),[m
[31m-      createdAt: new Date()[m
[31m-    });[m
[31m-[m
[31m-    await task.save();[m
[31m-    await task.populate('comments.user', 'name email avatar');[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Comment added successfully',[m
[31m-      data: task.comments[task.comments.length - 1][m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.addAttachment = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { id } = req.params;[m
[31m-    const { name, url, type, size } = req.body;[m
[31m-[m
[31m-    const task = await Task.findById(id).populate('project');[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = task.project.owner.toString() === req.user.userId ||[m
[31m-                      task.project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    task.attachments.push({ name, url, type, size });[m
[31m-    await task.save();[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      message: 'Attachment added successfully',[m
[31m-      data: task.attachments[task.attachments.length - 1][m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Helper function[m
[31m-async function updateProjectMetadata(projectId) {[m
[31m-  const tasks = await Task.find({ project: projectId });[m
[31m-  const totalTasks = tasks.length;[m
[31m-  const completedTasks = tasks.filter(t => t.status === 'done').length;[m
[31m-  const inProgressTasks = tasks.filter(t => t.status === 'in-progress').length;[m
[31m-  const progress = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;[m
[31m-[m
[31m-  await Project.findByIdAndUpdate(projectId, {[m
[31m-    progress,[m
[31m-    'metadata.totalTasks': totalTasks,[m
[31m-    'metadata.completedTasks': completedTasks,[m
[31m-    'metadata.inProgressTasks': inProgressTasks[m
[31m-  });[m
[31m-}[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/controllers/user.controller.js b/zenai-backend/src/controllers/user.controller.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/middleware/apiKey.middleware.js b/zenai-backend/src/middleware/apiKey.middleware.js[m
[1mdeleted file mode 100644[m
[1mindex ac100f4..0000000[m
[1m--- a/zenai-backend/src/middleware/apiKey.middleware.js[m
[1m+++ /dev/null[m
[36m@@ -1,60 +0,0 @@[m
[31m-// src/middleware/apiKey.middleware.js[m
[31m-const crypto = require('crypto');[m
[31m-const { cache } = require('../config/redis');[m
[31m-[m
[31m-class APIKeyManager {[m
[31m-  static generateAPIKey(userId) {[m
[31m-    const key = `zn_${crypto.randomBytes(32).toString('hex')}`;[m
[31m-    return key;[m
[31m-  }[m
[31m-[m
[31m-  static async validateAPIKey(key) {[m
[31m-    // Check cache first[m
[31m-    const cachedUserId = await cache.get(`apikey:${key}`);[m
[31m-    if (cachedUserId) {[m
[31m-      return cachedUserId;[m
[31m-    }[m
[31m-[m
[31m-    // Check database[m
[31m-    const apiKey = await APIKey.findOne({ key, isActive: true });[m
[31m-    if (!apiKey) {[m
[31m-      return null;[m
[31m-    }[m
[31m-[m
[31m-    // Update last used[m
[31m-    apiKey.lastUsed = new Date();[m
[31m-    await apiKey.save();[m
[31m-[m
[31m-    // Cache for 1 hour[m
[31m-    await cache.set(`apikey:${key}`, apiKey.userId, 3600);[m
[31m-[m
[31m-    return apiKey.userId;[m
[31m-  }[m
[31m-[m
[31m-  static middleware() {[m
[31m-    return async (req, res, next) => {[m
[31m-      const apiKey = req.headers['x-api-key'];[m
[31m-[m
[31m-      if (!apiKey) {[m
[31m-        return res.status(401).json({[m
[31m-          success: false,[m
[31m-          message: 'API key required'[m
[31m-        });[m
[31m-      }[m
[31m-[m
[31m-      const userId = await APIKeyManager.validateAPIKey(apiKey);[m
[31m-[m
[31m-      if (!userId) {[m
[31m-        return res.status(401).json({[m
[31m-          success: false,[m
[31m-          message: 'Invalid API key'[m
[31m-        });[m
[31m-      }[m
[31m-[m
[31m-      req.user = { userId };[m
[31m-      next();[m
[31m-    };[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = APIKeyManager;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/middleware/auth.middleware.js b/zenai-backend/src/middleware/auth.middleware.js[m
[1mdeleted file mode 100644[m
[1mindex b90ee5e..0000000[m
[1m--- a/zenai-backend/src/middleware/auth.middleware.js[m
[1m+++ /dev/null[m
[36m@@ -1,61 +0,0 @@[m
[31m-const { verifyAccessToken } = require('../config/jwt');[m
[31m-const { cache } = require('../config/redis');[m
[31m-const User = require('../models/User.model');[m
[31m-[m
[31m-exports.authenticate = async (req, res, next) => {[m
[31m-  try {[m
[31m-    // Get token from header[m
[31m-    const authHeader = req.headers.authorization;[m
[31m-    if (!authHeader || !authHeader.startsWith('Bearer ')) {[m
[31m-      return res.status(401).json({[m
[31m-        success: false,[m
[31m-        message: 'No token provided'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const token = authHeader.substring(7);[m
[31m-[m
[31m-    // Verify token[m
[31m-    const decoded = verifyAccessToken(token);[m
[31m-[m
[31m-    // Check if user exists (with cache)[m
[31m-    let user = await cache.get(`user:${decoded.userId}`);[m
[31m-    if (!user) {[m
[31m-      user = await User.findById(decoded.userId);[m
[31m-      if (!user) {[m
[31m-        return res.status(401).json({[m
[31m-          success: false,[m
[31m-          message: 'User not found'[m
[31m-        });[m
[31m-      }[m
[31m-      await cache.set(`user:${user._id}`, user, 3600);[m
[31m-    }[m
[31m-[m
[31m-    if (!user.isActive) {[m
[31m-      return res.status(401).json({[m
[31m-        success: false,[m
[31m-        message: 'Account is deactivated'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    req.user = { userId: user._id, role: user.role };[m
[31m-    next();[m
[31m-  } catch (error) {[m
[31m-    return res.status(401).json({[m
[31m-      success: false,[m
[31m-      message: 'Invalid or expired token'[m
[31m-    });[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-exports.authorize = (...roles) => {[m
[31m-  return (req, res, next) => {[m
[31m-    if (!roles.includes(req.user.role)) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-    next();[m
[31m-  };[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/middleware/errorHandler.middleware.js b/zenai-backend/src/middleware/errorHandler.middleware.js[m
[1mdeleted file mode 100644[m
[1mindex 49f421f..0000000[m
[1m--- a/zenai-backend/src/middleware/errorHandler.middleware.js[m
[1m+++ /dev/null[m
[36m@@ -1,28 +0,0 @@[m
[31m-// src/middleware/errorHandler.middleware.js[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-// 404 - Not Found handler[m
[31m-exports.notFound = (req, res, next) => {[m
[31m-  const error = new Error(`Not Found - ${req.originalUrl}`);[m
[31m-  res.status(404);[m
[31m-  next(error);[m
[31m-};[m
[31m-[m
[31m-// Global error handler[m
[31m-exports.errorHandler = (err, req, res, next) => {[m
[31m-  const statusCode = res.statusCode === 200 ? 500 : res.statusCode;[m
[31m-  [m
[31m-  logger.error('Error:', {[m
[31m-    status: statusCode,[m
[31m-    message: err.message,[m
[31m-    stack: err.stack,[m
[31m-    url: req.originalUrl,[m
[31m-    method: req.method[m
[31m-  });[m
[31m-[m
[31m-  res.status(statusCode).json({[m
[31m-    success: false,[m
[31m-    message: err.message,[m
[31m-    ...(process.env.NODE_ENV === 'development' && { stack: err.stack })[m
[31m-  });[m
[31m-};[m
[1mdiff --git a/zenai-backend/src/middleware/logger.middleware.js b/zenai-backend/src/middleware/logger.middleware.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/middleware/metrics.middleware.js b/zenai-backend/src/middleware/metrics.middleware.js[m
[1mdeleted file mode 100644[m
[1mindex 0dbe094..0000000[m
[1m--- a/zenai-backend/src/middleware/metrics.middleware.js[m
[1m+++ /dev/null[m
[36m@@ -1,26 +0,0 @@[m
[31m-// src/middleware/metrics.middleware.js[m
[31m-const { httpRequestDuration, activeConnections } = require('../utils/metrics');[m
[31m-[m
[31m-exports.metricsMiddleware = (req, res, next) => {[m
[31m-  const start = Date.now();[m
[31m-  [m
[31m-  activeConnections.inc();[m
[31m-  [m
[31m-  res.on('finish', () => {[m
[31m-    const duration = (Date.now() - start) / 1000;[m
[31m-    [m
[31m-    httpRequestDuration[m
[31m-      .labels(req.method, req.route?.path || req.path, res.statusCode)[m
[31m-      .observe(duration);[m
[31m-    [m
[31m-    activeConnections.dec();[m
[31m-  });[m
[31m-  [m
[31m-  next();[m
[31m-};[m
[31m-[m
[31m-// Metrics endpoint[m
[31m-exports.getMetrics = async (req, res) => {[m
[31m-  res.set('Content-Type', register.contentType);[m
[31m-  res.end(await register.metrics());[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/middleware/rateLimiter.middleware.js b/zenai-backend/src/middleware/rateLimiter.middleware.js[m
[1mdeleted file mode 100644[m
[1mindex 1235fa1..0000000[m
[1m--- a/zenai-backend/src/middleware/rateLimiter.middleware.js[m
[1m+++ /dev/null[m
[36m@@ -1,79 +0,0 @@[m
[31m-// src/middleware/rateLimiter.middleware.js[m
[31m-const rateLimit = require('express-rate-limit');[m
[31m-[m
[31m-// Use in-memory store (works without Redis for development)[m
[31m-// For production, you can add Redis store later[m
[31m-[m
[31m-// API Rate Limiter[m
[31m-exports.apiLimiter = rateLimit({[m
[31m-  windowMs: parseInt(process.env.RATE_LIMIT_WINDOW || 15) * 60 * 1000, // 15 minutes[m
[31m-  max: parseInt(process.env.RATE_LIMIT_MAX_REQUESTS || 100),[m
[31m-  message: {[m
[31m-    success: false,[m
[31m-    message: 'Too many requests, please try again later'[m
[31m-  },[m
[31m-  standardHeaders: true,[m
[31m-  legacyHeaders: false[m
[31m-});[m
[31m-[m
[31m-// Auth Rate Limiter (stricter)[m
[31m-exports.authLimiter = rateLimit({[m
[31m-  windowMs: 15 * 60 * 1000, // 15 minutes[m
[31m-  max: 5, // 5 login attempts[m
[31m-  message: {[m
[31m-    success: false,[m
[31m-    message: 'Too many login attempts, please try again after 15 minutes'[m
[31m-  },[m
[31m-  skipSuccessfulRequests: true, // Don't count successful logins[m
[31m-  standardHeaders: true,[m
[31m-  legacyHeaders: false[m
[31m-});[m
[31m-[m
[31m-// AI Endpoints Rate Limiter[m
[31m-exports.aiLimiter = rateLimit({[m
[31m-  windowMs: 60 * 1000, // 1 minute[m
[31m-  max: 10, // 10 AI requests per minute[m
[31m-  message: {[m
[31m-    success: false,[m
[31m-    message: 'AI request limit exceeded, please slow down'[m
[31m-  },[m
[31m-  standardHeaders: true,[m
[31m-  legacyHeaders: false[m
[31m-});[m
[31m-[m
[31m-// Alternative: In-Memory Store (if Redis fails)[m
[31m-// Uncomment this if you want to use in-memory store as fallback[m
[31m-/*[m
[31m-const MemoryStore = require('express-rate-limit').MemoryStore;[m
[31m-[m
[31m-exports.apiLimiter = rateLimit({[m
[31m-  store: new MemoryStore(),[m
[31m-  windowMs: 15 * 60 * 1000,[m
[31m-  max: 100,[m
[31m-  message: {[m
[31m-    success: false,[m
[31m-    message: 'Too many requests, please try again later'[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-exports.authLimiter = rateLimit({[m
[31m-  store: new MemoryStore(),[m
[31m-  windowMs: 15 * 60 * 1000,[m
[31m-  max: 5,[m
[31m-  message: {[m
[31m-    success: false,[m
[31m-    message: 'Too many login attempts'[m
[31m-  },[m
[31m-  skipSuccessfulRequests: true[m
[31m-});[m
[31m-[m
[31m-exports.aiLimiter = rateLimit({[m
[31m-  store: new MemoryStore(),[m
[31m-  windowMs: 60 * 1000,[m
[31m-  max: 10,[m
[31m-  message: {[m
[31m-    success: false,[m
[31m-    message: 'AI request limit exceeded'[m
[31m-  }[m
[31m-});[m
[31m-*/[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/middleware/security.middleware.js b/zenai-backend/src/middleware/security.middleware.js[m
[1mdeleted file mode 100644[m
[1mindex 20020eb..0000000[m
[1m--- a/zenai-backend/src/middleware/security.middleware.js[m
[1m+++ /dev/null[m
[36m@@ -1,36 +0,0 @@[m
[31m-// src/middleware/security.middleware.js[m
[31m-const helmet = require('helmet');[m
[31m-const mongoSanitize = require('express-mongo-sanitize');[m
[31m-const xss = require('xss-clean');[m
[31m-const hpp = require('hpp');[m
[31m-[m
[31m-exports.securityMiddleware = [[m
[31m-  // Helmet - Security headers[m
[31m-  helmet({[m
[31m-    contentSecurityPolicy: {[m
[31m-      directives: {[m
[31m-        defaultSrc: ["'self'"],[m
[31m-        styleSrc: ["'self'", "'unsafe-inline'"],[m
[31m-        scriptSrc: ["'self'"],[m
[31m-        imgSrc: ["'self'", "data:", "https:"],[m
[31m-        connectSrc: ["'self'", "https://api.openai.com"][m
[31m-      }[m
[31m-    },[m
[31m-    hsts: {[m
[31m-      maxAge: 31536000,[m
[31m-      includeSubDomains: true,[m
[31m-      preload: true[m
[31m-    }[m
[31m-  }),[m
[31m-  [m
[31m-  // Sanitize data against NoSQL injection[m
[31m-  mongoSanitize(),[m
[31m-  [m
[31m-  // Prevent XSS attacks[m
[31m-  xss(),[m
[31m-  [m
[31m-  // Prevent HTTP Parameter Pollution[m
[31m-  hpp({[m
[31m-    whitelist: ['status', 'priority', 'tags'][m
[31m-  })[m
[31m-];[m
[1mdiff --git a/zenai-backend/src/middleware/validation.middleware.js b/zenai-backend/src/middleware/validation.middleware.js[m
[1mdeleted file mode 100644[m
[1mindex 06db563..0000000[m
[1m--- a/zenai-backend/src/middleware/validation.middleware.js[m
[1m+++ /dev/null[m
[36m@@ -1,53 +0,0 @@[m
[31m-// src/middleware/validation.middleware.js[m
[31m-const Joi = require('joi');[m
[31m-[m
[31m-const schemas = {[m
[31m-  chat: Joi.object({[m
[31m-    message: Joi.string().required().max(5000),[m
[31m-    context: Joi.object({[m
[31m-      type: Joi.string().valid('task-analysis', 'project-management'),[m
[31m-      projectId: Joi.string().length(24).hex(),[m
[31m-      taskId: Joi.string().length(24).hex()[m
[31m-    })[m
[31m-  }),[m
[31m-[m
[31m-  createTask: Joi.object({[m
[31m-    description: Joi.string().required().min(10).max(5000),[m
[31m-    projectId: Joi.string().required().length(24).hex()[m
[31m-  }),[m
[31m-[m
[31m-  transcribe: Joi.object({[m
[31m-    title: Joi.string().max(200),[m
[31m-    participants: Joi.array().items(Joi.string())[m
[31m-  })[m
[31m-};[m
[31m-[m
[31m-exports.validate = (schemaName) => {[m
[31m-  return (req, res, next) => {[m
[31m-    const schema = schemas[schemaName];[m
[31m-    [m
[31m-    if (!schema) {[m
[31m-      return next();[m
[31m-    }[m
[31m-[m
[31m-    const { error } = schema.validate(req.body, {[m
[31m-      abortEarly: false,[m
[31m-      stripUnknown: true[m
[31m-    });[m
[31m-[m
[31m-    if (error) {[m
[31m-      const errors = error.details.map(detail => ({[m
[31m-        field: detail.path.join('.'),[m
[31m-        message: detail.message[m
[31m-      }));[m
[31m-[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Validation failed',[m
[31m-        errors[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    next();[m
[31m-  };[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/models/ChatMessage.model.js b/zenai-backend/src/models/ChatMessage.model.js[m
[1mdeleted file mode 100644[m
[1mindex 1ad9cea..0000000[m
[1m--- a/zenai-backend/src/models/ChatMessage.model.js[m
[1m+++ /dev/null[m
[36m@@ -1,40 +0,0 @@[m
[31m-const mongoose = require('mongoose');[m
[31m-[m
[31m-const chatMessageSchema = new mongoose.Schema({[m
[31m-  user: {[m
[31m-    type: mongoose.Schema.Types.ObjectId,[m
[31m-    ref: 'User',[m
[31m-    required: true[m
[31m-  },[m
[31m-  role: {[m
[31m-    type: String,[m
[31m-    enum: ['user', 'ai'],[m
[31m-    required: true[m
[31m-  },[m
[31m-  content: {[m
[31m-    type: String,[m
[31m-    required: true[m
[31m-  },[m
[31m-  context: {[m
[31m-    projectId: {[m
[31m-      type: mongoose.Schema.Types.ObjectId,[m
[31m-      ref: 'Project'[m
[31m-    },[m
[31m-    taskId: {[m
[31m-      type: mongoose.Schema.Types.ObjectId,[m
[31m-      ref: 'Task'[m
[31m-    }[m
[31m-  },[m
[31m-  metadata: {[m
[31m-    model: String,[m
[31m-    tokens: Number,[m
[31m-    responseTime: Number[m
[31m-  }[m
[31m-}, {[m
[31m-  timestamps: true[m
[31m-});[m
[31m-[m
[31m-// Index for user chat history[m
[31m-chatMessageSchema.index({ user: 1, createdAt: -1 });[m
[31m-[m
[31m-module.exports = mongoose.model('ChatMessage', chatMessageSchema);[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/models/Integration.model.js b/zenai-backend/src/models/Integration.model.js[m
[1mdeleted file mode 100644[m
[1mindex 7b90691..0000000[m
[1m--- a/zenai-backend/src/models/Integration.model.js[m
[1m+++ /dev/null[m
[36m@@ -1,112 +0,0 @@[m
[31m-// src/models/Integration.model.js[m
[31m-const mongoose = require('mongoose');[m
[31m-[m
[31m-const integrationSchema = new mongoose.Schema({[m
[31m-  user: {[m
[31m-    type: mongoose.Schema.Types.ObjectId,[m
[31m-    ref: 'User',[m
[31m-    required: true[m
[31m-  },[m
[31m-  type: {[m
[31m-    type: String,[m
[31m-    enum: ['slack', 'notion', 'github', 'jira', 'trello', 'calendar', 'email'],[m
[31m-    required: true[m
[31m-  },[m
[31m-  name: {[m
[31m-    type: String,[m
[31m-    required: true[m
[31m-  },[m
[31m-  config: {[m
[31m-    // Slack[m
[31m-    webhookUrl: String,[m
[31m-    channel: String,[m
[31m-    botToken: String,[m
[31m-    [m
[31m-    // Notion[m
[31m-    apiKey: String,[m
[31m-    databaseId: String,[m
[31m-    workspaceId: String,[m
[31m-    [m
[31m-    // GitHub[m
[31m-    token: String,[m
[31m-    repository: String,[m
[31m-    owner: String,[m
[31m-    [m
[31m-    // Jira[m
[31m-    apiToken: String,[m
[31m-    domain: String,[m
[31m-    email: String,[m
[31m-    projectKey: String,[m
[31m-    [m
[31m-    // Trello[m
[31m-    apiKey: String,[m
[31m-    token: String,[m
[31m-    boardId: String,[m
[31m-    [m
[31m-    // Calendar[m
[31m-    serviceAccountKey: String,[m
[31m-    calendarId: String,[m
[31m-    [m
[31m-    // Email[m
[31m-    host: String,[m
[31m-    port: Number,[m
[31m-    secure: Boolean,[m
[31m-    username: String,[m
[31m-    password: String[m
[31m-  },[m
[31m-  status: {[m
[31m-    type: String,[m
[31m-    enum: ['active', 'inactive', 'error'],[m
[31m-    default: 'active'[m
[31m-  },[m
[31m-  lastSync: Date,[m
[31m-  syncFrequency: {[m
[31m-    type: String,[m
[31m-    enum: ['realtime', 'hourly', 'daily', 'manual'],[m
[31m-    default: 'manual'[m
[31m-  },[m
[31m-  settings: {[m
[31m-    autoSync: {[m
[31m-      type: Boolean,[m
[31m-      default: false[m
[31m-    },[m
[31m-    notifications: {[m
[31m-      type: Boolean,[m
[31m-      default: true[m
[31m-    },[m
[31m-    bidirectionalSync: {[m
[31m-      type: Boolean,[m
[31m-      default: false[m
[31m-    }[m
[31m-  },[m
[31m-  metadata: {[m
[31m-    lastError: String,[m
[31m-    totalSyncs: {[m
[31m-      type: Number,[m
[31m-      default: 0[m
[31m-    },[m
[31m-    successfulSyncs: {[m
[31m-      type: Number,[m
[31m-      default: 0[m
[31m-    },[m
[31m-    failedSyncs: {[m
[31m-      type: Number,[m
[31m-      default: 0[m
[31m-    }[m
[31m-  }[m
[31m-}, {[m
[31m-  timestamps: true[m
[31m-});[m
[31m-[m
[31m-// Index for quick lookups[m
[31m-integrationSchema.index({ user: 1, type: 1 });[m
[31m-integrationSchema.index({ status: 1 });[m
[31m-[m
[31m-// Encrypt sensitive data before saving[m
[31m-integrationSchema.pre('save', function(next) {[m
[31m-  // In production, encrypt sensitive fields like apiKey, token, etc.[m
[31m-  // using crypto or a library like mongoose-encryption[m
[31m-  next();[m
[31m-});[m
[31m-[m
[31m-module.exports = mongoose.model('Integration', integrationSchema);[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/models/Project.model.js b/zenai-backend/src/models/Project.model.js[m
[1mdeleted file mode 100644[m
[1mindex e1b2f15..0000000[m
[1m--- a/zenai-backend/src/models/Project.model.js[m
[1m+++ /dev/null[m
[36m@@ -1,60 +0,0 @@[m
[31m-const mongoose = require('mongoose');[m
[31m-[m
[31m-const projectSchema = new mongoose.Schema({[m
[31m-  name: {[m
[31m-    type: String,[m
[31m-    required: true,[m
[31m-    trim: true[m
[31m-  },[m
[31m-  description: {[m
[31m-    type: String,[m
[31m-    trim: true[m
[31m-  },[m
[31m-  owner: {[m
[31m-    type: mongoose.Schema.Types.ObjectId,[m
[31m-    ref: 'User',[m
[31m-    required: true[m
[31m-  },[m
[31m-  team: [{[m
[31m-    user: {[m
[31m-      type: mongoose.Schema.Types.ObjectId,[m
[31m-      ref: 'User'[m
[31m-    },[m
[31m-    role: {[m
[31m-      type: String,[m
[31m-      enum: ['owner', 'admin', 'member', 'viewer'],[m
[31m-      default: 'member'[m
[31m-    }[m
[31m-  }],[m
[31m-  status: {[m
[31m-    type: String,[m
[31m-    enum: ['planning', 'active', 'on-hold', 'completed', 'archived'],[m
[31m-    default: 'planning'[m
[31m-  },[m
[31m-  priority: {[m
[31m-    type: String,[m
[31m-    enum: ['low', 'medium', 'high', 'urgent'],[m
[31m-    default: 'medium'[m
[31m-  },[m
[31m-  tags: [String],[m
[31m-  deadline: Date,[m
[31m-  progress: {[m
[31m-    type: Number,[m
[31m-    default: 0,[m
[31m-    min: 0,[m
[31m-    max: 100[m
[31m-  },[m
[31m-  metadata: {[m
[31m-    totalTasks: { type: Number, default: 0 },[m
[31m-    completedTasks: { type: Number, default: 0 },[m
[31m-    inProgressTasks: { type: Number, default: 0 }[m
[31m-  }[m
[31m-}, {[m
[31m-  timestamps: true[m
[31m-});[m
[31m-[m
[31m-// Indexes for performance[m
[31m-projectSchema.index({ owner: 1, status: 1 });[m
[31m-projectSchema.index({ 'team.user': 1 });[m
[31m-[m
[31m-module.exports = mongoose.model('Project', projectSchema);[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/models/Task.modal.js b/zenai-backend/src/models/Task.modal.js[m
[1mdeleted file mode 100644[m
[1mindex 44afe0e..0000000[m
[1m--- a/zenai-backend/src/models/Task.modal.js[m
[1m+++ /dev/null[m
[36m@@ -1,71 +0,0 @@[m
[31m-const mongoose = require('mongoose');[m
[31m-[m
[31m-const taskSchema = new mongoose.Schema({[m
[31m-  title: {[m
[31m-    type: String,[m
[31m-    required: true,[m
[31m-    trim: true[m
[31m-  },[m
[31m-  description: {[m
[31m-    type: String,[m
[31m-    trim: true[m
[31m-  },[m
[31m-  project: {[m
[31m-    type: mongoose.Schema.Types.ObjectId,[m
[31m-    ref: 'Project',[m
[31m-    required: true[m
[31m-  },[m
[31m-  assignee: {[m
[31m-    type: mongoose.Schema.Types.ObjectId,[m
[31m-    ref: 'User'[m
[31m-  },[m
[31m-  createdBy: {[m
[31m-    type: mongoose.Schema.Types.ObjectId,[m
[31m-    ref: 'User',[m
[31m-    required: true[m
[31m-  },[m
[31m-  status: {[m
[31m-    type: String,[m
[31m-    enum: ['todo', 'in-progress', 'review', 'done'],[m
[31m-    default: 'todo'[m
[31m-  },[m
[31m-  priority: {[m
[31m-    type: String,[m
[31m-    enum: ['low', 'medium', 'high', 'urgent'],[m
[31m-    default: 'medium'[m
[31m-  },[m
[31m-  tags: [String],[m
[31m-  dueDate: Date,[m
[31m-  estimatedTime: Number, // in hours[m
[31m-  actualTime: Number, // in hours[m
[31m-  dependencies: [{[m
[31m-    type: mongoose.Schema.Types.ObjectId,[m
[31m-    ref: 'Task'[m
[31m-  }],[m
[31m-  attachments: [{[m
[31m-    name: String,[m
[31m-    url: String,[m
[31m-    type: String,[m
[31m-    size: Number[m
[31m-  }],[m
[31m-  comments: [{[m
[31m-    user: {[m
[31m-      type: mongoose.Schema.Types.ObjectId,[m
[31m-      ref: 'User'[m
[31m-    },[m
[31m-    text: String,[m
[31m-    createdAt: {[m
[31m-      type: Date,[m
[31m-      default: Date.now[m
[31m-    }[m
[31m-  }][m
[31m-}, {[m
[31m-  timestamps: true[m
[31m-});[m
[31m-[m
[31m-// Indexes[m
[31m-taskSchema.index({ project: 1, status: 1 });[m
[31m-taskSchema.index({ assignee: 1, status: 1 });[m
[31m-taskSchema.index({ dueDate: 1 });[m
[31m-[m
[31m-module.exports = mongoose.model('Task', taskSchema);[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/models/Task.model.js b/zenai-backend/src/models/Task.model.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/models/User.model.js b/zenai-backend/src/models/User.model.js[m
[1mdeleted file mode 100644[m
[1mindex 9c92fb7..0000000[m
[1m--- a/zenai-backend/src/models/User.model.js[m
[1m+++ /dev/null[m
[36m@@ -1,59 +0,0 @@[m
[31m-const mongoose = require('mongoose');[m
[31m-const bcrypt = require('bcryptjs');[m
[31m-[m
[31m-const userSchema = new mongoose.Schema({[m
[31m-  name: {[m
[31m-    type: String,[m
[31m-    required: true,[m
[31m-    trim: true[m
[31m-  },[m
[31m-  email: {[m
[31m-    type: String,[m
[31m-    required: true,[m
[31m-    unique: true,[m
[31m-    lowercase: true,[m
[31m-    trim: true[m
[31m-  },[m
[31m-  password: {[m
[31m-    type: String,[m
[31m-    required: true,[m
[31m-    minlength: 6,[m
[31m-    select: false[m
[31m-  },[m
[31m-  role: {[m
[31m-    type: String,[m
[31m-    enum: ['user', 'admin', 'manager'],[m
[31m-    default: 'user'[m
[31m-  },[m
[31m-  avatar: String,[m
[31m-  isActive: {[m
[31m-    type: Boolean,[m
[31m-    default: true[m
[31m-  },[m
[31m-  lastLogin: Date,[m
[31m-  refreshToken: String[m
[31m-}, {[m
[31m-  timestamps: true[m
[31m-});[m
[31m-[m
[31m-// Hash password before saving[m
[31m-userSchema.pre('save', async function(next) {[m
[31m-  if (!this.isModified('password')) return next();[m
[31m-  this.password = await bcrypt.hash(this.password, 12);[m
[31m-  next();[m
[31m-});[m
[31m-[m
[31m-// Compare password method[m
[31m-userSchema.methods.comparePassword = async function(candidatePassword) {[m
[31m-  return await bcrypt.compare(candidatePassword, this.password);[m
[31m-};[m
[31m-[m
[31m-// Hide sensitive data[m
[31m-userSchema.methods.toJSON = function() {[m
[31m-  const obj = this.toObject();[m
[31m-  delete obj.password;[m
[31m-  delete obj.refreshToken;[m
[31m-  return obj;[m
[31m-};[m
[31m-[m
[31m-module.exports = mongoose.model('User', userSchema);[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/queue/jobs.js b/zenai-backend/src/queue/jobs.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/queue/workers.js b/zenai-backend/src/queue/workers.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/routes/ai.routes.js b/zenai-backend/src/routes/ai.routes.js[m
[1mdeleted file mode 100644[m
[1mindex 5a8133d..0000000[m
[1m--- a/zenai-backend/src/routes/ai.routes.js[m
[1m+++ /dev/null[m
[36m@@ -1,36 +0,0 @@[m
[31m-// src/routes/ai.routes.js[m
[31m-const express = require('express');[m
[31m-const router = express.Router();[m
[31m-const aiController = require('../controllers/ai.controller');[m
[31m-const { authenticate } = require('../middleware/auth.middleware');[m
[31m-const { aiLimiter } = require('../middleware/rateLimiter.middleware');[m
[31m-[m
[31m-// Apply authentication and rate limiting to all routes[m
[31m-router.use(authenticate);[m
[31m-router.use(aiLimiter);[m
[31m-[m
[31m-// Chat endpoints[m
[31m-router.post('/chat', aiController.chat);[m
[31m-router.get('/chat/history', aiController.getChatHistory);[m
[31m-[m
[31m-// Task AI endpoints[m
[31m-router.post('/tasks/create', aiController.createTask);[m
[31m-router.get('/tasks/:taskId/analyze', aiController.analyzeTask);[m
[31m-router.get('/tasks/:taskId/breakdown', aiController.suggestBreakdown);[m
[31m-router.post('/tasks/estimate', aiController.estimateEffort);[m
[31m-[m
[31m-// Project AI endpoints[m
[31m-router.get('/projects/:projectId/analyze', aiController.analyzeProject);[m
[31m-[m
[31m-// Audio/Meeting endpoints[m
[31m-router.post([m
[31m-  '/transcribe',[m
[31m-  aiController.uploadAudio,[m
[31m-  aiController.transcribe[m
[31m-);[m
[31m-[m
[31m-// RAG endpoints[m
[31m-router.post('/documents/index', aiController.indexDocument);[m
[31m-router.get('/documents/search', aiController.searchDocuments);[m
[31m-[m
[31m-module.exports = router;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/routes/analytics.routes.js b/zenai-backend/src/routes/analytics.routes.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/routes/auth.routes.js b/zenai-backend/src/routes/auth.routes.js[m
[1mdeleted file mode 100644[m
[1mindex 69eba92..0000000[m
[1m--- a/zenai-backend/src/routes/auth.routes.js[m
[1m+++ /dev/null[m
[36m@@ -1,15 +0,0 @@[m
[31m-// src/routes/auth.routes.js[m
[31m-const express = require('express');[m
[31m-const router = express.Router();[m
[31m-const authController = require('../controllers/auth.controller');[m
[31m-const { authenticate } = require('../middleware/auth.middleware');[m
[31m-const { authLimiter } = require('../middleware/rateLimiter.middleware');[m
[31m-[m
[31m-router.post('/register', authLimiter, authController.register);[m
[31m-router.post('/login', authLimiter, authController.login);[m
[31m-router.post('/logout', authenticate, authController.logout);[m
[31m-router.post('/refresh-token', authController.refreshToken);[m
[31m-router.get('/profile', authenticate, authController.getProfile);[m
[31m-router.put('/profile', authenticate, authController.updateProfile);[m
[31m-[m
[31m-module.exports = router;[m
[1mdiff --git a/zenai-backend/src/routes/project.routes.js b/zenai-backend/src/routes/project.routes.js[m
[1mdeleted file mode 100644[m
[1mindex bd59b54..0000000[m
[1m--- a/zenai-backend/src/routes/project.routes.js[m
[1m+++ /dev/null[m
[36m@@ -1,18 +0,0 @@[m
[31m-// src/routes/project.routes.js[m
[31m-const express = require('express');[m
[31m-const router = express.Router();[m
[31m-const projectController = require('../controllers/project.controller');[m
[31m-const { authenticate } = require('../middleware/auth.middleware');[m
[31m-const { apiLimiter } = require('../middleware/rateLimiter.middleware');[m
[31m-[m
[31m-router.use(authenticate);[m
[31m-router.use(apiLimiter);[m
[31m-[m
[31m-router.post('/', projectController.createProject);[m
[31m-router.get('/', projectController.getProjects);[m
[31m-router.get('/:id', projectController.getProjectById);[m
[31m-router.put('/:id', projectController.updateProject);[m
[31m-router.delete('/:id', projectController.deleteProject);[m
[31m-router.post('/:id/progress', projectController.updateProgress);[m
[31m-[m
[31m-module.exports = router;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/routes/task.routes.js b/zenai-backend/src/routes/task.routes.js[m
[1mdeleted file mode 100644[m
[1mindex a93e164..0000000[m
[1m--- a/zenai-backend/src/routes/task.routes.js[m
[1m+++ /dev/null[m
[36m@@ -1,18 +0,0 @@[m
[31m-const express = require('express');[m
[31m-const router = express.Router();[m
[31m-const taskController = require('../controllers/task.controller');[m
[31m-const { authenticate } = require('../middleware/auth.middleware');[m
[31m-const { apiLimiter } = require('../middleware/rateLimiter.middleware');[m
[31m-[m
[31m-router.use(authenticate);[m
[31m-router.use(apiLimiter);[m
[31m-[m
[31m-router.post('/', taskController.createTask);[m
[31m-router.get('/', taskController.getTasks);[m
[31m-router.get('/:id', taskController.getTaskById);[m
[31m-router.put('/:id', taskController.updateTask);[m
[31m-router.delete('/:id', taskController.deleteTask);[m
[31m-router.post('/:id/comments', taskController.addComment);[m
[31m-router.post('/:id/attachments', taskController.addAttachment);[m
[31m-[m
[31m-module.exports = router;[m
[1mdiff --git a/zenai-backend/src/routes/user.routes.js b/zenai-backend/src/routes/user.routes.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/server.js b/zenai-backend/src/server.js[m
[1mdeleted file mode 100644[m
[1mindex 7f6d735..0000000[m
[1m--- a/zenai-backend/src/server.js[m
[1m+++ /dev/null[m
[36m@@ -1,52 +0,0 @@[m
[31m-// src/server.js[m
[31m-const app = require('./app');[m
[31m-const connectDB = require('./config/database');[m
[31m-const { redisClient } = require('./config/redis');[m
[31m-const logger = require('./utils/logger');[m
[31m-require('dotenv').config();[m
[31m-[m
[31m-const PORT = process.env.PORT || 5000;[m
[31m-[m
[31m-// Connect to database[m
[31m-connectDB();[m
[31m-[m
[31m-// Test Redis connection[m
[31m-redisClient.ping()[m
[31m-  .then(() => logger.info('Redis connection successful'))[m
[31m-  .catch(err => logger.error('Redis connection failed:', err));[m
[31m-[m
[31m-// Start server[m
[31m-const server = app.listen(PORT, () => {[m
[31m-  logger.info(`Server running in ${process.env.NODE_ENV} mode on port ${PORT}`);[m
[31m-});[m
[31m-[m
[31m-// Handle unhandled promise rejections[m
[31m-process.on('unhandledRejection', (err) => {[m
[31m-  logger.error('Unhandled Rejection:', err);[m
[31m-  server.close(() => {[m
[31m-    process.exit(1);[m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-// Handle uncaught exceptions[m
[31m-process.on('uncaughtException', (err) => {[m
[31m-  logger.error('Uncaught Exception:', err);[m
[31m-  process.exit(1);[m
[31m-});[m
[31m-[m
[31m-// Graceful shutdown[m
[31m-process.on('SIGTERM', () => {[m
[31m-  logger.info('SIGTERM received. Shutting down gracefully...');[m
[31m-  server.close(() => {[m
[31m-    logger.info('Process terminated');[m
[31m-    process.exit(0);[m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-process.on('SIGINT', () => {[m
[31m-  logger.info('SIGINT received. Shutting down gracefully...');[m
[31m-  server.close(() => {[m
[31m-    logger.info('Process terminated');[m
[31m-    process.exit(0);[m
[31m-  });[m
[31m-});[m
[1mdiff --git a/zenai-backend/src/services/ai.service.js b/zenai-backend/src/services/ai.service.js[m
[1mdeleted file mode 100644[m
[1mindex f5456bd..0000000[m
[1m--- a/zenai-backend/src/services/ai.service.js[m
[1m+++ /dev/null[m
[36m@@ -1,314 +0,0 @@[m
[31m-// zenai-backend/src/services/ai.service.js[m
[31m-// RECOMMENDED APPROACH - HTTP-based communication[m
[31m-const axios = require('axios');[m
[31m-const FormData = require('form-data');[m
[31m-const fs = require('fs');[m
[31m-const ChatMessage = require('../models/ChatMessage.model');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class AIService {[m
[31m-  constructor() {[m
[31m-    this.aiEngineUrl = process.env.AI_ENGINE_URL || 'http://localhost:8001';[m
[31m-    this.client = axios.create({[m
[31m-      baseURL: this.aiEngineUrl,[m
[31m-      timeout: 30000,[m
[31m-      headers: {[m
[31m-        'Content-Type': 'application/json'[m
[31m-      }[m
[31m-    });[m
[31m-[m
[31m-    // Check if AI engine is available[m
[31m-    this.checkConnection();[m
[31m-  }[m
[31m-[m
[31m-  async checkConnection() {[m
[31m-    try {[m
[31m-      await this.client.get('/health');[m
[31m-      logger.info('‚úì AI Engine connection established');[m
[31m-    } catch (error) {[m
[31m-      logger.warn('‚ö† AI Engine not available - running in fallback mode');[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async chat(userId, message, context = {}) {[m
[31m-    try {[m
[31m-      const startTime = Date.now();[m
[31m-[m
[31m-      const response = await this.client.post('/api/v1/ai/chat', {[m
[31m-        message,[m
[31m-        context[m
[31m-      });[m
[31m-[m
[31m-      const responseTime = Date.now() - startTime;[m
[31m-[m
[31m-      // Save user message[m
[31m-      await ChatMessage.create({[m
[31m-        user: userId,[m
[31m-        role: 'user',[m
[31m-        content: message,[m
[31m-        context: {[m
[31m-          projectId: context.projectId,[m
[31m-          taskId: context.taskId[m
[31m-        }[m
[31m-      });[m
[31m-[m
[31m-      // Save AI response[m
[31m-      await ChatMessage.create({[m
[31m-        user: userId,[m
[31m-        role: 'ai',[m
[31m-        content: response.data.data.response,[m
[31m-        context: {[m
[31m-          projectId: context.projectId,[m
[31m-          taskId: context.taskId[m
[31m-        },[m
[31m-        metadata: {[m
[31m-          model: 'gpt-4',[m
[31m-          responseTime[m
[31m-        }[m
[31m-      });[m
[31m-[m
[31m-      return {[m
[31m-        response: response.data.data.response,[m
[31m-        metadata: {[m
[31m-          responseTime,[m
[31m-          agent: context.type || 'product-manager'[m
[31m-        }[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('AI Chat error:', error.message);[m
[31m-      [m
[31m-      // Fallback response[m
[31m-      return {[m
[31m-        response: "I'm currently experiencing connectivity issues. Please try again later.",[m
[31m-        metadata: {[m
[31m-          error: true,[m
[31m-          fallback: true[m
[31m-        }[m
[31m-      };[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async createTaskFromDescription(description, projectId, userId) {[m
[31m-    try {[m
[31m-      const response = await this.client.post('/api/v1/ai/create-task', {[m
[31m-        description,[m
[31m-        projectId[m
[31m-      });[m
[31m-[m
[31m-      return {[m
[31m-        success: true,[m
[31m-        task: response.data.data.task || response.data.data[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Task creation error:', error.message);[m
[31m-      [m
[31m-      // Fallback: Create basic task structure[m
[31m-      return {[m
[31m-        success: true,[m
[31m-        task: {[m
[31m-          title: description.substring(0, 100),[m
[31m-          description: description,[m
[31m-          priority: 'medium',[m
[31m-          estimatedTime: 4,[m
[31m-          tags: ['pending-ai-analysis'],[m
[31m-          status: 'todo'[m
[31m-        }[m
[31m-      };[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async analyzeTask(task, projectContext) {[m
[31m-    try {[m
[31m-      const response = await this.client.post('/api/v1/ai/analyze-task', {[m
[31m-        task: {[m
[31m-          _id: task._id,[m
[31m-          title: task.title,[m
[31m-          description: task.description,[m
[31m-          priority: task.priority,[m
[31m-          status: task.status[m
[31m-        },[m
[31m-        projectContext[m
[31m-      });[m
[31m-[m
[31m-      return response.data.data.analysis || response.data.data;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Task analysis error:', error.message);[m
[31m-      [m
[31m-      // Fallback analysis[m
[31m-      return {[m
[31m-        complexityScore: 5,[m
[31m-        estimatedHours: 8,[m
[31m-        skillsRequired: ['General'],[m
[31m-        dependencies: [],[m
[31m-        risks: ['Unable to perform AI analysis'],[m
[31m-        recommendations: ['Manual review recommended'],[m
[31m-        blockers: [][m
[31m-      };[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async analyzeProject(projectData, tasks) {[m
[31m-    try {[m
[31m-      const response = await this.client.post('/api/v1/ai/analyze-project', {[m
[31m-        projectData: {[m
[31m-          name: projectData.name,[m
[31m-          status: projectData.status,[m
[31m-          progress: projectData.progress,[m
[31m-          deadline: projectData.deadline[m
[31m-        },[m
[31m-        tasks: tasks.map(t => ({[m
[31m-          _id: t._id,[m
[31m-          title: t.title,[m
[31m-          status: t.status,[m
[31m-          priority: t.priority,[m
[31m-          dueDate: t.dueDate[m
[31m-        }))[m
[31m-      });[m
[31m-[m
[31m-      return response.data.data.health || response.data.data;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Project analysis error:', error.message);[m
[31m-      [m
[31m-      // Fallback analysis[m
[31m-      const completedTasks = tasks.filter(t => t.status === 'done').length;[m
[31m-      const totalTasks = tasks.length;[m
[31m-      [m
[31m-      return {[m
[31m-        healthScore: totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0,[m
[31m-        status: 'unknown',[m
[31m-        insights: ['AI analysis unavailable'],[m
[31m-        risks: [],[m
[31m-        recommendations: ['Manual project review recommended'][m
[31m-      };[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async transcribeAudio(audioFilePath, meetingContext) {[m
[31m-    try {[m
[31m-      const formData = new FormData();[m
[31m-      formData.append('audio', fs.createReadStream(audioFilePath));[m
[31m-      formData.append('title', meetingContext.title || '');[m
[31m-      formData.append('participants', JSON.stringify(meetingContext.participants || []));[m
[31m-      formData.append('date', meetingContext.date || new Date().toISOString());[m
[31m-[m
[31m-      const response = await this.client.post('/api/v1/ai/transcribe', formData, {[m
[31m-        headers: {[m
[31m-          ...formData.getHeaders(),[m
[31m-        },[m
[31m-        maxContentLength: Infinity,[m
[31m-        maxBodyLength: Infinity[m
[31m-      });[m
[31m-[m
[31m-      return response.data.data;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Transcription error:', error.message);[m
[31m-      throw new Error('Audio transcription service unavailable');[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async indexDocument(content, metadata) {[m
[31m-    try {[m
[31m-      const response = await this.client.post('/api/v1/ai/index-document', {[m
[31m-        content,[m
[31m-        metadata[m
[31m-      });[m
[31m-[m
[31m-      return response.data.data;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Document indexing error:', error.message);[m
[31m-      return { [m
[31m-        success: false, [m
[31m-        message: 'Document indexing unavailable' [m
[31m-      };[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async searchDocuments(query, options) {[m
[31m-    try {[m
[31m-      const response = await this.client.get('/api/v1/ai/search-documents', {[m
[31m-        params: { [m
[31m-          query, [m
[31m-          limit: options.limit || 5,[m
[31m-          filter: JSON.stringify(options.filter || {})[m
[31m-        }[m
[31m-      });[m
[31m-[m
[31m-      return response.data.data;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Document search error:', error.message);[m
[31m-      return { results: [] };[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async suggestTaskBreakdown(epicTask) {[m
[31m-    try {[m
[31m-      const response = await this.client.post('/api/v1/ai/suggest-breakdown', {[m
[31m-        task: {[m
[31m-          title: epicTask.title,[m
[31m-          description: epicTask.description[m
[31m-        }[m
[31m-      });[m
[31m-[m
[31m-      return response.data.data.subtasks || response.data.data;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Task breakdown error:', error.message);[m
[31m-      [m
[31m-      // Simple fallback breakdown[m
[31m-      return [[m
[31m-        {[m
[31m-          title: `${epicTask.title} - Phase 1`,[m
[31m-          description: 'Initial implementation',[m
[31m-          estimatedTime: 4,[m
[31m-          priority: 'high'[m
[31m-        },[m
[31m-        {[m
[31m-          title: `${epicTask.title} - Phase 2`,[m
[31m-          description: 'Testing and refinement',[m
[31m-          estimatedTime: 3,[m
[31m-          priority: 'medium'[m
[31m-        }[m
[31m-      ];[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async estimateEffort(tasks) {[m
[31m-    try {[m
[31m-      const response = await this.client.post('/api/v1/ai/estimate-effort', {[m
[31m-        tasks: tasks.map(t => ({[m
[31m-          title: t.title,[m
[31m-          description: t.description,[m
[31m-          priority: t.priority[m
[31m-        }))[m
[31m-      });[m
[31m-[m
[31m-      return response.data.data.estimates || response.data.data;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Effort estimation error:', error.message);[m
[31m-      [m
[31m-      // Simple fallback estimation[m
[31m-      return {[m
[31m-        totalHours: tasks.length * 8,[m
[31m-        taskEstimates: tasks.map(t => ({[m
[31m-          taskId: t._id,[m
[31m-          hours: 8,[m
[31m-          confidence: 'low'[m
[31m-        }))[m
[31m-      };[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  // Health check method[m
[31m-  async isAvailable() {[m
[31m-    try {[m
[31m-      const response = await this.client.get('/health', { timeout: 3000 });[m
[31m-      return response.data.status === 'healthy';[m
[31m-    } catch (error) {[m
[31m-      return false;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-// Singleton instance[m
[31m-const aiService = new AIService();[m
[31m-[m
[31m-module.exports = aiService;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/services/analytics.service.js b/zenai-backend/src/services/analytics.service.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/services/integration.service.js b/zenai-backend/src/services/integration.service.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/services/notification.service.js b/zenai-backend/src/services/notification.service.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/services/whisper.service.js b/zenai-backend/src/services/whisper.service.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/utils/constants.js b/zenai-backend/src/utils/constants.js[m
[1mdeleted file mode 100644[m
[1mindex fe24266..0000000[m
[1m--- a/zenai-backend/src/utils/constants.js[m
[1m+++ /dev/null[m
[36m@@ -1,54 +0,0 @@[m
[31m-// src/utils/constants.js[m
[31m-module.exports = {[m
[31m-  USER_ROLES: {[m
[31m-    USER: 'user',[m
[31m-    ADMIN: 'admin',[m
[31m-    MANAGER: 'manager'[m
[31m-  },[m
[31m-[m
[31m-  PROJECT_STATUS: {[m
[31m-    PLANNING: 'planning',[m
[31m-    ACTIVE: 'active',[m
[31m-    ON_HOLD: 'on-hold',[m
[31m-    COMPLETED: 'completed',[m
[31m-    ARCHIVED: 'archived'[m
[31m-  },[m
[31m-[m
[31m-  TASK_STATUS: {[m
[31m-    TODO: 'todo',[m
[31m-    IN_PROGRESS: 'in-progress',[m
[31m-    REVIEW: 'review',[m
[31m-    DONE: 'done'[m
[31m-  },[m
[31m-[m
[31m-  PRIORITY: {[m
[31m-    LOW: 'low',[m
[31m-    MEDIUM: 'medium',[m
[31m-    HIGH: 'high',[m
[31m-    URGENT: 'urgent'[m
[31m-  },[m
[31m-[m
[31m-  TEAM_ROLES: {[m
[31m-    OWNER: 'owner',[m
[31m-    ADMIN: 'admin',[m
[31m-    MEMBER: 'member',[m
[31m-    VIEWER: 'viewer'[m
[31m-  },[m
[31m-[m
[31m-  HTTP_STATUS: {[m
[31m-    OK: 200,[m
[31m-    CREATED: 201,[m
[31m-    BAD_REQUEST: 400,[m
[31m-    UNAUTHORIZED: 401,[m
[31m-    FORBIDDEN: 403,[m
[31m-    NOT_FOUND: 404,[m
[31m-    INTERNAL_SERVER_ERROR: 500[m
[31m-  },[m
[31m-[m
[31m-  CACHE_TTL: {[m
[31m-    SHORT: 300,      // 5 minutes[m
[31m-    MEDIUM: 1800,    // 30 minutes[m
[31m-    LONG: 3600,      // 1 hour[m
[31m-    DAY: 86400       // 24 hours[m
[31m-  }[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/utils/helpers.js b/zenai-backend/src/utils/helpers.js[m
[1mdeleted file mode 100644[m
[1mindex f321f24..0000000[m
[1m--- a/zenai-backend/src/utils/helpers.js[m
[1m+++ /dev/null[m
[36m@@ -1,47 +0,0 @@[m
[31m-// src/utils/helpers.js[m
[31m-const crypto = require('crypto');[m
[31m-[m
[31m-exports.generateRandomString = (length = 32) => {[m
[31m-  return crypto.randomBytes(length).toString('hex');[m
[31m-};[m
[31m-[m
[31m-exports.hashString = (str) => {[m
[31m-  return crypto.createHash('sha256').update(str).digest('hex');[m
[31m-};[m
[31m-[m
[31m-exports.sleep = (ms) => {[m
[31m-  return new Promise(resolve => setTimeout(resolve, ms));[m
[31m-};[m
[31m-[m
[31m-exports.formatDate = (date) => {[m
[31m-  return new Date(date).toISOString();[m
[31m-};[m
[31m-[m
[31m-exports.paginate = (data, page = 1, limit = 10) => {[m
[31m-  const startIndex = (page - 1) * limit;[m
[31m-  const endIndex = page * limit;[m
[31m-  const results = {};[m
[31m-[m
[31m-  results.data = data.slice(startIndex, endIndex);[m
[31m-  results.pagination = {[m
[31m-    current: page,[m
[31m-    total: Math.ceil(data.length / limit),[m
[31m-    count: data.length[m
[31m-  };[m
[31m-[m
[31m-  return results;[m
[31m-};[m
[31m-[m
[31m-exports.sanitizeObject = (obj, allowedFields) => {[m
[31m-  const sanitized = {};[m
[31m-  allowedFields.forEach(field => {[m
[31m-    if (obj[field] !== undefined) {[m
[31m-      sanitized[field] = obj[field];[m
[31m-    }[m
[31m-  });[m
[31m-  return sanitized;[m
[31m-};[m
[31m-[m
[31m-exports.isValidObjectId = (id) => {[m
[31m-  return /^[0-9a-fA-F]{24}$/.test(id);[m
[31m-};[m
[1mdiff --git a/zenai-backend/src/utils/logger.js b/zenai-backend/src/utils/logger.js[m
[1mdeleted file mode 100644[m
[1mindex fea5bb1..0000000[m
[1m--- a/zenai-backend/src/utils/logger.js[m
[1m+++ /dev/null[m
[36m@@ -1,47 +0,0 @@[m
[31m-// src/utils/logger.js[m
[31m-const winston = require('winston');[m
[31m-const DailyRotateFile = require('winston-daily-rotate-file');[m
[31m-[m
[31m-const logFormat = winston.format.combine([m
[31m-  winston.format.timestamp(),[m
[31m-  winston.format.errors({ stack: true }),[m
[31m-  winston.format.json()[m
[31m-);[m
[31m-[m
[31m-const logger = winston.createLogger({[m
[31m-  level: process.env.LOG_LEVEL || 'info',[m
[31m-  format: logFormat,[m
[31m-  defaultMeta: { service: 'zenai-backend' },[m
[31m-  transports: [[m
[31m-    // Error logs[m
[31m-    new DailyRotateFile({[m
[31m-      filename: 'logs/error-%DATE%.log',[m
[31m-      datePattern: 'YYYY-MM-DD',[m
[31m-      level: 'error',[m
[31m-      maxSize: '20m',[m
[31m-      maxFiles: '14d',[m
[31m-      zippedArchive: true[m
[31m-    }),[m
[31m-    [m
[31m-    // Combined logs[m
[31m-    new DailyRotateFile({[m
[31m-      filename: 'logs/combined-%DATE%.log',[m
[31m-      datePattern: 'YYYY-MM-DD',[m
[31m-      maxSize: '20m',[m
[31m-      maxFiles: '14d',[m
[31m-      zippedArchive: true[m
[31m-    })[m
[31m-  ][m
[31m-});[m
[31m-[m
[31m-// Console logging in development[m
[31m-if (process.env.NODE_ENV !== 'production') {[m
[31m-  logger.add(new winston.transports.Console({[m
[31m-    format: winston.format.combine([m
[31m-      winston.format.colorize(),[m
[31m-      winston.format.simple()[m
[31m-    )[m
[31m-  }));[m
[31m-}[m
[31m-[m
[31m-module.exports = logger;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/src/utils/metrics.js b/zenai-backend/src/utils/metrics.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/utils/validation.js b/zenai-backend/src/utils/validation.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/src/websocket/socketHandler.js b/zenai-backend/src/websocket/socketHandler.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-backend/tests/integration/ai.test.js b/zenai-backend/tests/integration/ai.test.js[m
[1mdeleted file mode 100644[m
[1mindex 1da94b6..0000000[m
[1m--- a/zenai-backend/tests/integration/ai.test.js[m
[1m+++ /dev/null[m
[36m@@ -1,88 +0,0 @@[m
[31m-// tests/integration/ai.test.js[m
[31m-const request = require('supertest');[m
[31m-const app = require('../../src/app');[m
[31m-const User = require('../../src/models/User.model');[m
[31m-const Project = require('../../src/models/Project.model');[m
[31m-const { generateAccessToken } = require('../../src/config/jwt');[m
[31m-[m
[31m-describe('AI Endpoints', () => {[m
[31m-  let token;[m
[31m-  let userId;[m
[31m-  let projectId;[m
[31m-[m
[31m-  beforeAll(async () => {[m
[31m-    // Create test user[m
[31m-    const user = await User.create({[m
[31m-      name: 'Test User',[m
[31m-      email: 'test@example.com',[m
[31m-      password: 'password123'[m
[31m-    });[m
[31m-    userId = user._id;[m
[31m-    token = generateAccessToken(userId);[m
[31m-[m
[31m-    // Create test project[m
[31m-    const project = await Project.create({[m
[31m-      name: 'Test Project',[m
[31m-      owner: userId[m
[31m-    });[m
[31m-    projectId = project._id;[m
[31m-  });[m
[31m-[m
[31m-  describe('POST /api/v1/ai/chat', () => {[m
[31m-    it('should respond to chat message', async () => {[m
[31m-      const response = await request(app)[m
[31m-        .post('/api/v1/ai/chat')[m
[31m-        .set('Authorization', `Bearer ${token}`)[m
[31m-        .send({[m
[31m-          message: 'Create a task for implementing user authentication',[m
[31m-          context: {[m
[31m-            type: 'project-management',[m
[31m-            projectId: projectId.toString()[m
[31m-          }[m
[31m-        });[m
[31m-[m
[31m-      expect(response.status).toBe(200);[m
[31m-      expect(response.body.success).toBe(true);[m
[31m-      expect(response.body.data.response).toBeDefined();[m
[31m-    });[m
[31m-[m
[31m-    it('should reject without authentication', async () => {[m
[31m-      const response = await request(app)[m
[31m-        .post('/api/v1/ai/chat')[m
[31m-        .send({ message: 'Hello' });[m
[31m-[m
[31m-      expect(response.status).toBe(401);[m
[31m-    });[m
[31m-[m
[31m-    it('should reject empty message', async () => {[m
[31m-      const response = await request(app)[m
[31m-        .post('/api/v1/ai/chat')[m
[31m-        .set('Authorization', `Bearer ${token}`)[m
[31m-        .send({ message: '' });[m
[31m-[m
[31m-      expect(response.status).toBe(400);[m
[31m-    });[m
[31m-  });[m
[31m-[m
[31m-  describe('POST /api/v1/ai/tasks/create', () => {[m
[31m-    it('should create task from description', async () => {[m
[31m-      const response = await request(app)[m
[31m-        .post('/api/v1/ai/tasks/create')[m
[31m-        .set('Authorization', `Bearer ${token}`)[m
[31m-        .send({[m
[31m-          description: 'Implement user login with JWT authentication',[m
[31m-          projectId: projectId.toString()[m
[31m-        });[m
[31m-[m
[31m-      expect(response.status).toBe(201);[m
[31m-      expect(response.body.success).toBe(true);[m
[31m-      expect(response.body.data.title).toBeDefined();[m
[31m-      expect(response.body.data.priority).toBeDefined();[m
[31m-    });[m
[31m-  });[m
[31m-[m
[31m-  afterAll(async () => {[m
[31m-    await User.deleteMany({});[m
[31m-    await Project.deleteMany({});[m
[31m-  });[m
[31m-});[m
\ No newline at end of file[m
[1mdiff --git a/zenai-backend/tests/load/load-test.js b/zenai-backend/tests/load/load-test.js[m
[1mdeleted file mode 100644[m
[1mindex d21fb05..0000000[m
[1m--- a/zenai-backend/tests/load/load-test.js[m
[1m+++ /dev/null[m
[36m@@ -1,39 +0,0 @@[m
[31m-// tests/load/load-test.js[m
[31m-const autocannon = require('autocannon');[m
[31m-[m
[31m-async function runLoadTest() {[m
[31m-  const result = await autocannon({[m
[31m-    url: 'http://localhost:5000',[m
[31m-    connections: 100,[m
[31m-    duration: 30,[m
[31m-    pipelining: 10,[m
[31m-    requests: [[m
[31m-      {[m
[31m-        method: 'POST',[m
[31m-        path: '/api/v1/auth/login',[m
[31m-        headers: {[m
[31m-          'Content-Type': 'application/json'[m
[31m-        },[m
[31m-        body: JSON.stringify({[m
[31m-          email: 'test@example.com',[m
[31m-          password: 'password123'[m
[31m-        })[m
[31m-      },[m
[31m-      {[m
[31m-        method: 'GET',[m
[31m-        path: '/api/v1/projects',[m
[31m-        headers: {[m
[31m-          'Authorization': 'Bearer YOUR_TOKEN'[m
[31m-        }[m
[31m-      }[m
[31m-    ][m
[31m-  });[m
[31m-[m
[31m-  console.log('Load Test Results:');[m
[31m-  console.log(`Requests: ${result.requests.total}`);[m
[31m-  console.log(`Throughput: ${result.throughput.average} req/sec`);[m
[31m-  console.log(`Latency: ${result.latency.mean}ms`);[m
[31m-  console.log(`Errors: ${result.errors}`);[m
[31m-}[m
[31m-[m
[31m-runLoadTest();[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/.env.example b/zenai-frontend/.env.example[m
[1mdeleted file mode 100644[m
[1mindex 9332406..0000000[m
[1m--- a/zenai-frontend/.env.example[m
[1m+++ /dev/null[m
[36m@@ -1,3 +0,0 @@[m
[31m-VITE_API_URL=http://localhost:5000/api/v1[m
[31m-VITE_SOCKET_URL=http://localhost:5000[m
[31m-VITE_APP_NAME=ZenAI[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/.gitignore b/zenai-frontend/.gitignore[m
[1mdeleted file mode 100644[m
[1mindex a547bf3..0000000[m
[1m--- a/zenai-frontend/.gitignore[m
[1m+++ /dev/null[m
[36m@@ -1,24 +0,0 @@[m
[31m-# Logs[m
[31m-logs[m
[31m-*.log[m
[31m-npm-debug.log*[m
[31m-yarn-debug.log*[m
[31m-yarn-error.log*[m
[31m-pnpm-debug.log*[m
[31m-lerna-debug.log*[m
[31m-[m
[31m-node_modules[m
[31m-dist[m
[31m-dist-ssr[m
[31m-*.local[m
[31m-[m
[31m-# Editor directories and files[m
[31m-.vscode/*[m
[31m-!.vscode/extensions.json[m
[31m-.idea[m
[31m-.DS_Store[m
[31m-*.suo[m
[31m-*.ntvs*[m
[31m-*.njsproj[m
[31m-*.sln[m
[31m-*.sw?[m
[1mdiff --git a/zenai-frontend/Dockerfile b/zenai-frontend/Dockerfile[m
[1mdeleted file mode 100644[m
[1mindex c95105e..0000000[m
[1m--- a/zenai-frontend/Dockerfile[m
[1m+++ /dev/null[m
[36m@@ -1,40 +0,0 @@[m
[31m-# Frontend Dockerfile - Multi-stage build[m
[31m-FROM node:18-alpine AS builder[m
[31m-[m
[31m-WORKDIR /app[m
[31m-[m
[31m-# Copy package files[m
[31m-COPY package*.json ./[m
[31m-[m
[31m-# Install dependencies[m
[31m-RUN npm ci[m
[31m-[m
[31m-# Copy application files[m
[31m-COPY . .[m
[31m-[m
[31m-# Build production bundle[m
[31m-RUN npm run build[m
[31m-[m
[31m-# Production stage - serve with nginx[m
[31m-FROM nginx:alpine[m
[31m-[m
[31m-# Copy custom nginx config[m
[31m-COPY nginx.conf /etc/nginx/nginx.conf[m
[31m-[m
[31m-# Copy built application from builder[m
[31m-COPY --from=builder /app/dist /usr/share/nginx/html[m
[31m-[m
[31m-# Create non-root user[m
[31m-RUN addgroup -g 1001 -S nginx && \[m
[31m-    adduser -S nginx -u 1001[m
[31m-[m
[31m-# Change ownership[m
[31m-RUN chown -R nginx:nginx /usr/share/nginx/html[m
[31m-[m
[31m-EXPOSE 3000[m
[31m-[m
[31m-# Health check[m
[31m-HEALTHCHECK --interval=30s --timeout=3s --start-period=40s --retries=3 \[m
[31m-  CMD wget --quiet --tries=1 --spider http://localhost:3000/ || exit 1[m
[31m-[m
[31m-CMD ["nginx", "-g", "daemon off;"][m
[1mdiff --git a/zenai-frontend/README.md b/zenai-frontend/README.md[m
[1mdeleted file mode 100644[m
[1mindex fe354c7..0000000[m
[1m--- a/zenai-frontend/README.md[m
[1m+++ /dev/null[m
[36m@@ -1,255 +0,0 @@[m
[31m-# üöÄ ZenAI Frontend[m
[31m-[m
[31m-Modern React-based frontend for the ZenAI AI-powered project management platform.[m
[31m-[m
[31m-## üìã Table of Contents[m
[31m-[m
[31m-- [Features](#features)[m
[31m-- [Tech Stack](#tech-stack)[m
[31m-- [Project Structure](#project-structure)[m
[31m-- [Getting Started](#getting-started)[m
[31m-- [Available Scripts](#available-scripts)[m
[31m-- [Environment Variables](#environment-variables)[m
[31m-- [Components](#components)[m
[31m-- [State Management](#state-management)[m
[31m-- [API Integration](#api-integration)[m
[31m-- [Styling](#styling)[m
[31m-- [Best Practices](#best-practices)[m
[31m-[m
[31m-## ‚ú® Features[m
[31m-[m
[31m-- üé® Modern, responsive UI with TailwindCSS[m
[31m-- ü§ñ AI-powered task generation and project analysis[m
[31m-- üìä Interactive dashboards with real-time data[m
[31m-- üéØ Kanban board for task management[m
[31m-- üí¨ AI chat interface for natural language interactions[m
[31m-- üéôÔ∏è Meeting transcription with AI summaries[m
[31m-- üîê Secure JWT-based authentication[m
[31m-- üåô Dark mode support (optional)[m
[31m-- üì± Mobile-responsive design[m
[31m-- ‚ö° Fast performance with Vite[m
[31m-[m
[31m-## üõ† Tech Stack[m
[31m-[m
[31m-- **Framework**: React 18[m
[31m-- **Build Tool**: Vite[m
[31m-- **Styling**: TailwindCSS[m
[31m-- **Routing**: React Router v6[m
[31m-- **State Management**: React Context API + Custom Hooks[m
[31m-- **HTTP Client**: Axios[m
[31m-- **Animations**: Framer Motion[m
[31m-- **Icons**: React Icons[m
[31m-- **Notifications**: React Hot Toast[m
[31m-- **Date Handling**: date-fns[m
[31m-- **Drag & Drop**: react-beautiful-dnd[m
[31m-- **Charts**: Recharts[m
[31m-[m
[31m-## üìÅ Project Structure[m
[31m-[m
[31m-```[m
[31m-zenai-frontend/[m
[31m-‚îú‚îÄ‚îÄ public/[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ index.html[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico[m
[31m-‚îÇ   ‚îî‚îÄ‚îÄ manifest.json[m
[31m-‚îú‚îÄ‚îÄ src/[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ components/[m
[31m-‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/          # Reusable UI components[m
[31m-‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/          # Layout components[m
[31m-‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/            # Authentication components[m
[31m-‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/       # Dashboard components[m
[31m-‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ projects/        # Project management[m
[31m-‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tasks/           # Task management[m
[31m-‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ai/              # AI-powered features[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ contexts/            # React contexts[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ hooks/               # Custom React hooks[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ services/            # API services[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ utils/               # Utility functions[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ styles/              # Global styles[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ App.jsx              # Main app component[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ main.jsx             # App entry point[m
[31m-‚îÇ   ‚îî‚îÄ‚îÄ routes.jsx           # Route definitions[m
[31m-‚îú‚îÄ‚îÄ .env.example             # Environment variables template[m
[31m-‚îú‚îÄ‚îÄ package.json[m
[31m-‚îú‚îÄ‚îÄ tailwind.config.js[m
[31m-‚îî‚îÄ‚îÄ vite.config.js[m
[31m-```[m
[31m-[m
[31m-## üöÄ Getting Started[m
[31m-[m
[31m-### Prerequisites[m
[31m-[m
[31m-- Node.js >= 16.x[m
[31m-- npm or yarn[m
[31m-[m
[31m-### Installation[m
[31m-[m
[31m-1. Clone the repository:[m
[31m-```bash[m
[31m-git clone <repository-url>[m
[31m-cd zenai-production/zenai-frontend[m
[31m-```[m
[31m-[m
[31m-2. Install dependencies:[m
[31m-```bash[m
[31m-npm install[m
[31m-```[m
[31m-[m
[31m-3. Create environment file:[m
[31m-```bash[m
[31m-cp .env.example .env[m
[31m-```[m
[31m-[m
[31m-4. Update `.env` with your configuration:[m
[31m-```env[m
[31m-VITE_API_URL=http://localhost:5000/api/v1[m
[31m-```[m
[31m-[m
[31m-5. Start development server:[m
[31m-```bash[m
[31m-npm run dev[m
[31m-```[m
[31m-[m
[31m-The app will be available at `http://localhost:5173`[m
[31m-[m
[31m-## üìú Available Scripts[m
[31m-[m
[31m-- `npm run dev` - Start development server[m
[31m-- `npm run build` - Build for production[m
[31m-- `npm run preview` - Preview production build[m
[31m-- `npm run lint` - Run ESLint[m
[31m-- `npm run format` - Format code with Prettier[m
[31m-[m
[31m-## üîß Environment Variables[m
[31m-[m
[31m-| Variable | Description | Default |[m
[31m-|----------|-------------|----------|[m
[31m-| `VITE_API_URL` | Backend API base URL | `http://localhost:5000/api/v1` |[m
[31m-[m
[31m-## üß© Components[m
[31m-[m
[31m-### Common Components[m
[31m-[m
[31m-- **Button**: Customizable button with variants and loading states[m
[31m-- **Input**: Form input with validation support[m
[31m-- **Modal**: Accessible modal dialog[m
[31m-- **Card**: Container component for content[m
[31m-- **Loading**: Loading spinner[m
[31m-- **Toast**: Notification component[m
[31m-[m
[31m-### Layout Components[m
[31m-[m
[31m-- **Navbar**: Top navigation bar[m
[31m-- **Sidebar**: Collapsible sidebar navigation[m
[31m-- **Footer**: Page footer[m
[31m-[m
[31m-### Feature Components[m
[31m-[m
[31m-- **Dashboard**: Project overview and statistics[m
[31m-- **ProjectList**: Grid/list view of projects[m
[31m-- **TaskList**: Task list with filtering[m
[31m-- **KanbanBoard**: Drag-and-drop task board[m
[31m-- **AIChat**: Chat interface with AI assistant[m
[31m-- **TaskGenerator**: AI-powered task creation[m
[31m-- **MeetingTranscriber**: Audio transcription tool[m
[31m-[m
[31m-## üóÇ State Management[m
[31m-[m
[31m-### Contexts[m
[31m-[m
[31m-- **AuthContext**: User authentication state[m
[31m-- **ThemeContext**: Theme preferences[m
[31m-- **NotificationContext**: App-wide notifications[m
[31m-[m
[31m-### Custom Hooks[m
[31m-[m
[31m-- **useAuth**: Authentication operations[m
[31m-- **useProjects**: Project CRUD operations[m
[31m-- **useTasks**: Task management[m
[31m-- **useAI**: AI-powered features[m
[31m-[m
[31m-## üåê API Integration[m
[31m-[m
[31m-All API calls go through the centralized `api.js` service with:[m
[31m-[m
[31m-- Automatic token refresh[m
[31m-- Request/response interceptors[m
[31m-- Error handling[m
[31m-- Toast notifications[m
[31m-[m
[31m-### Service Files[m
[31m-[m
[31m-- `auth.service.js` - Authentication endpoints[m
[31m-- `project.service.js` - Project management[m
[31m-- `task.service.js` - Task operations[m
[31m-- `ai.service.js` - AI-powered features[m
[31m-[m
[31m-## üé® Styling[m
[31m-[m
[31m-### TailwindCSS[m
[31m-[m
[31m-The project uses TailwindCSS for styling with a custom configuration:[m
[31m-[m
[31m-```javascript[m
[31m-// tailwind.config.js[m
[31m-theme: {[m
[31m-  extend: {[m
[31m-    colors: {[m
[31m-      primary: { /* custom primary colors */ },[m
[31m-      secondary: { /* custom secondary colors */ }[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Component Styling[m
[31m-[m
[31m-- Utility-first approach with TailwindCSS[m
[31m-- Consistent spacing and sizing[m
[31m-- Responsive design patterns[m
[31m-- Accessible color contrast[m
[31m-[m
[31m-## üìö Best Practices[m
[31m-[m
[31m-### Code Organization[m
[31m-[m
[31m-- Keep components small and focused[m
[31m-- Use custom hooks for logic reuse[m
[31m-- Separate business logic from UI[m
[31m-- Follow consistent naming conventions[m
[31m-[m
[31m-### Performance[m
[31m-[m
[31m-- Use React.memo for expensive components[m
[31m-- Lazy load routes and components[m
[31m-- Optimize images and assets[m
[31m-- Debounce search inputs[m
[31m-[m
[31m-### Accessibility[m
[31m-[m
[31m-- Semantic HTML elements[m
[31m-- ARIA labels where needed[m
[31m-- Keyboard navigation support[m
[31m-- Focus management in modals[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Sanitize user inputs[m
[31m-- Validate data on both client and server[m
[31m-- Store tokens securely[m
[31m-- Implement CSRF protection[m
[31m-[m
[31m-## ü§ù Contributing[m
[31m-[m
[31m-1. Create a feature branch[m
[31m-2. Make your changes[m
[31m-3. Run tests and linting[m
[31m-4. Submit a pull request[m
[31m-[m
[31m-## üìÑ License[m
[31m-[m
[31m-This project is proprietary and confidential.[m
[31m-[m
[31m-## üìû Support[m
[31m-[m
[31m-For issues and questions, please contact the development team.[m
[1mdiff --git a/zenai-frontend/eslint.config.js b/zenai-frontend/eslint.config.js[m
[1mdeleted file mode 100644[m
[1mindex cee1e2c..0000000[m
[1m--- a/zenai-frontend/eslint.config.js[m
[1m+++ /dev/null[m
[36m@@ -1,29 +0,0 @@[m
[31m-import js from '@eslint/js'[m
[31m-import globals from 'globals'[m
[31m-import reactHooks from 'eslint-plugin-react-hooks'[m
[31m-import reactRefresh from 'eslint-plugin-react-refresh'[m
[31m-import { defineConfig, globalIgnores } from 'eslint/config'[m
[31m-[m
[31m-export default defineConfig([[m
[31m-  globalIgnores(['dist']),[m
[31m-  {[m
[31m-    files: ['**/*.{js,jsx}'],[m
[31m-    extends: [[m
[31m-      js.configs.recommended,[m
[31m-      reactHooks.configs['recommended-latest'],[m
[31m-      reactRefresh.configs.vite,[m
[31m-    ],[m
[31m-    languageOptions: {[m
[31m-      ecmaVersion: 2020,[m
[31m-      globals: globals.browser,[m
[31m-      parserOptions: {[m
[31m-        ecmaVersion: 'latest',[m
[31m-        ecmaFeatures: { jsx: true },[m
[31m-        sourceType: 'module',[m
[31m-      },[m
[31m-    },[m
[31m-    rules: {[m
[31m-      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],[m
[31m-    },[m
[31m-  },[m
[31m-])[m
[1mdiff --git a/zenai-frontend/index.html b/zenai-frontend/index.html[m
[1mdeleted file mode 100644[m
[1mindex cda9701..0000000[m
[1m--- a/zenai-frontend/index.html[m
[1m+++ /dev/null[m
[36m@@ -1,13 +0,0 @@[m
[31m-<!doctype html>[m
[31m-<html lang="en">[m
[31m-  <head>[m
[31m-    <meta charset="UTF-8" />[m
[31m-    <link rel="icon" type="image/svg+xml" href="/vite.svg" />[m
[31m-    <meta name="viewport" content="width=device-width, initial-scale=1.0" />[m
[31m-    <title>zenai-frontend</title>[m
[31m-  </head>[m
[31m-  <body>[m
[31m-    <div id="root"></div>[m
[31m-    <script type="module" src="/src/main.jsx"></script>[m
[31m-  </body>[m
[31m-</html>[m
[1mdiff --git a/zenai-frontend/package.json b/zenai-frontend/package.json[m
[1mdeleted file mode 100644[m
[1mindex ecf0902..0000000[m
[1m--- a/zenai-frontend/package.json[m
[1m+++ /dev/null[m
[36m@@ -1,38 +0,0 @@[m
[31m-{[m
[31m-  "name": "zenai-frontend",[m
[31m-  "version": "1.0.0",[m
[31m-  "private": true,[m
[31m-  "dependencies": {[m
[31m-    "axios": "^1.6.2",[m
[31m-    "date-fns": "^2.30.0",[m
[31m-    "framer-motion": "^10.16.16",[m
[31m-    "lucide-react": "^0.294.0",[m
[31m-    "react": "^18.2.0",[m
[31m-    "react-beautiful-dnd": "^13.1.1",[m
[31m-    "react-dom": "^18.2.0",[m
[31m-    "react-hot-toast": "^2.4.1",[m
[31m-    "react-icons": "^4.12.0",[m
[31m-    "react-markdown": "^9.0.1",[m
[31m-    "react-query": "^3.39.3",[m
[31m-    "react-router-dom": "^6.20.0",[m
[31m-    "recharts": "^2.10.3",[m
[31m-    "socket.io-client": "^4.6.1",[m
[31m-    "zustand": "^4.4.7"[m
[31m-  },[m
[31m-  "devDependencies": {[m
[31m-    "@vitejs/plugin-react": "^4.2.1",[m
[31m-    "autoprefixer": "^10.4.22",[m
[31m-    "eslint": "^8.55.0",[m
[31m-    "postcss": "^8.5.6",[m
[31m-    "prettier": "^3.1.1",[m
[31m-    "tailwindcss": "^3.4.18",[m
[31m-    "vite": "^5.0.8"[m
[31m-  },[m
[31m-  "scripts": {[m
[31m-    "dev": "vite",[m
[31m-    "build": "vite build",[m
[31m-    "preview": "vite preview",[m
[31m-    "lint": "eslint src --ext js,jsx",[m
[31m-    "format": "prettier --write \"src/**/*.{js,jsx}\""[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/zenai-frontend/postcss.config.js b/zenai-frontend/postcss.config.js[m
[1mdeleted file mode 100644[m
[1mindex 33ad091..0000000[m
[1m--- a/zenai-frontend/postcss.config.js[m
[1m+++ /dev/null[m
[36m@@ -1,6 +0,0 @@[m
[31m-module.exports = {[m
[31m-  plugins: {[m
[31m-    tailwindcss: {},[m
[31m-    autoprefixer: {},[m
[31m-  },[m
[31m-}[m
[1mdiff --git a/zenai-frontend/public/manifest.json b/zenai-frontend/public/manifest.json[m
[1mdeleted file mode 100644[m
[1mindex 3ffe8cf..0000000[m
[1m--- a/zenai-frontend/public/manifest.json[m
[1m+++ /dev/null[m
[36m@@ -1,30 +0,0 @@[m
[31m-{[m
[31m-  "short_name": "ZenAI",[m
[31m-  "name": "ZenAI - AI-Powered Project Management",[m
[31m-  "description": "Intelligent project management platform powered by AI",[m
[31m-  "icons": [[m
[31m-    {[m
[31m-      "src": "favicon.ico",[m
[31m-      "sizes": "64x64 32x32 24x24 16x16",[m
[31m-      "type": "image/x-icon"[m
[31m-    },[m
[31m-    {[m
[31m-      "src": "logo192.png",[m
[31m-      "type": "image/png",[m
[31m-      "sizes": "192x192"[m
[31m-    },[m
[31m-    {[m
[31m-      "src": "logo512.png",[m
[31m-      "type": "image/png",[m
[31m-      "sizes": "512x512"[m
[31m-    }[m
[31m-  ],[m
[31m-  "start_url": ".",[m
[31m-  "display": "standalone",[m
[31m-  "theme_color": "#3b82f6",[m
[31m-  "background_color": "#ffffff",[m
[31m-  "orientation": "portrait-primary",[m
[31m-  "categories": ["productivity", "business"],[m
[31m-  "scope": "/",[m
[31m-  "lang": "en-US"[m
[31m-}[m
[1mdiff --git a/zenai-frontend/public/vite.svg b/zenai-frontend/public/vite.svg[m
[1mdeleted file mode 100644[m
[1mindex e7b8dfb..0000000[m
[1m--- a/zenai-frontend/public/vite.svg[m
[1m+++ /dev/null[m
[36m@@ -1 +0,0 @@[m
[31m-<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/App.css b/zenai-frontend/src/App.css[m
[1mdeleted file mode 100644[m
[1mindex b9d355d..0000000[m
[1m--- a/zenai-frontend/src/App.css[m
[1m+++ /dev/null[m
[36m@@ -1,42 +0,0 @@[m
[31m-#root {[m
[31m-  max-width: 1280px;[m
[31m-  margin: 0 auto;[m
[31m-  padding: 2rem;[m
[31m-  text-align: center;[m
[31m-}[m
[31m-[m
[31m-.logo {[m
[31m-  height: 6em;[m
[31m-  padding: 1.5em;[m
[31m-  will-change: filter;[m
[31m-  transition: filter 300ms;[m
[31m-}[m
[31m-.logo:hover {[m
[31m-  filter: drop-shadow(0 0 2em #646cffaa);[m
[31m-}[m
[31m-.logo.react:hover {[m
[31m-  filter: drop-shadow(0 0 2em #61dafbaa);[m
[31m-}[m
[31m-[m
[31m-@keyframes logo-spin {[m
[31m-  from {[m
[31m-    transform: rotate(0deg);[m
[31m-  }[m
[31m-  to {[m
[31m-    transform: rotate(360deg);[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-@media (prefers-reduced-motion: no-preference) {[m
[31m-  a:nth-of-type(2) .logo {[m
[31m-    animation: logo-spin infinite 20s linear;[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-.card {[m
[31m-  padding: 2em;[m
[31m-}[m
[31m-[m
[31m-.read-the-docs {[m
[31m-  color: #888;[m
[31m-}[m
[1mdiff --git a/zenai-frontend/src/App.jsx b/zenai-frontend/src/App.jsx[m
[1mdeleted file mode 100644[m
[1mindex 2a17d08..0000000[m
[1m--- a/zenai-frontend/src/App.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,80 +0,0 @@[m
[31m-// src/App.jsx[m
[31m-import React from 'react';[m
[31m-import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';[m
[31m-import { QueryClient, QueryClientProvider } from 'react-query';[m
[31m-import { Toaster } from 'react-hot-toast';[m
[31m-import Navbar from './components/layout/Navbar';[m
[31m-import LoginForm from './components/auth/LoginForm';[m
[31m-import RegisterForm from './components/auth/RegisterForm';[m
[31m-import ProtectedRoute from './components/auth/ProtectedRoute';[m
[31m-import Dashboard from './components/dashboard/Dashboard';[m
[31m-import AIChat from './components/ai/AIChat';[m
[31m-[m
[31m-const queryClient = new QueryClient({[m
[31m-  defaultOptions: {[m
[31m-    queries: {[m
[31m-      refetchOnWindowFocus: false,[m
[31m-      retry: 1,[m
[31m-      staleTime: 5 * 60 * 1000,[m
[31m-    },[m
[31m-  },[m
[31m-});[m
[31m-[m
[31m-function App() {[m
[31m-  return ([m
[31m-    <QueryClientProvider client={queryClient}>[m
[31m-      <BrowserRouter>[m
[31m-        <div className="min-h-screen bg-gray-50">[m
[31m-          <Routes>[m
[31m-            {/* Public Routes */}[m
[31m-            <Route path="/login" element={<LoginForm />} />[m
[31m-            <Route path="/register" element={<RegisterForm />} />[m
[31m-[m
[31m-            {/* Protected Routes */}[m
[31m-            <Route[m
[31m-              path="/*"[m
[31m-              element={[m
[31m-                <ProtectedRoute>[m
[31m-                  <Navbar />[m
[31m-                  <Routes>[m
[31m-                    <Route path="/dashboard" element={<Dashboard />} />[m
[31m-                    <Route path="/ai" element={<AIChat />} />[m
[31m-                    <Route path="/" element={<Navigate to="/dashboard" replace />} />[m
[31m-                  </Routes>[m
[31m-                </ProtectedRoute>[m
[31m-              }[m
[31m-            />[m
[31m-          </Routes>[m
[31m-[m
[31m-          {/* Toast Notifications */}[m
[31m-          <Toaster[m
[31m-            position="top-right"[m
[31m-            toastOptions={{[m
[31m-              duration: 4000,[m
[31m-              style: {[m
[31m-                background: '#363636',[m
[31m-                color: '#fff',[m
[31m-              },[m
[31m-              success: {[m
[31m-                duration: 3000,[m
[31m-                iconTheme: {[m
[31m-                  primary: '#10b981',[m
[31m-                  secondary: '#fff',[m
[31m-                },[m
[31m-              },[m
[31m-              error: {[m
[31m-                duration: 4000,[m
[31m-                iconTheme: {[m
[31m-                  primary: '#ef4444',[m
[31m-                  secondary: '#fff',[m
[31m-                },[m
[31m-              },[m
[31m-            }}[m
[31m-          />[m
[31m-        </div>[m
[31m-      </BrowserRouter>[m
[31m-    </QueryClientProvider>[m
[31m-  );[m
[31m-}[m
[31m-[m
[31m-export default App;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/assets/react.svg b/zenai-frontend/src/assets/react.svg[m
[1mdeleted file mode 100644[m
[1mindex 6c87de9..0000000[m
[1m--- a/zenai-frontend/src/assets/react.svg[m
[1m+++ /dev/null[m
[36m@@ -1 +0,0 @@[m
[31m-<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/ai/AIChat.jsx b/zenai-frontend/src/components/ai/AIChat.jsx[m
[1mdeleted file mode 100644[m
[1mindex aab8ee8..0000000[m
[1m--- a/zenai-frontend/src/components/ai/AIChat.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,155 +0,0 @@[m
[31m-// src/components/ai/AIChat.jsx[m
[31m-import React, { useState, useRef, useEffect } from 'react';[m
[31m-import { useAIChat, useChatHistory } from '../../hooks/useAI';[m
[31m-import { Send, Bot, User, Loader } from 'lucide-react';[m
[31m-import Button from '../common/Button';[m
[31m-import Card from '../common/Card';[m
[31m-import ChatMessage from './ChatMessage';[m
[31m-import { motion, AnimatePresence } from 'framer-motion';[m
[31m-[m
[31m-const AIChat = ({ projectId, taskId }) => {[m
[31m-  const [message, setMessage] = useState('');[m
[31m-  const [messages, setMessages] = useState([]);[m
[31m-  const messagesEndRef = useRef(null);[m
[31m-  const chatMutation = useAIChat();[m
[31m-[m
[31m-  const { data: historyData } = useChatHistory({ limit: 50 });[m
[31m-[m
[31m-  useEffect(() => {[m
[31m-    if (historyData?.data?.messages) {[m
[31m-      setMessages(historyData.data.messages);[m
[31m-    }[m
[31m-  }, [historyData]);[m
[31m-[m
[31m-  const scrollToBottom = () => {[m
[31m-    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });[m
[31m-  };[m
[31m-[m
[31m-  useEffect(() => {[m
[31m-    scrollToBottom();[m
[31m-  }, [messages]);[m
[31m-[m
[31m-  const handleSend = async () => {[m
[31m-    if (!message.trim()) return;[m
[31m-[m
[31m-    const userMessage = {[m
[31m-      role: 'user',[m
[31m-      content: message,[m
[31m-      createdAt: new Date()[m
[31m-    };[m
[31m-[m
[31m-    setMessages(prev => [...prev, userMessage]);[m
[31m-    setMessage('');[m
[31m-[m
[31m-    try {[m
[31m-      const response = await chatMutation.mutateAsync({[m
[31m-        message,[m
[31m-        context: {[m
[31m-          type: projectId ? 'project-management' : undefined,[m
[31m-          projectId,[m
[31m-          taskId[m
[31m-        }[m
[31m-      });[m
[31m-[m
[31m-      const aiMessage = {[m
[31m-        role: 'ai',[m
[31m-        content: response.data.response,[m
[31m-        createdAt: new Date(),[m
[31m-        metadata: response.data.metadata[m
[31m-      };[m
[31m-[m
[31m-      setMessages(prev => [...prev, aiMessage]);[m
[31m-    } catch (error) {[m
[31m-      console.error('Chat error:', error);[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  const handleKeyPress = (e) => {[m
[31m-    if (e.key === 'Enter' && !e.shiftKey) {[m
[31m-      e.preventDefault();[m
[31m-      handleSend();[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  return ([m
[31m-    <div className="flex flex-col h-[calc(100vh-200px)]">[m
[31m-      <Card className="flex-1 flex flex-col">[m
[31m-        {/* Header */}[m
[31m-        <div className="border-b pb-4 mb-4">[m
[31m-          <div className="flex items-center gap-3">[m
[31m-            <div className="p-2 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-lg">[m
[31m-              <Bot className="text-white" size={24} />[m
[31m-            </div>[m
[31m-            <div>[m
[31m-              <h2 className="text-xl font-bold text-gray-900">AI Assistant</h2>[m
[31m-              <p className="text-sm text-gray-500">[m
[31m-                Ask me anything about your projects and tasks[m
[31m-              </p>[m
[31m-            </div>[m
[31m-          </div>[m
[31m-        </div>[m
[31m-[m
[31m-        {/* Messages */}[m
[31m-        <div className="flex-1 overflow-y-auto space-y-4 mb-4 pr-4">[m
[31m-          <AnimatePresence>[m
[31m-            {messages.length === 0 ? ([m
[31m-              <motion.div[m
[31m-                initial={{ opacity: 0 }}[m
[31m-                animate={{ opacity: 1 }}[m
[31m-                className="text-center py-12"[m
[31m-              >[m
[31m-                <Bot className="mx-auto text-gray-300 mb-4" size={64} />[m
[31m-                <p className="text-gray-500 text-lg mb-2">[m
[31m-                  Hi! I'm your AI assistant[m
[31m-                </p>[m
[31m-                <p className="text-gray-400 text-sm">[m
[31m-                  Ask me to create tasks, analyze projects, or help with planning[m
[31m-                </p>[m
[31m-              </motion.div>[m
[31m-            ) : ([m
[31m-              messages.map((msg, idx) => ([m
[31m-                <ChatMessage key={idx} message={msg} />[m
[31m-              ))[m
[31m-            )}[m
[31m-          </AnimatePresence>[m
[31m-[m
[31m-          {chatMutation.isLoading && ([m
[31m-            <motion.div[m
[31m-              initial={{ opacity: 0, y: 10 }}[m
[31m-              animate={{ opacity: 1, y: 0 }}[m
[31m-              className="flex items-center gap-3 p-4 bg-gray-50 rounded-lg"[m
[31m-            >[m
[31m-              <Loader className="animate-spin text-primary-600" size={20} />[m
[31m-              <span className="text-gray-600">AI is thinking...</span>[m
[31m-            </motion.div>[m
[31m-          )}[m
[31m-[m
[31m-          <div ref={messagesEndRef} />[m
[31m-        </div>[m
[31m-[m
[31m-        {/* Input */}[m
[31m-        <div className="border-t pt-4">[m
[31m-          <div className="flex gap-3">[m
[31m-            <textarea[m
[31m-              value={message}[m
[31m-              onChange={(e) => setMessage(e.target.value)}[m
[31m-              onKeyPress={handleKeyPress}[m
[31m-              placeholder="Type your message... (Shift+Enter for new line)"[m
[31m-              rows={3}[m
[31m-              className="flex-1 px-4 py-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"[m
[31m-            />[m
[31m-            <Button[m
[31m-              onClick={handleSend}[m
[31m-              disabled={!message.trim() || chatMutation.isLoading}[m
[31m-              className="self-end"[m
[31m-            >[m
[31m-              <Send size={20} />[m
[31m-            </Button>[m
[31m-          </div>[m
[31m-        </div>[m
[31m-      </Card>[m
[31m-    </div>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default AIChat;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/ai/ChatMessage.jsx b/zenai-frontend/src/components/ai/ChatMessage.jsx[m
[1mdeleted file mode 100644[m
[1mindex d026c28..0000000[m
[1m--- a/zenai-frontend/src/components/ai/ChatMessage.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,59 +0,0 @@[m
[31m-// src/components/ai/ChatMessage.jsx[m
[31m-import React from 'react';[m
[31m-import { Bot, User } from 'lucide-react';[m
[31m-import { motion } from 'framer-motion';[m
[31m-import ReactMarkdown from 'react-markdown';[m
[31m-import { format } from 'date-fns';[m
[31m-[m
[31m-const ChatMessage = ({ message }) => {[m
[31m-  const isUser = message.role === 'user';[m
[31m-[m
[31m-  return ([m
[31m-    <motion.div[m
[31m-      initial={{ opacity: 0, y: 20 }}[m
[31m-      animate={{ opacity: 1, y: 0 }}[m
[31m-      transition={{ duration: 0.3 }}[m
[31m-      className={`flex gap-3 ${isUser ? 'flex-row-reverse' : 'flex-row'}`}[m
[31m-    >[m
[31m-      {/* Avatar */}[m
[31m-      <div className={`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${[m
[31m-        isUser [m
[31m-          ? 'bg-gradient-to-br from-blue-500 to-purple-500' [m
[31m-          : 'bg-gradient-to-br from-primary-500 to-secondary-500'[m
[31m-      }`}>[m
[31m-        {isUser ? ([m
[31m-          <User className="text-white" size={20} />[m
[31m-        ) : ([m
[31m-          <Bot className="text-white" size={20} />[m
[31m-        )}[m
[31m-      </div>[m
[31m-[m
[31m-      {/* Message Content */}[m
[31m-      <div className={`flex-1 max-w-[80%] ${isUser ? 'items-end' : 'items-start'}`}>[m
[31m-        <div className={`rounded-2xl px-4 py-3 ${[m
[31m-          isUser [m
[31m-            ? 'bg-gradient-to-br from-blue-500 to-purple-500 text-white' [m
[31m-            : 'bg-gray-100 text-gray-900'[m
[31m-        }`}>[m
[31m-          {isUser ? ([m
[31m-            <p className="whitespace-pre-wrap">{message.content}</p>[m
[31m-          ) : ([m
[31m-            <div className="prose prose-sm max-w-none">[m
[31m-              <ReactMarkdown>{message.content}</ReactMarkdown>[m
[31m-            </div>[m
[31m-          )}[m
[31m-        </div>[m
[31m-[m
[31m-        {/* Timestamp */}[m
[31m-        <p className="text-xs text-gray-500 mt-1 px-2">[m
[31m-          {format(new Date(message.createdAt), 'HH:mm')}[m
[31m-          {message.metadata?.responseTime && ([m
[31m-            <span className="ml-2">‚Ä¢ {message.metadata.responseTime}ms</span>[m
[31m-          )}[m
[31m-        </p>[m
[31m-      </div>[m
[31m-    </motion.div>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default ChatMessage;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/ai/MeetingTranscriber.jsx b/zenai-frontend/src/components/ai/MeetingTranscriber.jsx[m
[1mdeleted file mode 100644[m
[1mindex 90ee570..0000000[m
[1m--- a/zenai-frontend/src/components/ai/MeetingTranscriber.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,302 +0,0 @@[m
[31m-// src/components/ai/MeetingTranscriber.jsx[m
[31m-import React, { useState, useRef } from 'react';[m
[31m-import { useAudioTranscription } from '../../hooks/useAI';[m
[31m-import { Mic, Upload, FileAudio, Download } from 'lucide-react';[m
[31m-import Button from '../common/Button';[m
[31m-import Card from '../common/Card';[m
[31m-import Modal from '../common/Modal';[m
[31m-import toast from 'react-hot-toast';[m
[31m-[m
[31m-const MeetingTranscriber = () => {[m
[31m-  const [isOpen, setIsOpen] = useState(false);[m
[31m-  const [audioFile, setAudioFile] = useState(null);[m
[31m-  const [metadata, setMetadata] = useState({[m
[31m-    title: '',[m
[31m-    participants: [][m
[31m-  });[m
[31m-  const [result, setResult] = useState(null);[m
[31m-  const fileInputRef = useRef(null);[m
[31m-  const transcribeMutation = useAudioTranscription();[m
[31m-[m
[31m-  const handleFileSelect = (e) => {[m
[31m-    const file = e.target.files[0];[m
[31m-    if (file) {[m
[31m-      // Validate file type[m
[31m-      const validTypes = ['audio/mpeg', 'audio/wav', 'audio/mp4', 'audio/m4a'];[m
[31m-      if (!validTypes.includes(file.type)) {[m
[31m-        toast.error('Invalid file type. Please upload an audio file.');[m
[31m-        return;[m
[31m-      }[m
[31m-[m
[31m-      // Validate file size (max 50MB)[m
[31m-      if (file.size > 50 * 1024 * 1024) {[m
[31m-        toast.error('File size too large. Maximum size is 50MB.');[m
[31m-        return;[m
[31m-      }[m
[31m-[m
[31m-      setAudioFile(file);[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  const handleTranscribe = async () => {[m
[31m-    if (!audioFile) {[m
[31m-      toast.error('Please select an audio file');[m
[31m-      return;[m
[31m-    }[m
[31m-[m
[31m-    try {[m
[31m-      const response = await transcribeMutation.mutateAsync({[m
[31m-        file: audioFile,[m
[31m-        metadata[m
[31m-      });[m
[31m-[m
[31m-      setResult(response.data);[m
[31m-      toast.success('Transcription completed!');[m
[31m-    } catch (error) {[m
[31m-      console.error('Transcription error:', error);[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  const downloadReport = () => {[m
[31m-    if (!result) return;[m
[31m-[m
[31m-    const report = `[m
[31m-# Meeting Summary[m
[31m-[m
[31m-**Date:** ${new Date(result.metadata.date).toLocaleString()}[m
[31m-**Duration:** ${Math.round(result.transcription.duration / 60)} minutes[m
[31m-**Participants:** ${result.metadata.participants.join(', ')}[m
[31m-[m
[31m-## Executive Summary[m
[31m-${result.summary.executiveSummary}[m
[31m-[m
[31m-## Key Points[m
[31m-${result.summary.keyPoints.map(point => `- ${point}`).join('\n')}[m
[31m-[m
[31m-## Decisions Made[m
[31m-${result.summary.decisions.map(decision => `- ${decision}`).join('\n')}[m
[31m-[m
[31m-## Action Items[m
[31m-${result.actionItems.map(item => `[m
[31m-- **${item.action}**[m
[31m-  - Owner: ${item.owner || 'Unassigned'}[m
[31m-  - Due: ${item.dueDate || 'Not set'}[m
[31m-  - Priority: ${item.priority}[m
[31m-`).join('\n')}[m
[31m-[m
[31m-## Next Steps[m
[31m-${result.summary.nextSteps.map(step => `- ${step}`).join('\n')}[m
[31m-[m
[31m-## Questions & Blockers[m
[31m-${result.summary.questions.concat(result.summary.blockers).map(q => `- ${q}`).join('\n')}[m
[31m-[m
[31m----[m
[31m-[m
[31m-## Full Transcript[m
[31m-${result.transcription.text}[m
[31m-    `;[m
[31m-[m
[31m-    const blob = new Blob([report], { type: 'text/markdown' });[m
[31m-    const url = URL.createObjectURL(blob);[m
[31m-    const a = document.createElement('a');[m
[31m-    a.href = url;[m
[31m-    a.download = `meeting-summary-${Date.now()}.md`;[m
[31m-    a.click();[m
[31m-    URL.revokeObjectURL(url);[m
[31m-  };[m
[31m-[m
[31m-  return ([m
[31m-    <>[m
[31m-      <Button[m
[31m-        onClick={() => setIsOpen(true)}[m
[31m-        variant="secondary"[m
[31m-      >[m
[31m-        <Mic size={20} />[m
[31m-        Transcribe Meeting[m
[31m-      </Button>[m
[31m-[m
[31m-      <Modal[m
[31m-        isOpen={isOpen}[m
[31m-        onClose={() => setIsOpen(false)}[m
[31m-        title="Transcribe Meeting"[m
[31m-        size="lg"[m
[31m-      >[m
[31m-        <div className="space-y-6">[m
[31m-          {!result ? ([m
[31m-            <>[m
[31m-              {/* File Upload */}[m
[31m-              <div>[m
[31m-                <label className="block text-sm font-medium text-gray-700 mb-2">[m
[31m-                  Upload Audio File[m
[31m-                </label>[m
[31m-                <div[m
[31m-                  onClick={() => fileInputRef.current?.click()}[m
[31m-                  className="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-500 transition cursor-pointer"[m
[31m-                >[m
[31m-                  <input[m
[31m-                    ref={fileInputRef}[m
[31m-                    type="file"[m
[31m-                    accept="audio/*"[m
[31m-                    onChange={handleFileSelect}[m
[31m-                    className="hidden"[m
[31m-                  />[m
[31m-                  {audioFile ? ([m
[31m-                    <div className="flex items-center justify-center gap-3">[m
[31m-                      <FileAudio className="text-primary-600" size={32} />[m
[31m-                      <div className="text-left">[m
[31m-                        <p className="font-medium text-gray-900">{audioFile.name}</p>[m
[31m-                        <p className="text-sm text-gray-500">[m
[31m-                          {(audioFile.size / 1024 / 1024).toFixed(2)} MB[m
[31m-                        </p>[m
[31m-                      </div>[m
[31m-                    </div>[m
[31m-                  ) : ([m
[31m-                    <>[m
[31m-                      <Upload className="mx-auto text-gray-400 mb-3" size={48} />[m
[31m-                      <p className="text-gray-600 mb-1">[m
[31m-                        Click to upload or drag and drop[m
[31m-                      </p>[m
[31m-                      <p className="text-sm text-gray-500">[m
[31m-                        MP3, WAV, M4A (max 50MB)[m
[31m-                      </p>[m
[31m-                    </>[m
[31m-                  )}[m
[31m-                </div>[m
[31m-              </div>[m
[31m-[m
[31m-              {/* Metadata */}[m
[31m-              <div className="space-y-4">[m
[31m-                <div>[m
[31m-                  <label className="block text-sm font-medium text-gray-700 mb-2">[m
[31m-                    Meeting Title[m
[31m-                  </label>[m
[31m-                  <input[m
[31m-                    type="text"[m
[31m-                    value={metadata.title}[m
[31m-                    onChange={(e) => setMetadata({ ...metadata, title: e.target.value })}[m
[31m-                    placeholder="Sprint Planning Meeting"[m
[31m-                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"[m
[31m-                  />[m
[31m-                </div>[m
[31m-[m
[31m-                <div>[m
[31m-                  <label className="block text-sm font-medium text-gray-700 mb-2">[m
[31m-                    Participants (comma separated)[m
[31m-                  </label>[m
[31m-                  <input[m
[31m-                    type="text"[m
[31m-                    onChange={(e) => setMetadata({ [m
[31m-                      ...metadata, [m
[31m-                      participants: e.target.value.split(',').map(p => p.trim()) [m
[31m-                    })}[m
[31m-                    placeholder="Alice, Bob, Charlie"[m
[31m-                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"[m
[31m-                  />[m
[31m-                </div>[m
[31m-              </div>[m
[31m-[m
[31m-              {/* Actions */}[m
[31m-              <div className="flex gap-3 justify-end">[m
[31m-                <Button[m
[31m-                  variant="ghost"[m
[31m-                  onClick={() => setIsOpen(false)}[m
[31m-                >[m
[31m-                  Cancel[m
[31m-                </Button>[m
[31m-                <Button[m
[31m-                  onClick={handleTranscribe}[m
[31m-                  loading={transcribeMutation.isLoading}[m
[31m-                  disabled={!audioFile}[m
[31m-                >[m
[31m-                  <Mic size={20} />[m
[31m-                  Transcribe[m
[31m-                </Button>[m
[31m-              </div>[m
[31m-            </>[m
[31m-          ) : ([m
[31m-            <>[m
[31m-              {/* Results */}[m
[31m-              <div className="space-y-6">[m
[31m-                {/* Summary */}[m
[31m-                <Card className="bg-gradient-to-br from-primary-50 to-secondary-50">[m
[31m-                  <h3 className="font-bold text-lg mb-3">Executive Summary</h3>[m
[31m-                  <p className="text-gray-700">{result.summary.executiveSummary}</p>[m
[31m-                </Card>[m
[31m-[m
[31m-                {/* Key Points */}[m
[31m-                <div>[m
[31m-                  <h3 className="font-bold text-lg mb-3">Key Discussion Points</h3>[m
[31m-                  <ul className="space-y-2">[m
[31m-                    {result.summary.keyPoints.map((point, idx) => ([m
[31m-                      <li key={idx} className="flex items-start gap-2">[m
[31m-                        <span className="w-1.5 h-1.5 bg-primary-600 rounded-full mt-2" />[m
[31m-                        <span className="text-gray-700">{point}</span>[m
[31m-                      </li>[m
[31m-                    ))}[m
[31m-                  </ul>[m
[31m-                </div>[m
[31m-[m
[31m-                {/* Action Items */}[m
[31m-                <div>[m
[31m-                  <h3 className="font-bold text-lg mb-3">Action Items</h3>[m
[31m-                  <div className="space-y-3">[m
[31m-                    {result.actionItems.map((item, idx) => ([m
[31m-                      <Card key={idx} className="bg-yellow-50">[m
[31m-                        <div className="flex items-start justify-between">[m
[31m-                          <div>[m
[31m-                            <p className="font-medium text-gray-900">{item.action}</p>[m
[31m-                            <div className="flex items-center gap-4 mt-2 text-sm text-gray-600">[m
[31m-                              {item.owner && <span>üë§ {item.owner}</span>}[m
[31m-                              {item.dueDate && <span>üìÖ {item.dueDate}</span>}[m
[31m-                              <span className={`px-2 py-1 rounded text-xs font-semibold ${[m
[31m-                                item.priority === 'high' ? 'bg-red-100 text-red-800' :[m
[31m-                                item.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :[m
[31m-                                'bg-green-100 text-green-800'[m
[31m-                              }`}>[m
[31m-                                {item.priority}[m
[31m-                              </span>[m
[31m-                            </div>[m
[31m-                          </div>[m
[31m-                        </div>[m
[31m-                      </Card>[m
[31m-                    ))}[m
[31m-                  </div>[m
[31m-                </div>[m
[31m-[m
[31m-                {/* Transcript */}[m
[31m-                <div>[m
[31m-                  <h3 className="font-bold text-lg mb-3">Full Transcript</h3>[m
[31m-                  <div className="bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto">[m
[31m-                    <p className="text-gray-700 whitespace-pre-wrap text-sm">[m
[31m-                      {result.transcription.text}[m
[31m-                    </p>[m
[31m-                  </div>[m
[31m-                </div>[m
[31m-              </div>[m
[31m-[m
[31m-              {/* Actions */}[m
[31m-              <div className="flex gap-3 justify-end">[m
[31m-                <Button[m
[31m-                  variant="ghost"[m
[31m-                  onClick={() => {[m
[31m-                    setResult(null);[m
[31m-                    setAudioFile(null);[m
[31m-                    setIsOpen(false);[m
[31m-                  }}[m
[31m-                >[m
[31m-                  Close[m
[31m-                </Button>[m
[31m-                <Button onClick={downloadReport}>[m
[31m-                  <Download size={20} />[m
[31m-                  Download Report[m
[31m-                </Button>[m
[31m-              </div>[m
[31m-            </>[m
[31m-          )}[m
[31m-        </div>[m
[31m-      </Modal>[m
[31m-    </>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default MeetingTranscriber;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/ai/TaskGenerator.jsx b/zenai-frontend/src/components/ai/TaskGenerator.jsx[m
[1mdeleted file mode 100644[m
[1mindex 5755d5b..0000000[m
[1m--- a/zenai-frontend/src/components/ai/TaskGenerator.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,117 +0,0 @@[m
[31m-// src/components/ai/TaskGenerator.jsx[m
[31m-import React, { useState } from 'react';[m
[31m-import { useAITaskCreation } from '../../hooks/useAI';[m
[31m-import { Sparkles, Wand2 } from 'lucide-react';[m
[31m-import Button from '../common/Button';[m
[31m-import Input from '../common/Input';[m
[31m-import Card from '../common/Card';[m
[31m-import Modal from '../common/Modal';[m
[31m-[m
[31m-const TaskGenerator = ({ projectId, onTaskCreated }) => {[m
[31m-  const [isOpen, setIsOpen] = useState(false);[m
[31m-  const [description, setDescription] = useState('');[m
[31m-  const createTaskMutation = useAITaskCreation();[m
[31m-[m
[31m-  const handleGenerate = async () => {[m
[31m-    if (!description.trim()) return;[m
[31m-[m
[31m-    try {[m
[31m-      const response = await createTaskMutation.mutateAsync({[m
[31m-        description,[m
[31m-        projectId[m
[31m-      });[m
[31m-[m
[31m-      if (onTaskCreated) {[m
[31m-        onTaskCreated(response.data);[m
[31m-      }[m
[31m-[m
[31m-      setIsOpen(false);[m
[31m-      setDescription('');[m
[31m-    } catch (error) {[m
[31m-      console.error('Task generation error:', error);[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  const examples = [[m
[31m-    'Build user authentication with OAuth',[m
[31m-    'Create dashboard with analytics charts',[m
[31m-    'Implement real-time notifications'[m
[31m-  ];[m
[31m-[m
[31m-  return ([m
[31m-    <>[m
[31m-      <Button[m
[31m-        onClick={() => setIsOpen(true)}[m
[31m-        variant="secondary"[m
[31m-        className="gap-2"[m
[31m-      >[m
[31m-        <Sparkles size={20} />[m
[31m-        Generate with AI[m
[31m-      </Button>[m
[31m-[m
[31m-      <Modal[m
[31m-        isOpen={isOpen}[m
[31m-        onClose={() => setIsOpen(false)}[m
[31m-        title="Generate Task with AI"[m
[31m-        size="lg"[m
[31m-      >[m
[31m-        <div className="space-y-6">[m
[31m-          {/* Description */}[m
[31m-          <div>[m
[31m-            <label className="block text-sm font-medium text-gray-700 mb-2">[m
[31m-              Describe what you want to build[m
[31m-            </label>[m
[31m-            <textarea[m
[31m-              value={description}[m
[31m-              onChange={(e) => setDescription(e.target.value)}[m
[31m-              placeholder="E.g., Build a login page with email and password validation, Google OAuth, and password reset functionality"[m
[31m-              rows={5}[m
[31m-              className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"[m
[31m-            />[m
[31m-            <p className="text-sm text-gray-500 mt-2">[m
[31m-              Be as detailed as possible. The AI will create a structured task with acceptance criteria.[m
[31m-            </p>[m
[31m-          </div>[m
[31m-[m
[31m-          {/* Examples */}[m
[31m-          <div>[m
[31m-            <p className="text-sm font-medium text-gray-700 mb-3">[m
[31m-              Try these examples:[m
[31m-            </p>[m
[31m-            <div className="space-y-2">[m
[31m-              {examples.map((example, idx) => ([m
[31m-                <button[m
[31m-                  key={idx}[m
[31m-                  onClick={() => setDescription(example)}[m
[31m-                  className="w-full text-left px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition text-sm text-gray-700"[m
[31m-                >[m
[31m-                  {example}[m
[31m-                </button>[m
[31m-              ))}[m
[31m-            </div>[m
[31m-          </div>[m
[31m-[m
[31m-          {/* Actions */}[m
[31m-          <div className="flex gap-3 justify-end">[m
[31m-            <Button[m
[31m-              variant="ghost"[m
[31m-              onClick={() => setIsOpen(false)}[m
[31m-            >[m
[31m-              Cancel[m
[31m-            </Button>[m
[31m-            <Button[m
[31m-              onClick={handleGenerate}[m
[31m-              loading={createTaskMutation.isLoading}[m
[31m-              disabled={!description.trim()}[m
[31m-            >[m
[31m-              <Wand2 size={20} />[m
[31m-              Generate Task[m
[31m-            </Button>[m
[31m-          </div>[m
[31m-        </div>[m
[31m-      </Modal>[m
[31m-    </>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default TaskGenerator;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/auth/LoginForm.jsx b/zenai-frontend/src/components/auth/LoginForm.jsx[m
[1mdeleted file mode 100644[m
[1mindex bc13848..0000000[m
[1m--- a/zenai-frontend/src/components/auth/LoginForm.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,159 +0,0 @@[m
[31m-// src/components/auth/LoginForm.jsx[m
[31m-import React, { useState } from 'react';[m
[31m-import { Link, useNavigate } from 'react-router-dom';[m
[31m-import { useAuthStore } from '../../hooks/useAuth';[m
[31m-import { Mail, Lock, Eye, EyeOff } from 'lucide-react';[m
[31m-import Button from '../common/Button';[m
[31m-import Input from '../common/Input';[m
[31m-[m
[31m-const LoginForm = () => {[m
[31m-  const navigate = useNavigate();[m
[31m-  const { login, loading } = useAuthStore();[m
[31m-  const [showPassword, setShowPassword] = useState(false);[m
[31m-  const [formData, setFormData] = useState({[m
[31m-    email: '',[m
[31m-    password: ''[m
[31m-  });[m
[31m-  const [errors, setErrors] = useState({});[m
[31m-[m
[31m-  const handleChange = (e) => {[m
[31m-    setFormData({ ...formData, [e.target.name]: e.target.value });[m
[31m-    setErrors({ ...errors, [e.target.name]: '' });[m
[31m-  };[m
[31m-[m
[31m-  const validate = () => {[m
[31m-    const newErrors = {};[m
[31m-    [m
[31m-    if (!formData.email) {[m
[31m-      newErrors.email = 'Email is required';[m
[31m-    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {[m
[31m-      newErrors.email = 'Email is invalid';[m
[31m-    }[m
[31m-[m
[31m-    if (!formData.password) {[m
[31m-      newErrors.password = 'Password is required';[m
[31m-    } else if (formData.password.length < 6) {[m
[31m-      newErrors.password = 'Password must be at least 6 characters';[m
[31m-    }[m
[31m-[m
[31m-    setErrors(newErrors);[m
[31m-    return Object.keys(newErrors).length === 0;[m
[31m-  };[m
[31m-[m
[31m-  const handleSubmit = async (e) => {[m
[31m-    e.preventDefault();[m
[31m-    [m
[31m-    if (!validate()) return;[m
[31m-[m
[31m-    try {[m
[31m-      await login(formData);[m
[31m-      navigate('/dashboard');[m
[31m-    } catch (error) {[m
[31m-      console.error('Login error:', error);[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  return ([m
[31m-    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 px-4">[m
[31m-      <div className="max-w-md w-full">[m
[31m-        <div className="bg-white rounded-2xl shadow-2xl p-8">[m
[31m-          {/* Header */}[m
[31m-          <div className="text-center mb-8">[m
[31m-            <div className="inline-block p-3 bg-gradient-to-br from-primary-600 to-secondary-600 rounded-xl mb-4">[m
[31m-              <div className="w-12 h-12 flex items-center justify-center">[m
[31m-                <span className="text-white font-bold text-3xl">Z</span>[m
[31m-              </div>[m
[31m-            </div>[m
[31m-            <h2 className="text-3xl font-bold text-gray-900 mb-2">[m
[31m-              Welcome Back[m
[31m-            </h2>[m
[31m-            <p className="text-gray-600">[m
[31m-              Sign in to continue to ZenAI[m
[31m-            </p>[m
[31m-          </div>[m
[31m-[m
[31m-          {/* Form */}[m
[31m-          <form onSubmit={handleSubmit} className="space-y-6">[m
[31m-            <Input[m
[31m-              label="Email Address"[m
[31m-              type="email"[m
[31m-              name="email"[m
[31m-              placeholder="you@example.com"[m
[31m-              value={formData.email}[m
[31m-              onChange={handleChange}[m
[31m-              error={errors.email}[m
[31m-              icon={Mail}[m
[31m-            />[m
[31m-[m
[31m-            <div>[m
[31m-              <Input[m
[31m-                label="Password"[m
[31m-                type={showPassword ? 'text' : 'password'}[m
[31m-                name="password"[m
[31m-                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"[m
[31m-                value={formData.password}[m
[31m-                onChange={handleChange}[m
[31m-                error={errors.password}[m
[31m-                icon={Lock}[m
[31m-              />[m
[31m-              <button[m
[31m-                type="button"[m
[31m-                onClick={() => setShowPassword(!showPassword)}[m
[31m-                className="absolute right-3 top-9 text-gray-400 hover:text-gray-600"[m
[31m-              >[m
[31m-                {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}[m
[31m-              </button>[m
[31m-            </div>[m
[31m-[m
[31m-            <div className="flex items-center justify-between">[m
[31m-              <label className="flex items-center">[m
[31m-                <input type="checkbox" className="rounded text-primary-600" />[m
[31m-                <span className="ml-2 text-sm text-gray-600">Remember me</span>[m
[31m-              </label>[m
[31m-              <Link [m
[31m-                to="/forgot-password" [m
[31m-                className="text-sm text-primary-600 hover:text-primary-700"[m
[31m-              >[m
[31m-                Forgot password?[m
[31m-              </Link>[m
[31m-            </div>[m
[31m-[m
[31m-            <Button[m
[31m-              type="submit"[m
[31m-              loading={loading}[m
[31m-              className="w-full"[m
[31m-            >[m
[31m-              Sign In[m
[31m-            </Button>[m
[31m-          </form>[m
[31m-[m
[31m-          {/* Divider */}[m
[31m-          <div className="mt-6 mb-6">[m
[31m-            <div className="relative">[m
[31m-              <div className="absolute inset-0 flex items-center">[m
[31m-                <div className="w-full border-t border-gray-300"></div>[m
[31m-              </div>[m
[31m-              <div className="relative flex justify-center text-sm">[m
[31m-                <span className="px-2 bg-white text-gray-500">[m
[31m-                  Don't have an account?[m
[31m-                </span>[m
[31m-              </div>[m
[31m-            </div>[m
[31m-          </div>[m
[31m-[m
[31m-          {/* Sign Up Link */}[m
[31m-          <div className="text-center">[m
[31m-            <Link [m
[31m-              to="/register" [m
[31m-              className="text-primary-600 hover:text-primary-700 font-medium"[m
[31m-            >[m
[31m-              Create an account[m
[31m-            </Link>[m
[31m-          </div>[m
[31m-        </div>[m
[31m-      </div>[m
[31m-    </div>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default LoginForm;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/auth/RegisterForm.jsx b/zenai-frontend/src/components/auth/RegisterForm.jsx[m
[1mdeleted file mode 100644[m
[1mindex c828ac1..0000000[m
[1m--- a/zenai-frontend/src/components/auth/RegisterForm.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,184 +0,0 @@[m
[31m-// src/components/auth/RegisterForm.jsx[m
[31m-import React, { useState } from 'react';[m
[31m-import { Link, useNavigate } from 'react-router-dom';[m
[31m-import { useAuthStore } from '../../hooks/useAuth';[m
[31m-import { Mail, Lock, User, Eye, EyeOff } from 'lucide-react';[m
[31m-import Button from '../common/Button';[m
[31m-import Input from '../common/Input';[m
[31m-[m
[31m-const RegisterForm = () => {[m
[31m-  const navigate = useNavigate();[m
[31m-  const { register, loading } = useAuthStore();[m
[31m-  const [showPassword, setShowPassword] = useState(false);[m
[31m-  const [formData, setFormData] = useState({[m
[31m-    name: '',[m
[31m-    email: '',[m
[31m-    password: '',[m
[31m-    confirmPassword: ''[m
[31m-  });[m
[31m-  const [errors, setErrors] = useState({});[m
[31m-[m
[31m-  const handleChange = (e) => {[m
[31m-    setFormData({ ...formData, [e.target.name]: e.target.value });[m
[31m-    setErrors({ ...errors, [e.target.name]: '' });[m
[31m-  };[m
[31m-[m
[31m-  const validate = () => {[m
[31m-    const newErrors = {};[m
[31m-[m
[31m-    if (!formData.name) {[m
[31m-      newErrors.name = 'Name is required';[m
[31m-    }[m
[31m-[m
[31m-    if (!formData.email) {[m
[31m-      newErrors.email = 'Email is required';[m
[31m-    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {[m
[31m-      newErrors.email = 'Email is invalid';[m
[31m-    }[m
[31m-[m
[31m-    if (!formData.password) {[m
[31m-      newErrors.password = 'Password is required';[m
[31m-    } else if (formData.password.length < 6) {[m
[31m-      newErrors.password = 'Password must be at least 6 characters';[m
[31m-    }[m
[31m-[m
[31m-    if (formData.password !== formData.confirmPassword) {[m
[31m-      newErrors.confirmPassword = 'Passwords do not match';[m
[31m-    }[m
[31m-[m
[31m-    setErrors(newErrors);[m
[31m-    return Object.keys(newErrors).length === 0;[m
[31m-  };[m
[31m-[m
[31m-  const handleSubmit = async (e) => {[m
[31m-    e.preventDefault();[m
[31m-    [m
[31m-    if (!validate()) return;[m
[31m-[m
[31m-    try {[m
[31m-      const { confirmPassword, ...registerData } = formData;[m
[31m-      await register(registerData);[m
[31m-      navigate('/dashboard');[m
[31m-    } catch (error) {[m
[31m-      console.error('Registration error:', error);[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  return ([m
[31m-    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 px-4 py-12">[m
[31m-      <div className="max-w-md w-full">[m
[31m-        <div className="bg-white rounded-2xl shadow-2xl p-8">[m
[31m-          {/* Header */}[m
[31m-          <div className="text-center mb-8">[m
[31m-            <div className="inline-block p-3 bg-gradient-to-br from-primary-600 to-secondary-600 rounded-xl mb-4">[m
[31m-              <div className="w-12 h-12 flex items-center justify-center">[m
[31m-                <span className="text-white font-bold text-3xl">Z</span>[m
[31m-              </div>[m
[31m-            </div>[m
[31m-            <h2 className="text-3xl font-bold text-gray-900 mb-2">[m
[31m-              Create Account[m
[31m-            </h2>[m
[31m-            <p className="text-gray-600">[m
[31m-              Join ZenAI and boost your productivity[m
[31m-            </p>[m
[31m-          </div>[m
[31m-[m
[31m-          {/* Form */}[m
[31m-          <form onSubmit={handleSubmit} className="space-y-5">[m
[31m-            <Input[m
[31m-              label="Full Name"[m
[31m-              type="text"[m
[31m-              name="name"[m
[31m-              placeholder="John Doe"[m
[31m-              value={formData.name}[m
[31m-              onChange={handleChange}[m
[31m-              error={errors.name}[m
[31m-              icon={User}[m
[31m-            />[m
[31m-[m
[31m-            <Input[m
[31m-              label="Email Address"[m
[31m-              type="email"[m
[31m-              name="email"[m
[31m-              placeholder="you@example.com"[m
[31m-              value={formData.email}[m
[31m-              onChange={handleChange}[m
[31m-              error={errors.email}[m
[31m-              icon={Mail}[m
[31m-            />[m
[31m-[m
[31m-            <div className="relative">[m
[31m-              <Input[m
[31m-                label="Password"[m
[31m-                type={showPassword ? 'text' : 'password'}[m
[31m-                name="password"[m
[31m-                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"[m
[31m-                value={formData.password}[m
[31m-                onChange={handleChange}[m
[31m-                error={errors.password}[m
[31m-                icon={Lock}[m
[31m-              />[m
[31m-              <button[m
[31m-                type="button"[m
[31m-                onClick={() => setShowPassword(!showPassword)}[m
[31m-                className="absolute right-3 top-9 text-gray-400 hover:text-gray-600"[m
[31m-              >[m
[31m-                {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}[m
[31m-              </button>[m
[31m-            </div>[m
[31m-[m
[31m-            <Input[m
[31m-              label="Confirm Password"[m
[31m-              type={showPassword ? 'text' : 'password'}[m
[31m-              name="confirmPassword"[m
[31m-              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"[m
[31m-              value={formData.confirmPassword}[m
[31m-              onChange={handleChange}[m
[31m-              error={errors.confirmPassword}[m
[31m-              icon={Lock}[m
[31m-            />[m
[31m-[m
[31m-            <div className="flex items-start">[m
[31m-              <input [m
[31m-                type="checkbox" [m
[31m-                required[m
[31m-                className="mt-1 rounded text-primary-600" [m
[31m-              />[m
[31m-              <label className="ml-2 text-sm text-gray-600">[m
[31m-                I agree to the{' '}[m
[31m-                <Link to="/terms" className="text-primary-600 hover:underline">[m
[31m-                  Terms of Service[m
[31m-                </Link>[m
[31m-                {' '}and{' '}[m
[31m-                <Link to="/privacy" className="text-primary-600 hover:underline">[m
[31m-                  Privacy Policy[m
[31m-                </Link>[m
[31m-              </label>[m
[31m-            </div>[m
[31m-[m
[31m-            <Button[m
[31m-              type="submit"[m
[31m-              loading={loading}[m
[31m-              className="w-full"[m
[31m-            >[m
[31m-              Create Account[m
[31m-            </Button>[m
[31m-          </form>[m
[31m-[m
[31m-          {/* Sign In Link */}[m
[31m-          <div className="mt-6 text-center">[m
[31m-            <span className="text-gray-600">Already have an account? </span>[m
[31m-            <Link [m
[31m-              to="/login" [m
[31m-              className="text-primary-600 hover:text-primary-700 font-medium"[m
[31m-            >[m
[31m-              Sign in[m
[31m-            </Link>[m
[31m-          </div>[m
[31m-        </div>[m
[31m-      </div>[m
[31m-    </div>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default RegisterForm;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/auth/protectRoute.jsx b/zenai-frontend/src/components/auth/protectRoute.jsx[m
[1mdeleted file mode 100644[m
[1mindex 0196626..0000000[m
[1m--- a/zenai-frontend/src/components/auth/protectRoute.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,16 +0,0 @@[m
[31m-// src/components/auth/ProtectedRoute.jsx[m
[31m-import React from 'react';[m
[31m-import { Navigate } from 'react-router-dom';[m
[31m-import { useAuthStore } from '../../hooks/useAuth';[m
[31m-[m
[31m-const ProtectedRoute = ({ children }) => {[m
[31m-  const { isAuthenticated } = useAuthStore();[m
[31m-[m
[31m-  if (!isAuthenticated) {[m
[31m-    return <Navigate to="/login" replace />;[m
[31m-  }[m
[31m-[m
[31m-  return children;[m
[31m-};[m
[31m-[m
[31m-export default ProtectedRoute;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/common/Button.jsx b/zenai-frontend/src/components/common/Button.jsx[m
[1mdeleted file mode 100644[m
[1mindex 15c570a..0000000[m
[1m--- a/zenai-frontend/src/components/common/Button.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,69 +0,0 @@[m
[31m-// src/components/common/Button.jsx[m
[31m-import React from 'react';[m
[31m-import { motion } from 'framer-motion';[m
[31m-[m
[31m-const Button = ({ [m
[31m-  children, [m
[31m-  variant = 'primary', [m
[31m-  size = 'md', [m
[31m-  loading = false,[m
[31m-  disabled = false,[m
[31m-  className = '',[m
[31m-  ...props [m
[31m-}) => {[m
[31m-  const baseClasses = 'font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2';[m
[31m-  [m
[31m-  const variants = {[m
[31m-    primary: 'bg-primary-600 hover:bg-primary-700 text-white shadow-lg hover:shadow-xl',[m
[31m-    secondary: 'bg-secondary-600 hover:bg-secondary-700 text-white shadow-lg hover:shadow-xl',[m
[31m-    outline: 'border-2 border-primary-600 text-primary-600 hover:bg-primary-50',[m
[31m-    ghost: 'text-gray-700 hover:bg-gray-100',[m
[31m-    danger: 'bg-red-600 hover:bg-red-700 text-white'[m
[31m-  };[m
[31m-[m
[31m-  const sizes = {[m
[31m-    sm: 'px-3 py-1.5 text-sm',[m
[31m-    md: 'px-4 py-2 text-base',[m
[31m-    lg: 'px-6 py-3 text-lg'[m
[31m-  };[m
[31m-[m
[31m-  const disabledClasses = 'opacity-50 cursor-not-allowed';[m
[31m-[m
[31m-  return ([m
[31m-    <motion.button[m
[31m-      whileHover={{ scale: disabled || loading ? 1 : 1.02 }}[m
[31m-      whileTap={{ scale: disabled || loading ? 1 : 0.98 }}[m
[31m-      className={`[m
[31m-        ${baseClasses}[m
[31m-        ${variants[variant]}[m
[31m-        ${sizes[size]}[m
[31m-        ${(disabled || loading) && disabledClasses}[m
[31m-        ${className}[m
[31m-      `}[m
[31m-      disabled={disabled || loading}[m
[31m-      {...props}[m
[31m-    >[m
[31m-      {loading && ([m
[31m-        <svg className="animate-spin h-5 w-5" viewBox="0 0 24 24">[m
[31m-          <circle [m
[31m-            className="opacity-25" [m
[31m-            cx="12" [m
[31m-            cy="12" [m
[31m-            r="10" [m
[31m-            stroke="currentColor" [m
[31m-            strokeWidth="4"[m
[31m-            fill="none"[m
[31m-          />[m
[31m-          <path [m
[31m-            className="opacity-75" [m
[31m-            fill="currentColor" [m
[31m-            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"[m
[31m-          />[m
[31m-        </svg>[m
[31m-      )}[m
[31m-      {children}[m
[31m-    </motion.button>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default Button;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/common/Card.jsx b/zenai-frontend/src/components/common/Card.jsx[m
[1mdeleted file mode 100644[m
[1mindex 5e27c71..0000000[m
[1m--- a/zenai-frontend/src/components/common/Card.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,26 +0,0 @@[m
[31m-// src/components/common/Card.jsx[m
[31m-import React from 'react';[m
[31m-import { motion } from 'framer-motion';[m
[31m-[m
[31m-const Card = ({ [m
[31m-  children, [m
[31m-  className = '', [m
[31m-  hover = false,[m
[31m-  ...props [m
[31m-}) => {[m
[31m-  return ([m
[31m-    <motion.div[m
[31m-      whileHover={hover ? { y: -4, shadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)' } : {}}[m
[31m-      className={`[m
[31m-        bg-white rounded-xl shadow-md p-6[m
[31m-        transition-all duration-200[m
[31m-        ${className}[m
[31m-      `}[m
[31m-      {...props}[m
[31m-    >[m
[31m-      {children}[m
[31m-    </motion.div>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default Card;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/common/Input.jsx b/zenai-frontend/src/components/common/Input.jsx[m
[1mdeleted file mode 100644[m
[1mindex 7c4820e..0000000[m
[1m--- a/zenai-frontend/src/components/common/Input.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,42 +0,0 @@[m
[31m-// src/components/common/Input.jsx[m
[31m-import React from 'react';[m
[31m-[m
[31m-const Input = ({ [m
[31m-  label, [m
[31m-  error, [m
[31m-  icon: Icon,[m
[31m-  className = '',[m
[31m-  ...props [m
[31m-}) => {[m
[31m-  return ([m
[31m-    <div className="w-full">[m
[31m-      {label && ([m
[31m-        <label className="block text-sm font-medium text-gray-700 mb-2">[m
[31m-          {label}[m
[31m-        </label>[m
[31m-      )}[m
[31m-      <div className="relative">[m
[31m-        {Icon && ([m
[31m-          <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">[m
[31m-            <Icon className="h-5 w-5 text-gray-400" />[m
[31m-          </div>[m
[31m-        )}[m
[31m-        <input[m
[31m-          className={`[m
[31m-            w-full px-4 py-2 border border-gray-300 rounded-lg[m
[31m-            focus:ring-2 focus:ring-primary-500 focus:border-transparent[m
[31m-            ${Icon ? 'pl-10' : ''}[m
[31m-            ${error ? 'border-red-500' : ''}[m
[31m-            ${className}[m
[31m-          `}[m
[31m-          {...props}[m
[31m-        />[m
[31m-      </div>[m
[31m-      {error && ([m
[31m-        <p className="mt-1 text-sm text-red-600">{error}</p>[m
[31m-      )}[m
[31m-    </div>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default Input;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/common/Loading.jsx b/zenai-frontend/src/components/common/Loading.jsx[m
[1mdeleted file mode 100644[m
[1mindex b8e48ed..0000000[m
[1m--- a/zenai-frontend/src/components/common/Loading.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,38 +0,0 @@[m
[31m-// src/components/common/Loading.jsx[m
[31m-import React from 'react';[m
[31m-import { motion } from 'framer-motion';[m
[31m-[m
[31m-const Loading = ({ fullScreen = false, size = 'md', text = 'Loading...' }) => {[m
[31m-  const sizes = {[m
[31m-    sm: 'w-8 h-8',[m
[31m-    md: 'w-12 h-12',[m
[31m-    lg: 'w-16 h-16'[m
[31m-  };[m
[31m-[m
[31m-  const spinner = ([m
[31m-    <div className="flex flex-col items-center gap-4">[m
[31m-      <motion.div[m
[31m-        animate={{ rotate: 360 }}[m
[31m-        transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}[m
[31m-        className={`border-4 border-primary-200 border-t-primary-600 rounded-full ${sizes[size]}`}[m
[31m-      />[m
[31m-      {text && <p className="text-gray-600 animate-pulse">{text}</p>}[m
[31m-    </div>[m
[31m-  );[m
[31m-[m
[31m-  if (fullScreen) {[m
[31m-    return ([m
[31m-      <div className="fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50">[m
[31m-        {spinner}[m
[31m-      </div>[m
[31m-    );[m
[31m-  }[m
[31m-[m
[31m-  return ([m
[31m-    <div className="flex items-center justify-center p-8">[m
[31m-      {spinner}[m
[31m-    </div>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default Loading;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/common/Modal.jsx b/zenai-frontend/src/components/common/Modal.jsx[m
[1mdeleted file mode 100644[m
[1mindex 8e0fd65..0000000[m
[1m--- a/zenai-frontend/src/components/common/Modal.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,63 +0,0 @@[m
[31m-// src/components/common/Modal.jsx[m
[31m-import React from 'react';[m
[31m-import { motion, AnimatePresence } from 'framer-motion';[m
[31m-import { X } from 'lucide-react';[m
[31m-[m
[31m-const Modal = ({ isOpen, onClose, title, children, size = 'md' }) => {[m
[31m-  const sizes = {[m
[31m-    sm: 'max-w-md',[m
[31m-    md: 'max-w-2xl',[m
[31m-    lg: 'max-w-4xl',[m
[31m-    xl: 'max-w-6xl'[m
[31m-  };[m
[31m-[m
[31m-  return ([m
[31m-    <AnimatePresence>[m
[31m-      {isOpen && ([m
[31m-        <>[m
[31m-          {/* Backdrop */}[m
[31m-          <motion.div[m
[31m-            initial={{ opacity: 0 }}[m
[31m-            animate={{ opacity: 1 }}[m
[31m-            exit={{ opacity: 0 }}[m
[31m-            onClick={onClose}[m
[31m-            className="fixed inset-0 bg-black bg-opacity-50 z-40"[m
[31m-          />[m
[31m-[m
[31m-          {/* Modal */}[m
[31m-          <div className="fixed inset-0 z-50 overflow-y-auto">[m
[31m-            <div className="flex min-h-full items-center justify-center p-4">[m
[31m-              <motion.div[m
[31m-                initial={{ scale: 0.95, opacity: 0 }}[m
[31m-                animate={{ scale: 1, opacity: 1 }}[m
[31m-                exit={{ scale: 0.95, opacity: 0 }}[m
[31m-                className={`[m
[31m-                  bg-white rounded-xl shadow-2xl w-full ${sizes[size]}[m
[31m-                  max-h-[90vh] overflow-y-auto[m
[31m-                `}[m
[31m-              >[m
[31m-                {/* Header */}[m
[31m-                <div className="flex items-center justify-between p-6 border-b">[m
[31m-                  <h2 className="text-2xl font-bold text-gray-900">{title}</h2>[m
[31m-                  <button[m
[31m-                    onClick={onClose}[m
[31m-                    className="text-gray-400 hover:text-gray-600 transition"[m
[31m-                  >[m
[31m-                    <X size={24} />[m
[31m-                  </button>[m
[31m-                </div>[m
[31m-[m
[31m-                {/* Content */}[m
[31m-                <div className="p-6">[m
[31m-                  {children}[m
[31m-                </div>[m
[31m-              </motion.div>[m
[31m-            </div>[m
[31m-          </div>[m
[31m-        </>[m
[31m-      )}[m
[31m-    </AnimatePresence>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default Modal;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/common/Toast.jsx b/zenai-frontend/src/components/common/Toast.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/dashboard/Dashboard.jsx b/zenai-frontend/src/components/dashboard/Dashboard.jsx[m
[1mdeleted file mode 100644[m
[1mindex 8170e2b..0000000[m
[1m--- a/zenai-frontend/src/components/dashboard/Dashboard.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,253 +0,0 @@[m
[31m-// src/components/dashboard/Dashboard.jsx[m
[31m-import React from 'react';[m
[31m-import { useProjects } from '../../hooks/useProjects';[m
[31m-import { useTasks } from '../../hooks/useTasks';[m
[31m-import { useAuthStore } from '../../hooks/useAuth';[m
[31m-import { [m
[31m-  CheckSquare, Clock, TrendingUp, AlertCircle,[m
[31m-  BarChart3, Calendar, Users [m
[31m-} from 'lucide-react';[m
[31m-import Card from '../common/Card';[m
[31m-import Loading from '../common/Loading';[m
[31m-import StatsCard from './StatsCard';[m
[31m-import RecentActivity from './RecentActivity';[m
[31m-[m
[31m-const Dashboard = () => {[m
[31m-  const { user } = useAuthStore();[m
[31m-  const { data: projectsData, isLoading: projectsLoading } = useProjects();[m
[31m-  const { data: tasksData, isLoading: tasksLoading } = useTasks();[m
[31m-[m
[31m-  if (projectsLoading || tasksLoading) {[m
[31m-    return <Loading fullScreen text="Loading dashboard..." />;[m
[31m-  }[m
[31m-[m
[31m-  const projects = projectsData?.data?.projects || [];[m
[31m-  const tasks = tasksData?.data?.tasks || [];[m
[31m-[m
[31m-  const stats = {[m
[31m-    totalProjects: projects.length,[m
[31m-    activeProjects: projects.filter(p => p.status === 'active').length,[m
[31m-    totalTasks: tasks.length,[m
[31m-    completedTasks: tasks.filter(t => t.status === 'done').length,[m
[31m-    inProgressTasks: tasks.filter(t => t.status === 'in-progress').length,[m
[31m-    overdueTasks: tasks.filter(t => [m
[31m-      t.dueDate && new Date(t.dueDate) < new Date() && t.status !== 'done'[m
[31m-    ).length[m
[31m-  };[m
[31m-[m
[31m-  const completionRate = stats.totalTasks > 0 [m
[31m-    ? Math.round((stats.completedTasks / stats.totalTasks) * 100) [m
[31m-    : 0;[m
[31m-[m
[31m-  return ([m
[31m-    <div className="min-h-screen bg-gray-50">[m
[31m-      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">[m
[31m-        {/* Header */}[m
[31m-        <div className="mb-8">[m
[31m-          <h1 className="text-3xl font-bold text-gray-900">[m
[31m-            Welcome back, {user?.name}! üëã[m
[31m-          </h1>[m
[31m-          <p className="text-gray-600 mt-2">[m
[31m-            Here's what's happening with your projects today[m
[31m-          </p>[m
[31m-        </div>[m
[31m-[m
[31m-        {/* Stats Grid */}[m
[31m-        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">[m
[31m-          <StatsCard[m
[31m-            title="Total Projects"[m
[31m-            value={stats.totalProjects}[m
[31m-            icon={CheckSquare}[m
[31m-            trend="+12%"[m
[31m-            trendUp={true}[m
[31m-            color="primary"[m
[31m-          />[m
[31m-          <StatsCard[m
[31m-            title="Active Projects"[m
[31m-            value={stats.activeProjects}[m
[31m-            icon={TrendingUp}[m
[31m-            trend="+8%"[m
[31m-            trendUp={true}[m
[31m-            color="green"[m
[31m-          />[m
[31m-          <StatsCard[m
[31m-            title="Tasks Completed"[m
[31m-            value={stats.completedTasks}[m
[31m-            icon={CheckSquare}[m
[31m-            subtitle={`${completionRate}% completion rate`}[m
[31m-            color="blue"[m
[31m-          />[m
[31m-          <StatsCard[m
[31m-            title="Overdue Tasks"[m
[31m-            value={stats.overdueTasks}[m
[31m-            icon={AlertCircle}[m
[31m-            trend="-5%"[m
[31m-            trendUp={false}[m
[31m-            color="red"[m
[31m-          />[m
[31m-        </div>[m
[31m-[m
[31m-        {/* Content Grid */}[m
[31m-        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">[m
[31m-          {/* Main Content */}[m
[31m-          <div className="lg:col-span-2 space-y-6">[m
[31m-            {/* Task Progress */}[m
[31m-            <Card>[m
[31m-              <div className="flex items-center justify-between mb-4">[m
[31m-                <h3 className="text-xl font-bold text-gray-900">[m
[31m-                  Task Progress[m
[31m-                </h3>[m
[31m-                <BarChart3 className="text-primary-600" />[m
[31m-              </div>[m
[31m-              [m
[31m-              <div className="space-y-4">[m
[31m-                <div>[m
[31m-                  <div className="flex justify-between mb-2">[m
[31m-                    <span className="text-sm font-medium text-gray-600">[m
[31m-                      Completed[m
[31m-                    </span>[m
[31m-                    <span className="text-sm font-semibold text-gray-900">[m
[31m-                      {stats.completedTasks} / {stats.totalTasks}[m
[31m-                    </span>[m
[31m-                  </div>[m
[31m-                  <div className="w-full bg-gray-200 rounded-full h-3">[m
[31m-                    <div [m
[31m-                      className="bg-green-500 h-3 rounded-full transition-all duration-500"[m
[31m-                      style={{ width: `${completionRate}%` }}[m
[31m-                    />[m
[31m-                  </div>[m
[31m-                </div>[m
[31m-[m
[31m-                <div>[m
[31m-                  <div className="flex justify-between mb-2">[m
[31m-                    <span className="text-sm font-medium text-gray-600">[m
[31m-                      In Progress[m
[31m-                    </span>[m
[31m-                    <span className="text-sm font-semibold text-gray-900">[m
[31m-                      {stats.inProgressTasks}[m
[31m-                    </span>[m
[31m-                  </div>[m
[31m-                  <div className="w-full bg-gray-200 rounded-full h-3">[m
[31m-                    <div [m
[31m-                      className="bg-blue-500 h-3 rounded-full transition-all duration-500"[m
[31m-                      style={{ [m
[31m-                        width: `${(stats.inProgressTasks / stats.totalTasks) * 100}%` [m
[31m-                      }}[m
[31m-                    />[m
[31m-                  </div>[m
[31m-                </div>[m
[31m-[m
[31m-                <div>[m
[31m-                  <div className="flex justify-between mb-2">[m
[31m-                    <span className="text-sm font-medium text-gray-600">[m
[31m-                      Overdue[m
[31m-                    </span>[m
[31m-                    <span className="text-sm font-semibold text-gray-900">[m
[31m-                      {stats.overdueTasks}[m
[31m-                    </span>[m
[31m-                  </div>[m
[31m-                  <div className="w-full bg-gray-200 rounded-full h-3">[m
[31m-                    <div [m
[31m-                      className="bg-red-500 h-3 rounded-full transition-all duration-500"[m
[31m-                      style={{ [m
[31m-                        width: `${(stats.overdueTasks / stats.totalTasks) * 100}%` [m
[31m-                      }}[m
[31m-                    />[m
[31m-                  </div>[m
[31m-                </div>[m
[31m-              </div>[m
[31m-            </Card>[m
[31m-[m
[31m-            {/* Upcoming Deadlines */}[m
[31m-            <Card>[m
[31m-              <div className="flex items-center justify-between mb-4">[m
[31m-                <h3 className="text-xl font-bold text-gray-900">[m
[31m-                  Upcoming Deadlines[m
[31m-                </h3>[m
[31m-                <Calendar className="text-primary-600" />[m
[31m-              </div>[m
[31m-[m
[31m-              <div className="space-y-3">[m
[31m-                {tasks[m
[31m-                  .filter(t => t.dueDate && t.status !== 'done')[m
[31m-                  .sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate))[m
[31m-                  .slice(0, 5)[m
[31m-                  .map(task => ([m
[31m-                    <div [m
[31m-                      key={task._id}[m
[31m-                      className="flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition"[m
[31m-                    >[m
[31m-                      <div className="flex items-center gap-3">[m
[31m-                        <div className={`w-2 h-2 rounded-full ${[m
[31m-                          task.priority === 'urgent' ? 'bg-red-500' :[m
[31m-                          task.priority === 'high' ? 'bg-orange-500' :[m
[31m-                          task.priority === 'medium' ? 'bg-yellow-500' :[m
[31m-                          'bg-green-500'[m
[31m-                        }`} />[m
[31m-                        <div>[m
[31m-                          <p className="font-medium text-gray-900">{task.title}</p>[m
[31m-                          <p className="text-sm text-gray-500">[m
[31m-                            {new Date(task.dueDate).toLocaleDateString()}[m
[31m-                          </p>[m
[31m-                        </div>[m
[31m-                      </div>[m
[31m-                      <Clock size={18} className="text-gray-400" />[m
[31m-                    </div>[m
[31m-                  ))}[m
[31m-              </div>[m
[31m-            </Card>[m
[31m-          </div>[m
[31m-[m
[31m-          {/* Sidebar */}[m
[31m-          <div className="space-y-6">[m
[31m-            {/* Recent Activity */}[m
[31m-            <RecentActivity activities={[[m
[31m-              { [m
[31m-                type: 'task_completed', [m
[31m-                message: 'Task "Update documentation" completed',[m
[31m-                time: '2 hours ago'[m
[31m-              },[m
[31m-              { [m
[31m-                type: 'project_created', [m
[31m-                message: 'New project "Mobile App" created',[m
[31m-                time: '5 hours ago'[m
[31m-              },[m
[31m-              { [m
[31m-                type: 'comment', [m
[31m-                message: 'New comment on "API Integration"',[m
[31m-                time: '1 day ago'[m
[31m-              }[m
[31m-            ]} />[m
[31m-[m
[31m-            {/* Team Members */}[m
[31m-            <Card>[m
[31m-              <div className="flex items-center justify-between mb-4">[m
[31m-                <h3 className="text-xl font-bold text-gray-900">[m
[31m-                  Team Activity[m
[31m-                </h3>[m
[31m-                <Users className="text-primary-600" />[m
[31m-              </div>[m
[31m-[m
[31m-              <div className="space-y-3">[m
[31m-                {[1, 2, 3].map((_, idx) => ([m
[31m-                  <div key={idx} className="flex items-center gap-3">[m
[31m-                    <div className="w-10 h-10 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center text-white font-semibold">[m
[31m-                      U{idx + 1}[m
[31m-                    </div>[m
[31m-                    <div className="flex-1">[m
[31m-                      <p className="font-medium text-gray-900">User {idx + 1}</p>[m
[31m-                      <p className="text-sm text-gray-500">Active now</p>[m
[31m-                    </div>[m
[31m-                    <div className="w-3 h-3 bg-green-500 rounded-full"></div>[m
[31m-                  </div>[m
[31m-                ))}[m
[31m-              </div>[m
[31m-            </Card>[m
[31m-          </div>[m
[31m-        </div>[m
[31m-      </div>[m
[31m-    </div>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default Dashboard;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/dashboard/RecentActivity.jsx b/zenai-frontend/src/components/dashboard/RecentActivity.jsx[m
[1mdeleted file mode 100644[m
[1mindex 6c2fedc..0000000[m
[1m--- a/zenai-frontend/src/components/dashboard/RecentActivity.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,29 +0,0 @@[m
[31m-// src/components/dashboard/RecentActivity.jsx[m
[31m-import React from 'react';[m
[31m-import { Activity } from 'lucide-react';[m
[31m-import Card from '../common/Card';[m
[31m-[m
[31m-const RecentActivity = ({ activities }) => {[m
[31m-  return ([m
[31m-    <Card>[m
[31m-      <div className="flex items-center justify-between mb-4">[m
[31m-        <h3 className="text-xl font-bold text-gray-900">Recent Activity</h3>[m
[31m-        <Activity className="text-primary-600" />[m
[31m-      </div>[m
[31m-[m
[31m-      <div className="space-y-4">[m
[31m-        {activities.map((activity, idx) => ([m
[31m-          <div key={idx} className="flex items-start gap-3">[m
[31m-            <div className="w-2 h-2 bg-primary-600 rounded-full mt-2" />[m
[31m-            <div className="flex-1">[m
[31m-              <p className="text-sm text-gray-900">{activity.message}</p>[m
[31m-              <p className="text-xs text-gray-500 mt-1">{activity.time}</p>[m
[31m-            </div>[m
[31m-          </div>[m
[31m-        ))}[m
[31m-      </div>[m
[31m-    </Card>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default RecentActivity;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/dashboard/StatsCard.jsx b/zenai-frontend/src/components/dashboard/StatsCard.jsx[m
[1mdeleted file mode 100644[m
[1mindex 03be931..0000000[m
[1m--- a/zenai-frontend/src/components/dashboard/StatsCard.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,69 +0,0 @@[m
[31m-// src/components/dashboard/StatsCard.jsx[m
[31m-import React from 'react';[m
[31m-import { TrendingUp, TrendingDown } from 'lucide-react';[m
[31m-import Card from '../common/Card';[m
[31m-import { motion } from 'framer-motion';[m
[31m-[m
[31m-const StatsCard = ({ [m
[31m-  title, [m
[31m-  value, [m
[31m-  icon: Icon, [m
[31m-  trend, [m
[31m-  trendUp, [m
[31m-  subtitle,[m
[31m-  color = 'primary' [m
[31m-}) => {[m
[31m-  const colors = {[m
[31m-    primary: 'from-primary-500 to-primary-600',[m
[31m-    green: 'from-green-500 to-green-600',[m
[31m-    blue: 'from-blue-500 to-blue-600',[m
[31m-    red: 'from-red-500 to-red-600',[m
[31m-  };[m
[31m-[m
[31m-  return ([m
[31m-    <Card hover className="relative overflow-hidden">[m
[31m-      {/* Background Gradient */}[m
[31m-      <div className={`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${colors[color]} opacity-10 rounded-full -mr-16 -mt-16`} />[m
[31m-      [m
[31m-      <div className="relative">[m
[31m-        <div className="flex items-center justify-between mb-4">[m
[31m-          <p className="text-gray-600 text-sm font-medium">{title}</p>[m
[31m-          <div className={`p-3 bg-gradient-to-br ${colors[color]} rounded-lg`}>[m
[31m-            <Icon className="text-white" size={20} />[m
[31m-          </div>[m
[31m-        </div>[m
[31m-[m
[31m-        <motion.p [m
[31m-          className="text-3xl font-bold text-gray-900 mb-2"[m
[31m-          initial={{ scale: 0.5, opacity: 0 }}[m
[31m-          animate={{ scale: 1, opacity: 1 }}[m
[31m-          transition={{ duration: 0.5 }}[m
[31m-        >[m
[31m-          {value}[m
[31m-        </motion.p>[m
[31m-[m
[31m-        {trend && ([m
[31m-          <div className="flex items-center gap-2">[m
[31m-            {trendUp ? ([m
[31m-              <TrendingUp size={16} className="text-green-500" />[m
[31m-            ) : ([m
[31m-              <TrendingDown size={16} className="text-red-500" />[m
[31m-            )}[m
[31m-            <span className={`text-sm font-medium ${[m
[31m-              trendUp ? 'text-green-500' : 'text-red-500'[m
[31m-            }`}>[m
[31m-              {trend}[m
[31m-            </span>[m
[31m-            <span className="text-sm text-gray-500">vs last month</span>[m
[31m-          </div>[m
[31m-        )}[m
[31m-[m
[31m-        {subtitle && ([m
[31m-          <p className="text-sm text-gray-500 mt-2">{subtitle}</p>[m
[31m-        )}[m
[31m-      </div>[m
[31m-    </Card>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default StatsCard;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/layout/Footer.jsx b/zenai-frontend/src/components/layout/Footer.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/layout/Navbar.jsx b/zenai-frontend/src/components/layout/Navbar.jsx[m
[1mdeleted file mode 100644[m
[1mindex fb49151..0000000[m
[1m--- a/zenai-frontend/src/components/layout/Navbar.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,158 +0,0 @@[m
[31m-// src/components/layout/Navbar.jsx[m
[31m-import React, { useState } from 'react';[m
[31m-import { Link } from 'react-router-dom';[m
[31m-import { useAuthStore } from '../../hooks/useAuth';[m
[31m-import { [m
[31m-  Menu, X, Bell, Settings, LogOut, User, [m
[31m-  Layout, CheckSquare, MessageSquare [m
[31m-} from 'lucide-react';[m
[31m-import Button from '../common/Button';[m
[31m-[m
[31m-const Navbar = () => {[m
[31m-  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);[m
[31m-  const [profileMenuOpen, setProfileMenuOpen] = useState(false);[m
[31m-  const { user, logout } = useAuthStore();[m
[31m-[m
[31m-  const navigation = [[m
[31m-    { name: 'Dashboard', href: '/dashboard', icon: Layout },[m
[31m-    { name: 'Projects', href: '/projects', icon: CheckSquare },[m
[31m-    { name: 'AI Assistant', href: '/ai', icon: MessageSquare },[m
[31m-  ];[m
[31m-[m
[31m-  const handleLogout = async () => {[m
[31m-    await logout();[m
[31m-    window.location.href = '/login';[m
[31m-  };[m
[31m-[m
[31m-  return ([m
[31m-    <nav className="bg-white shadow-lg sticky top-0 z-30">[m
[31m-      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">[m
[31m-        <div className="flex justify-between h-16">[m
[31m-          {/* Logo */}[m
[31m-          <div className="flex items-center">[m
[31m-            <Link to="/dashboard" className="flex items-center gap-2">[m
[31m-              <div className="w-10 h-10 bg-gradient-to-br from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center">[m
[31m-                <span className="text-white font-bold text-xl">Z</span>[m
[31m-              </div>[m
[31m-              <span className="text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent">[m
[31m-                ZenAI[m
[31m-              </span>[m
[31m-            </Link>[m
[31m-          </div>[m
[31m-[m
[31m-          {/* Desktop Navigation */}[m
[31m-          <div className="hidden md:flex items-center gap-6">[m
[31m-            {navigation.map((item) => {[m
[31m-              const Icon = item.icon;[m
[31m-              return ([m
[31m-                <Link[m
[31m-                  key={item.name}[m
[31m-                  to={item.href}[m
[31m-                  className="flex items-center gap-2 text-gray-700 hover:text-primary-600 transition px-3 py-2 rounded-lg hover:bg-primary-50"[m
[31m-                >[m
[31m-                  <Icon size={20} />[m
[31m-                  <span className="font-medium">{item.name}</span>[m
[31m-                </Link>[m
[31m-              );[m
[31m-            })}[m
[31m-          </div>[m
[31m-[m
[31m-          {/* Right Side */}[m
[31m-          <div className="flex items-center gap-4">[m
[31m-            {/* Notifications */}[m
[31m-            <button className="relative p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition">[m
[31m-              <Bell size={22} />[m
[31m-              <span className="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>[m
[31m-            </button>[m
[31m-[m
[31m-            {/* Profile Dropdown */}[m
[31m-            <div className="relative">[m
[31m-              <button[m
[31m-                onClick={() => setProfileMenuOpen(!profileMenuOpen)}[m
[31m-                className="flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 transition"[m
[31m-              >[m
[31m-                <div className="w-8 h-8 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center text-white font-semibold">[m
[31m-                  {user?.name?.[0]?.toUpperCase()}[m
[31m-                </div>[m
[31m-                <span className="hidden md:block font-medium text-gray-700">[m
[31m-                  {user?.name}[m
[31m-                </span>[m
[31m-              </button>[m
[31m-[m
[31m-              {/* Dropdown Menu */}[m
[31m-              {profileMenuOpen && ([m
[31m-                <>[m
[31m-                  <div [m
[31m-                    className="fixed inset-0 z-10" [m
[31m-                    onClick={() => setProfileMenuOpen(false)}[m
[31m-                  />[m
[31m-                  <div className="absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-20">[m
[31m-                    <div className="p-4 border-b">[m
[31m-                      <p className="font-semibold text-gray-900">{user?.name}</p>[m
[31m-                      <p className="text-sm text-gray-500">{user?.email}</p>[m
[31m-                    </div>[m
[31m-                    <div className="p-2">[m
[31m-                      <Link[m
[31m-                        to="/profile"[m
[31m-                        className="flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition"[m
[31m-                      >[m
[31m-                        <User size={18} />[m
[31m-                        <span>Profile</span>[m
[31m-                      </Link>[m
[31m-                      <Link[m
[31m-                        to="/settings"[m
[31m-                        className="flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition"[m
[31m-                      >[m
[31m-                        <Settings size={18} />[m
[31m-                        <span>Settings</span>[m
[31m-                      </Link>[m
[31m-                      <button[m
[31m-                        onClick={handleLogout}[m
[31m-                        className="w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition"[m
[31m-                      >[m
[31m-                        <LogOut size={18} />[m
[31m-                        <span>Logout</span>[m
[31m-                      </button>[m
[31m-                    </div>[m
[31m-                  </div>[m
[31m-                </>[m
[31m-              )}[m
[31m-            </div>[m
[31m-[m
[31m-            {/* Mobile Menu Button */}[m
[31m-            <button[m
[31m-              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}[m
[31m-              className="md:hidden p-2 text-gray-600 hover:text-primary-600"[m
[31m-            >[m
[31m-              {mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}[m
[31m-            </button>[m
[31m-          </div>[m
[31m-        </div>[m
[31m-      </div>[m
[31m-[m
[31m-      {/* Mobile Menu */}[m
[31m-      {mobileMenuOpen && ([m
[31m-        <div className="md:hidden border-t">[m
[31m-          <div className="px-4 py-4 space-y-2">[m
[31m-            {navigation.map((item) => {[m
[31m-              const Icon = item.icon;[m
[31m-              return ([m
[31m-                <Link[m
[31m-                  key={item.name}[m
[31m-                  to={item.href}[m
[31m-                  className="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-primary-50 rounded-lg transition"[m
[31m-                  onClick={() => setMobileMenuOpen(false)}[m
[31m-                >[m
[31m-                  <Icon size={20} />[m
[31m-                  <span className="font-medium">{item.name}</span>[m
[31m-                </Link>[m
[31m-              );[m
[31m-            })}[m
[31m-          </div>[m
[31m-        </div>[m
[31m-      )}[m
[31m-    </nav>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export default Navbar;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/components/layout/Sidebar.jsx b/zenai-frontend/src/components/layout/Sidebar.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/projects/ProjectCard.jsx b/zenai-frontend/src/components/projects/ProjectCard.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/projects/ProjectDetail.jsx b/zenai-frontend/src/components/projects/ProjectDetail.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/projects/ProjectForm.jsx b/zenai-frontend/src/components/projects/ProjectForm.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/projects/ProjectList.jsx b/zenai-frontend/src/components/projects/ProjectList.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/tasks/KanbanBoard.jsx b/zenai-frontend/src/components/tasks/KanbanBoard.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/tasks/TaskCard.jsx b/zenai-frontend/src/components/tasks/TaskCard.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/tasks/TaskDetail.jsx b/zenai-frontend/src/components/tasks/TaskDetail.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/tasks/TaskForm.jsx b/zenai-frontend/src/components/tasks/TaskForm.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/components/tasks/TaskList.jsx b/zenai-frontend/src/components/tasks/TaskList.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/contexts/AuthContext.jsx b/zenai-frontend/src/contexts/AuthContext.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/contexts/NotificationContext.jsx b/zenai-frontend/src/contexts/NotificationContext.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/contexts/ThemeContext.jsx b/zenai-frontend/src/contexts/ThemeContext.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/hooks/useAI.js b/zenai-frontend/src/hooks/useAI.js[m
[1mdeleted file mode 100644[m
[1mindex 8b73e1d..0000000[m
[1m--- a/zenai-frontend/src/hooks/useAI.js[m
[1m+++ /dev/null[m
[36m@@ -1,66 +0,0 @@[m
[31m-// src/hooks/useAI.js[m
[31m-import { useMutation, useQuery } from 'react-query';[m
[31m-import aiService from '../services/ai.service';[m
[31m-import toast from 'react-hot-toast';[m
[31m-[m
[31m-export const useAIChat = () => {[m
[31m-  return useMutation([m
[31m-    ({ message, context }) => aiService.chat(message, context),[m
[31m-    {[m
[31m-      onError: () => {[m
[31m-        toast.error('Failed to get AI response');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useAITaskCreation = () => {[m
[31m-  return useMutation([m
[31m-    ({ description, projectId }) => aiService.createTaskWithAI(description, projectId),[m
[31m-    {[m
[31m-      onSuccess: () => {[m
[31m-        toast.success('Task created with AI!');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useTaskAnalysis = (taskId) => {[m
[31m-  return useQuery([m
[31m-    ['task-analysis', taskId],[m
[31m-    () => aiService.analyzeTask(taskId),[m
[31m-    {[m
[31m-      enabled: !!taskId,[m
[31m-      staleTime: 10 * 60 * 1000, // 10 minutes[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useProjectAnalysis = (projectId) => {[m
[31m-  return useQuery([m
[31m-    ['project-analysis', projectId],[m
[31m-    () => aiService.analyzeProject(projectId),[m
[31m-    {[m
[31m-      enabled: !!projectId,[m
[31m-      staleTime: 5 * 60 * 1000,[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useAudioTranscription = () => {[m
[31m-  return useMutation([m
[31m-    ({ file, metadata }) => aiService.transcribeAudio(file, metadata),[m
[31m-    {[m
[31m-      onSuccess: () => {[m
[31m-        toast.success('Audio transcribed successfully!');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useChatHistory = (params = {}) => {[m
[31m-  return useQuery([m
[31m-    ['chat-history', params],[m
[31m-    () => aiService.getChatHistory(params)[m
[31m-  );[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/hooks/useAuth.js b/zenai-frontend/src/hooks/useAuth.js[m
[1mdeleted file mode 100644[m
[1mindex 3b855b5..0000000[m
[1m--- a/zenai-frontend/src/hooks/useAuth.js[m
[1m+++ /dev/null[m
[36m@@ -1,59 +0,0 @@[m
[31m-// src/hooks/useAuth.js[m
[31m-import { create } from 'zustand';[m
[31m-import authService from '../services/auth.service';[m
[31m-import toast from 'react-hot-toast';[m
[31m-[m
[31m-export const useAuthStore = create((set) => ({[m
[31m-  user: authService.getUser(),[m
[31m-  isAuthenticated: authService.isAuthenticated(),[m
[31m-  loading: false,[m
[31m-[m
[31m-  login: async (credentials) => {[m
[31m-    set({ loading: true });[m
[31m-    try {[m
[31m-      const response = await authService.login(credentials);[m
[31m-      set({ [m
[31m-        user: response.data.user, [m
[31m-        isAuthenticated: true,[m
[31m-        loading: false [m
[31m-      });[m
[31m-      toast.success('Login successful!');[m
[31m-      return response;[m
[31m-    } catch (error) {[m
[31m-      set({ loading: false });[m
[31m-      throw error;[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  register: async (data) => {[m
[31m-    set({ loading: true });[m
[31m-    try {[m
[31m-      const response = await authService.register(data);[m
[31m-      set({ [m
[31m-        user: response.data.user, [m
[31m-        isAuthenticated: true,[m
[31m-        loading: false [m
[31m-      });[m
[31m-      toast.success('Registration successful!');[m
[31m-      return response;[m
[31m-    } catch (error) {[m
[31m-      set({ loading: false });[m
[31m-      throw error;[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  logout: async () => {[m
[31m-    try {[m
[31m-      await authService.logout();[m
[31m-      set({ user: null, isAuthenticated: false });[m
[31m-      toast.success('Logged out successfully');[m
[31m-    } catch (error) {[m
[31m-      console.error('Logout error:', error);[m
[31m-    }[m
[31m-  },[m
[31m-[m
[31m-  updateUser: (userData) => {[m
[31m-    set({ user: userData });[m
[31m-    localStorage.setItem('user', JSON.stringify(userData));[m
[31m-  }[m
[31m-}));[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/hooks/useProjects.js b/zenai-frontend/src/hooks/useProjects.js[m
[1mdeleted file mode 100644[m
[1mindex 4c612b1..0000000[m
[1m--- a/zenai-frontend/src/hooks/useProjects.js[m
[1m+++ /dev/null[m
[36m@@ -1,70 +0,0 @@[m
[31m-// src/hooks/useProjects.js[m
[31m-import { useQuery, useMutation, useQueryClient } from 'react-query';[m
[31m-import projectService from '../services/project.service';[m
[31m-import toast from 'react-hot-toast';[m
[31m-[m
[31m-export const useProjects = (params = {}) => {[m
[31m-  return useQuery([m
[31m-    ['projects', params],[m
[31m-    () => projectService.getProjects(params),[m
[31m-    {[m
[31m-      staleTime: 5 * 60 * 1000, // 5 minutes[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useProject = (id) => {[m
[31m-  return useQuery([m
[31m-    ['project', id],[m
[31m-    () => projectService.getProjectById(id),[m
[31m-    {[m
[31m-      enabled: !!id,[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useCreateProject = () => {[m
[31m-  const queryClient = useQueryClient();[m
[31m-[m
[31m-  return useMutation([m
[31m-    (data) => projectService.createProject(data),[m
[31m-    {[m
[31m-      onSuccess: () => {[m
[31m-        queryClient.invalidateQueries('projects');[m
[31m-        toast.success('Project created successfully!');[m
[31m-      },[m
[31m-      onError: (error) => {[m
[31m-        toast.error(error.response?.data?.message || 'Failed to create project');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useUpdateProject = () => {[m
[31m-  const queryClient = useQueryClient();[m
[31m-[m
[31m-  return useMutation([m
[31m-    ({ id, data }) => projectService.updateProject(id, data),[m
[31m-    {[m
[31m-      onSuccess: (_, variables) => {[m
[31m-        queryClient.invalidateQueries('projects');[m
[31m-        queryClient.invalidateQueries(['project', variables.id]);[m
[31m-        toast.success('Project updated successfully!');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useDeleteProject = () => {[m
[31m-  const queryClient = useQueryClient();[m
[31m-[m
[31m-  return useMutation([m
[31m-    (id) => projectService.deleteProject(id),[m
[31m-    {[m
[31m-      onSuccess: () => {[m
[31m-        queryClient.invalidateQueries('projects');[m
[31m-        toast.success('Project deleted successfully!');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/hooks/useTasks.js b/zenai-frontend/src/hooks/useTasks.js[m
[1mdeleted file mode 100644[m
[1mindex 1b266d0..0000000[m
[1m--- a/zenai-frontend/src/hooks/useTasks.js[m
[1m+++ /dev/null[m
[36m@@ -1,67 +0,0 @@[m
[31m-// src/hooks/useTasks.js[m
[31m-import { useQuery, useMutation, useQueryClient } from 'react-query';[m
[31m-import taskService from '../services/task.service';[m
[31m-import toast from 'react-hot-toast';[m
[31m-[m
[31m-export const useTasks = (projectId, params = {}) => {[m
[31m-  return useQuery([m
[31m-    ['tasks', projectId, params],[m
[31m-    () => taskService.getTasks(projectId, params),[m
[31m-    {[m
[31m-      enabled: !!projectId,[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useTask = (id) => {[m
[31m-  return useQuery([m
[31m-    ['task', id],[m
[31m-    () => taskService.getTaskById(id),[m
[31m-    {[m
[31m-      enabled: !!id,[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useCreateTask = () => {[m
[31m-  const queryClient = useQueryClient();[m
[31m-[m
[31m-  return useMutation([m
[31m-    (data) => taskService.createTask(data),[m
[31m-    {[m
[31m-      onSuccess: () => {[m
[31m-        queryClient.invalidateQueries('tasks');[m
[31m-        toast.success('Task created successfully!');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useUpdateTask = () => {[m
[31m-  const queryClient = useQueryClient();[m
[31m-[m
[31m-  return useMutation([m
[31m-    ({ id, data }) => taskService.updateTask(id, data),[m
[31m-    {[m
[31m-      onSuccess: (_, variables) => {[m
[31m-        queryClient.invalidateQueries('tasks');[m
[31m-        queryClient.invalidateQueries(['task', variables.id]);[m
[31m-        toast.success('Task updated successfully!');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-export const useDeleteTask = () => {[m
[31m-  const queryClient = useQueryClient();[m
[31m-[m
[31m-  return useMutation([m
[31m-    (id) => taskService.deleteTask(id),[m
[31m-    {[m
[31m-      onSuccess: () => {[m
[31m-        queryClient.invalidateQueries('tasks');[m
[31m-        toast.success('Task deleted successfully!');[m
[31m-      }[m
[31m-    }[m
[31m-  );[m
[31m-};[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/index.css b/zenai-frontend/src/index.css[m
[1mdeleted file mode 100644[m
[1mindex 08a3ac9..0000000[m
[1m--- a/zenai-frontend/src/index.css[m
[1m+++ /dev/null[m
[36m@@ -1,68 +0,0 @@[m
[31m-:root {[m
[31m-  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;[m
[31m-  line-height: 1.5;[m
[31m-  font-weight: 400;[m
[31m-[m
[31m-  color-scheme: light dark;[m
[31m-  color: rgba(255, 255, 255, 0.87);[m
[31m-  background-color: #242424;[m
[31m-[m
[31m-  font-synthesis: none;[m
[31m-  text-rendering: optimizeLegibility;[m
[31m-  -webkit-font-smoothing: antialiased;[m
[31m-  -moz-osx-font-smoothing: grayscale;[m
[31m-}[m
[31m-[m
[31m-a {[m
[31m-  font-weight: 500;[m
[31m-  color: #646cff;[m
[31m-  text-decoration: inherit;[m
[31m-}[m
[31m-a:hover {[m
[31m-  color: #535bf2;[m
[31m-}[m
[31m-[m
[31m-body {[m
[31m-  margin: 0;[m
[31m-  display: flex;[m
[31m-  place-items: center;[m
[31m-  min-width: 320px;[m
[31m-  min-height: 100vh;[m
[31m-}[m
[31m-[m
[31m-h1 {[m
[31m-  font-size: 3.2em;[m
[31m-  line-height: 1.1;[m
[31m-}[m
[31m-[m
[31m-button {[m
[31m-  border-radius: 8px;[m
[31m-  border: 1px solid transparent;[m
[31m-  padding: 0.6em 1.2em;[m
[31m-  font-size: 1em;[m
[31m-  font-weight: 500;[m
[31m-  font-family: inherit;[m
[31m-  background-color: #1a1a1a;[m
[31m-  cursor: pointer;[m
[31m-  transition: border-color 0.25s;[m
[31m-}[m
[31m-button:hover {[m
[31m-  border-color: #646cff;[m
[31m-}[m
[31m-button:focus,[m
[31m-button:focus-visible {[m
[31m-  outline: 4px auto -webkit-focus-ring-color;[m
[31m-}[m
[31m-[m
[31m-@media (prefers-color-scheme: light) {[m
[31m-  :root {[m
[31m-    color: #213547;[m
[31m-    background-color: #ffffff;[m
[31m-  }[m
[31m-  a:hover {[m
[31m-    color: #747bff;[m
[31m-  }[m
[31m-  button {[m
[31m-    background-color: #f9f9f9;[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/zenai-frontend/src/main.jsx b/zenai-frontend/src/main.jsx[m
[1mdeleted file mode 100644[m
[1mindex b9a1a6d..0000000[m
[1m--- a/zenai-frontend/src/main.jsx[m
[1m+++ /dev/null[m
[36m@@ -1,10 +0,0 @@[m
[31m-import { StrictMode } from 'react'[m
[31m-import { createRoot } from 'react-dom/client'[m
[31m-import './index.css'[m
[31m-import App from './App.jsx'[m
[31m-[m
[31m-createRoot(document.getElementById('root')).render([m
[31m-  <StrictMode>[m
[31m-    <App />[m
[31m-  </StrictMode>,[m
[31m-)[m
[1mdiff --git a/zenai-frontend/src/routes.jsx b/zenai-frontend/src/routes.jsx[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/services/ai.service.js b/zenai-frontend/src/services/ai.service.js[m
[1mdeleted file mode 100644[m
[1mindex b3e0e71..0000000[m
[1m--- a/zenai-frontend/src/services/ai.service.js[m
[1m+++ /dev/null[m
[36m@@ -1,55 +0,0 @@[m
[31m-// src/services/ai.service.js[m
[31m-import api from './api';[m
[31m-[m
[31m-const aiService = {[m
[31m-  async chat(message, context = {}) {[m
[31m-    return await api.post('/ai/chat', { message, context });[m
[31m-  },[m
[31m-[m
[31m-  async createTaskWithAI(description, projectId) {[m
[31m-    return await api.post('/ai/tasks/create', { description, projectId });[m
[31m-  },[m
[31m-[m
[31m-  async analyzeTask(taskId) {[m
[31m-    return await api.get(`/ai/tasks/${taskId}/analyze`);[m
[31m-  },[m
[31m-[m
[31m-  async analyzeProject(projectId) {[m
[31m-    return await api.get(`/ai/projects/${projectId}/analyze`);[m
[31m-  },[m
[31m-[m
[31m-  async suggestBreakdown(taskId) {[m
[31m-    return await api.get(`/ai/tasks/${taskId}/breakdown`);[m
[31m-  },[m
[31m-[m
[31m-  async estimateEffort(taskIds) {[m
[31m-    return await api.post('/ai/tasks/estimate', { taskIds });[m
[31m-  },[m
[31m-[m
[31m-  async transcribeAudio(file, metadata) {[m
[31m-    const formData = new FormData();[m
[31m-    formData.append('audio', file);[m
[31m-    formData.append('title', metadata.title || '');[m
[31m-    formData.append('participants', JSON.stringify(metadata.participants || []));[m
[31m-    [m
[31m-    return await api.post('/ai/transcribe', formData, {[m
[31m-      headers: { 'Content-Type': 'multipart/form-data' }[m
[31m-    });[m
[31m-  },[m
[31m-[m
[31m-  async getChatHistory(params = {}) {[m
[31m-    return await api.get('/ai/chat/history', { params });[m
[31m-  },[m
[31m-[m
[31m-  async indexDocument(content, metadata) {[m
[31m-    return await api.post('/ai/documents/index', { content, metadata });[m
[31m-  },[m
[31m-[m
[31m-  async searchDocuments(query, limit = 5) {[m
[31m-    return await api.get('/ai/documents/search', { [m
[31m-      params: { query, limit } [m
[31m-    });[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-export default aiService;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/services/api.js b/zenai-frontend/src/services/api.js[m
[1mdeleted file mode 100644[m
[1mindex 4ec5256..0000000[m
[1m--- a/zenai-frontend/src/services/api.js[m
[1m+++ /dev/null[m
[36m@@ -1,66 +0,0 @@[m
[31m-// src/services/api.js[m
[31m-import axios from 'axios';[m
[31m-import toast from 'react-hot-toast';[m
[31m-[m
[31m-const api = axios.create({[m
[31m-  baseURL: import.meta.env.VITE_API_URL,[m
[31m-  timeout: 30000,[m
[31m-  headers: {[m
[31m-    'Content-Type': 'application/json',[m
[31m-  },[m
[31m-});[m
[31m-[m
[31m-// Request interceptor[m
[31m-api.interceptors.request.use([m
[31m-  (config) => {[m
[31m-    const token = localStorage.getItem('accessToken');[m
[31m-    if (token) {[m
[31m-      config.headers.Authorization = `Bearer ${token}`;[m
[31m-    }[m
[31m-    return config;[m
[31m-  },[m
[31m-  (error) => {[m
[31m-    return Promise.reject(error);[m
[31m-  }[m
[31m-);[m
[31m-[m
[31m-// Response interceptor[m
[31m-api.interceptors.response.use([m
[31m-  (response) => {[m
[31m-    return response.data;[m
[31m-  },[m
[31m-  async (error) => {[m
[31m-    const originalRequest = error.config;[m
[31m-[m
[31m-    // Handle token refresh[m
[31m-    if (error.response?.status === 401 && !originalRequest._retry) {[m
[31m-      originalRequest._retry = true;[m
[31m-[m
[31m-      try {[m
[31m-        const refreshToken = localStorage.getItem('refreshToken');[m
[31m-        const response = await axios.post([m
[31m-          `${import.meta.env.VITE_API_URL}/auth/refresh`,[m
[31m-          { refreshToken }[m
[31m-        );[m
[31m-[m
[31m-        const { accessToken } = response.data.data;[m
[31m-        localStorage.setItem('accessToken', accessToken);[m
[31m-[m
[31m-        originalRequest.headers.Authorization = `Bearer ${accessToken}`;[m
[31m-        return api(originalRequest);[m
[31m-      } catch (refreshError) {[m
[31m-        localStorage.clear();[m
[31m-        window.location.href = '/login';[m
[31m-        return Promise.reject(refreshError);[m
[31m-      }[m
[31m-    }[m
[31m-[m
[31m-    // Handle errors[m
[31m-    const message = error.response?.data?.message || 'An error occurred';[m
[31m-    toast.error(message);[m
[31m-[m
[31m-    return Promise.reject(error);[m
[31m-  }[m
[31m-);[m
[31m-[m
[31m-export default api;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/services/auth.service.js b/zenai-frontend/src/services/auth.service.js[m
[1mdeleted file mode 100644[m
[1mindex c549e7e..0000000[m
[1m--- a/zenai-frontend/src/services/auth.service.js[m
[1m+++ /dev/null[m
[36m@@ -1,56 +0,0 @@[m
[31m-// src/services/auth.service.js[m
[31m-import api from './api';[m
[31m-[m
[31m-const authService = {[m
[31m-  async register(data) {[m
[31m-    const response = await api.post('/auth/register', data);[m
[31m-    if (response.success) {[m
[31m-      this.setTokens(response.data);[m
[31m-    }[m
[31m-    return response;[m
[31m-  },[m
[31m-[m
[31m-  async login(credentials) {[m
[31m-    const response = await api.post('/auth/login', credentials);[m
[31m-    if (response.success) {[m
[31m-      this.setTokens(response.data);[m
[31m-    }[m
[31m-    return response;[m
[31m-  },[m
[31m-[m
[31m-  async logout() {[m
[31m-    await api.post('/auth/logout');[m
[31m-    this.clearTokens();[m
[31m-  },[m
[31m-[m
[31m-  async getProfile() {[m
[31m-    return await api.get('/auth/profile');[m
[31m-  },[m
[31m-[m
[31m-  async updateProfile(data) {[m
[31m-    return await api.put('/auth/profile', data);[m
[31m-  },[m
[31m-[m
[31m-  setTokens(data) {[m
[31m-    localStorage.setItem('accessToken', data.accessToken);[m
[31m-    localStorage.setItem('refreshToken', data.refreshToken);[m
[31m-    localStorage.setItem('user', JSON.stringify(data.user));[m
[31m-  },[m
[31m-[m
[31m-  clearTokens() {[m
[31m-    localStorage.removeItem('accessToken');[m
[31m-    localStorage.removeItem('refreshToken');[m
[31m-    localStorage.removeItem('user');[m
[31m-  },[m
[31m-[m
[31m-  getUser() {[m
[31m-    const user = localStorage.getItem('user');[m
[31m-    return user ? JSON.parse(user) : null;[m
[31m-  },[m
[31m-[m
[31m-  isAuthenticated() {[m
[31m-    return !!localStorage.getItem('accessToken');[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-export default authService;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/services/project.service.js b/zenai-frontend/src/services/project.service.js[m
[1mdeleted file mode 100644[m
[1mindex 4f41119..0000000[m
[1m--- a/zenai-frontend/src/services/project.service.js[m
[1m+++ /dev/null[m
[36m@@ -1,30 +0,0 @@[m
[31m-// src/services/project.service.js[m
[31m-import api from './api';[m
[31m-[m
[31m-const projectService = {[m
[31m-  async getProjects(params = {}) {[m
[31m-    return await api.get('/projects', { params });[m
[31m-  },[m
[31m-[m
[31m-  async getProjectById(id) {[m
[31m-    return await api.get(`/projects/${id}`);[m
[31m-  },[m
[31m-[m
[31m-  async createProject(data) {[m
[31m-    return await api.post('/projects', data);[m
[31m-  },[m
[31m-[m
[31m-  async updateProject(id, data) {[m
[31m-    return await api.put(`/projects/${id}`, data);[m
[31m-  },[m
[31m-[m
[31m-  async deleteProject(id) {[m
[31m-    return await api.delete(`/projects/${id}`);[m
[31m-  },[m
[31m-[m
[31m-  async updateProgress(id) {[m
[31m-    return await api.put(`/projects/${id}/progress`);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-export default projectService;[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/src/services/task.service.js b/zenai-frontend/src/services/task.service.js[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/styles/tailwind.css b/zenai-frontend/src/styles/tailwind.css[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/zenai-frontend/src/utils/constants.js b/zenai-frontend/src/utils/constants.js[m
[1mdeleted file mode 100644[m
[1mindex 9a2f0fe..0000000[m
[1m--- a/zenai-frontend/src/utils/constants.js[m
[1m+++ /dev/null[m
[36m@@ -1,206 +0,0 @@[m
[31m-// src/utils/constants.js[m
[31m-[m
[31m-// API Base URL[m
[31m-export const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api/v1';[m
[31m-[m
[31m-// Application Routes[m
[31m-export const ROUTES = {[m
[31m-  HOME: '/',[m
[31m-  LOGIN: '/login',[m
[31m-  REGISTER: '/register',[m
[31m-  DASHBOARD: '/dashboard',[m
[31m-  PROJECTS: '/projects',[m
[31m-  PROJECT_DETAIL: '/projects/:id',[m
[31m-  TASKS: '/tasks',[m
[31m-  TASK_DETAIL: '/tasks/:id',[m
[31m-  AI_CHAT: '/ai',[m
[31m-  PROFILE: '/profile',[m
[31m-  SETTINGS: '/settings',[m
[31m-};[m
[31m-[m
[31m-// Task Status[m
[31m-export const TASK_STATUS = {[m
[31m-  TODO: 'todo',[m
[31m-  IN_PROGRESS: 'in_progress',[m
[31m-  IN_REVIEW: 'in_review',[m
[31m-  DONE: 'done',[m
[31m-  BLOCKED: 'blocked',[m
[31m-};[m
[31m-[m
[31m-export const TASK_STATUS_LABELS = {[m
[31m-  [TASK_STATUS.TODO]: 'To Do',[m
[31m-  [TASK_STATUS.IN_PROGRESS]: 'In Progress',[m
[31m-  [TASK_STATUS.IN_REVIEW]: 'In Review',[m
[31m-  [TASK_STATUS.DONE]: 'Done',[m
[31m-  [TASK_STATUS.BLOCKED]: 'Blocked',[m
[31m-};[m
[31m-[m
[31m-export const TASK_STATUS_COLORS = {[m
[31m-  [TASK_STATUS.TODO]: 'bg-gray-100 text-gray-800',[m
[31m-  [TASK_STATUS.IN_PROGRESS]: 'bg-blue-100 text-blue-800',[m
[31m-  [TASK_STATUS.IN_REVIEW]: 'bg-yellow-100 text-yellow-800',[m
[31m-  [TASK_STATUS.DONE]: 'bg-green-100 text-green-800',[m
[31m-  [TASK_STATUS.BLOCKED]: 'bg-red-100 text-red-800',[m
[31m-};[m
[31m-[m
[31m-// Task Priority[m
[31m-export const TASK_PRIORITY = {[m
[31m-  LOW: 'low',[m
[31m-  MEDIUM: 'medium',[m
[31m-  HIGH: 'high',[m
[31m-  URGENT: 'urgent',[m
[31m-};[m
[31m-[m
[31m-export const TASK_PRIORITY_LABELS = {[m
[31m-  [TASK_PRIORITY.LOW]: 'Low',[m
[31m-  [TASK_PRIORITY.MEDIUM]: 'Medium',[m
[31m-  [TASK_PRIORITY.HIGH]: 'High',[m
[31m-  [TASK_PRIORITY.URGENT]: 'Urgent',[m
[31m-};[m
[31m-[m
[31m-export const TASK_PRIORITY_COLORS = {[m
[31m-  [TASK_PRIORITY.LOW]: 'text-gray-600',[m
[31m-  [TASK_PRIORITY.MEDIUM]: 'text-blue-600',[m
[31m-  [TASK_PRIORITY.HIGH]: 'text-orange-600',[m
[31m-  [TASK_PRIORITY.URGENT]: 'text-red-600',[m
[31m-};[m
[31m-[m
[31m-// Project Status[m
[31m-export const PROJECT_STATUS = {[m
[31m-  PLANNING: 'planning',[m
[31m-  ACTIVE: 'active',[m
[31m-  ON_HOLD: 'on_hold',[m
[31m-  COMPLETED: 'completed',[m
[31m-  ARCHIVED: 'archived',[m
[31m-};[m
[31m-[m
[31m-export const PROJECT_STATUS_LABELS = {[m
[31m-  [PROJECT_STATUS.PLANNING]: 'Planning',[m
[31m-  [PROJECT_STATUS.ACTIVE]: 'Active',[m
[31m-  [PROJECT_STATUS.ON_HOLD]: 'On Hold',[m
[31m-  [PROJECT_STATUS.COMPLETED]: 'Completed',[m
[31m-  [PROJECT_STATUS.ARCHIVED]: 'Archived',[m
[31m-};[m
[31m-[m
[31m-export const PROJECT_STATUS_COLORS = {[m
[31m-  [PROJECT_STATUS.PLANNING]: 'bg-purple-100 text-purple-800',[m
[31m-  [PROJECT_STATUS.ACTIVE]: 'bg-green-100 text-green-800',[m
[31m-  [PROJECT_STATUS.ON_HOLD]: 'bg-yellow-100 text-yellow-800',[m
[31m-  [PROJECT_STATUS.COMPLETED]: 'bg-blue-100 text-blue-800',[m
[31m-  [PROJECT_STATUS.ARCHIVED]: 'bg-gray-100 text-gray-800',[m
[31m-};[m
[31m-[m
[31m-// User Roles[m
[31m-export const USER_ROLES = {[m
[31m-  ADMIN: 'admin',[m
[31m-  MANAGER: 'manager',[m
[31m-  MEMBER: 'member',[m
[31m-  VIEWER: 'viewer',[m
[31m-};[m
[31m-[m
[31m-// Date Formats[m
[31m-export const DATE_FORMAT = 'MMM dd, yyyy';[m
[31m-export const DATE_TIME_FORMAT = 'MMM dd, yyyy HH:mm';[m
[31m-export const TIME_FORMAT = 'HH:mm';[m
[31m-[m
[31m-// Pagination[m
[31m-export const DEFAULT_PAGE_SIZE = 10;[m
[31m-export const PAGE_SIZE_OPTIONS = [10, 25, 50, 100];[m
[31m-[m
[31m-// File Upload[m
[31m-export const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB[m
[31m-export const ALLOWED_FILE_TYPES = {[m
[31m-  IMAGE: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],[m
[31m-  DOCUMENT: ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'],[m
[31m-  AUDIO: ['audio/mpeg', 'audio/wav', 'audio/mp3', 'audio/m4a'],[m
[31m-};[m
[31m-[m
[31m-// Local Storage Keys[m
[31m-export const STORAGE_KEYS = {[m
[31m-  ACCESS_TOKEN: 'accessToken',[m
[31m-  REFRESH_TOKEN: 'refreshToken',[m
[31m-  USER: 'user',[m
[31m-  THEME: 'theme',[m
[31m-};[m
[31m-[m
[31m-// Theme[m
[31m-export const THEMES = {[m
[31m-  LIGHT: 'light',[m
[31m-  DARK: 'dark',[m
[31m-  SYSTEM: 'system',[m
[31m-};[m
[31m-[m
[31m-// AI Chat[m
[31m-export const AI_CHAT_ROLES = {[m
[31m-  USER: 'user',[m
[31m-  ASSISTANT: 'assistant',[m
[31m-  SYSTEM: 'system',[m
[31m-};[m
[31m-[m
[31m-// Toast Messages[m
[31m-export const TOAST_MESSAGES = {[m
[31m-  SUCCESS: {[m
[31m-    LOGIN: 'Successfully logged in!',[m
[31m-    REGISTER: 'Account created successfully!',[m
[31m-    LOGOUT: 'Logged out successfully!',[m
[31m-    PROJECT_CREATED: 'Project created successfully!',[m
[31m-    PROJECT_UPDATED: 'Project updated successfully!',[m
[31m-    PROJECT_DELETED: 'Project deleted successfully!',[m
[31m-    TASK_CREATED: 'Task created successfully!',[m
[31m-    TASK_UPDATED: 'Task updated successfully!',[m
[31m-    TASK_DELETED: 'Task deleted successfully!',[m
[31m-  },[m
[31m-  ERROR: {[m
[31m-    GENERIC: 'Something went wrong. Please try again.',[m
[31m-    NETWORK: 'Network error. Please check your connection.',[m
[31m-    UNAUTHORIZED: 'You are not authorized to perform this action.',[m
[31m-    VALIDATION: 'Please check your input and try again.',[m
[31m-  },[m
[31m-};[m
[31m-[m
[31m-// Validation Rules[m
[31m-export const VALIDATION = {[m
[31m-  EMAIL_REGEX: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,[m
[31m-  PASSWORD_MIN_LENGTH: 8,[m
[31m-  PASSWORD_REGEX: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,}$/,[m
[31m-  USERNAME_MIN_LENGTH: 3,[m
[31m-  USERNAME_MAX_LENGTH: 30,[m
[31m-};[m
[31m-[m
[31m-// Chart Colors[m
[31m-export const CHART_COLORS = {[m
[31m-  PRIMARY: '#3b82f6',[m
[31m-  SECONDARY: '#8b5cf6',[m
[31m-  SUCCESS: '#10b981',[m
[31m-  WARNING: '#f59e0b',[m
[31m-  DANGER: '#ef4444',[m
[31m-  INFO: '#06b6d4',[m
[31m-};[m
[31m-[m
[31m-export default {[m
[31m-  API_BASE_URL,[m
[31m-  ROUTES,[m
[31m-  TASK_STATUS,[m
[31m-  TASK_STATUS_LABELS,[m
[31m-  TASK_STATUS_COLORS,[m
[31m-  TASK_PRIORITY,[m
[31m-  TASK_PRIORITY_LABELS,[m
[31m-  TASK_PRIORITY_COLORS,[m
[31m-  PROJECT_STATUS,[m
[31m-  PROJECT_STATUS_LABELS,[m
[31m-  PROJECT_STATUS_COLORS,[m
[31m-  USER_ROLES,[m
[31m-  DATE_FORMAT,[m
[31m-  DATE_TIME_FORMAT,[m
[31m-  TIME_FORMAT,[m
[31m-  DEFAULT_PAGE_SIZE,[m
[31m-  PAGE_SIZE_OPTIONS,[m
[31m-  MAX_FILE_SIZE,[m
[31m-  ALLOWED_FILE_TYPES,[m
[31m-  STORAGE_KEYS,[m
[31m-  THEMES,[m
[31m-  AI_CHAT_ROLES,[m
[31m-  TOAST_MESSAGES,[m
[31m-  VALIDATION,[m
[31m-  CHART_COLORS,[m
[31m-};[m
[1mdiff --git a/zenai-frontend/src/utils/helpers.js b/zenai-frontend/src/utils/helpers.js[m
[1mdeleted file mode 100644[m
[1mindex 53b31f4..0000000[m
[1m--- a/zenai-frontend/src/utils/helpers.js[m
[1m+++ /dev/null[m
[36m@@ -1,380 +0,0 @@[m
[31m-// src/utils/helpers.js[m
[31m-import { format, formatDistanceToNow, isValid, parseISO } from 'date-fns';[m
[31m-import { DATE_FORMAT, DATE_TIME_FORMAT } from './constants';[m
[31m-[m
[31m-/**[m
[31m- * Format date to readable string[m
[31m- * @param {string|Date} date - Date to format[m
[31m- * @param {string} formatString - Format pattern (default: DATE_FORMAT)[m
[31m- * @returns {string} Formatted date string[m
[31m- */[m
[31m-export const formatDate = (date, formatString = DATE_FORMAT) => {[m
[31m-  if (!date) return '';[m
[31m-  [m
[31m-  try {[m
[31m-    const dateObj = typeof date === 'string' ? parseISO(date) : date;[m
[31m-    return isValid(dateObj) ? format(dateObj, formatString) : '';[m
[31m-  } catch (error) {[m
[31m-    console.error('Error formatting date:', error);[m
[31m-    return '';[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Format date with time[m
[31m- * @param {string|Date} date - Date to format[m
[31m- * @returns {string} Formatted date-time string[m
[31m- */[m
[31m-export const formatDateTime = (date) => {[m
[31m-  return formatDate(date, DATE_TIME_FORMAT);[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Format date to relative time (e.g., "2 days ago")[m
[31m- * @param {string|Date} date - Date to format[m
[31m- * @returns {string} Relative time string[m
[31m- */[m
[31m-export const formatRelativeTime = (date) => {[m
[31m-  if (!date) return '';[m
[31m-  [m
[31m-  try {[m
[31m-    const dateObj = typeof date === 'string' ? parseISO(date) : date;[m
[31m-    return isValid(dateObj) ? formatDistanceToNow(dateObj, { addSuffix: true }) : '';[m
[31m-  } catch (error) {[m
[31m-    console.error('Error formatting relative time:', error);[m
[31m-    return '';[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Truncate text to specified length[m
[31m- * @param {string} text - Text to truncate[m
[31m- * @param {number} maxLength - Maximum length[m
[31m- * @returns {string} Truncated text[m
[31m- */[m
[31m-export const truncateText = (text, maxLength = 100) => {[m
[31m-  if (!text || text.length <= maxLength) return text;[m
[31m-  return `${text.substring(0, maxLength)}...`;[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Capitalize first letter of string[m
[31m- * @param {string} str - String to capitalize[m
[31m- * @returns {string} Capitalized string[m
[31m- */[m
[31m-export const capitalizeFirst = (str) => {[m
[31m-  if (!str) return '';[m
[31m-  return str.charAt(0).toUpperCase() + str.slice(1);[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Convert string to title case[m
[31m- * @param {string} str - String to convert[m
[31m- * @returns {string} Title case string[m
[31m- */[m
[31m-export const toTitleCase = (str) => {[m
[31m-  if (!str) return '';[m
[31m-  return str[m
[31m-    .toLowerCase()[m
[31m-    .split(' ')[m
[31m-    .map(word => capitalizeFirst(word))[m
[31m-    .join(' ');[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Format file size to human readable format[m
[31m- * @param {number} bytes - File size in bytes[m
[31m- * @returns {string} Formatted file size[m
[31m- */[m
[31m-export const formatFileSize = (bytes) => {[m
[31m-  if (bytes === 0) return '0 Bytes';[m
[31m-  [m
[31m-  const k = 1024;[m
[31m-  const sizes = ['Bytes', 'KB', 'MB', 'GB'];[m
[31m-  const i = Math.floor(Math.log(bytes) / Math.log(k));[m
[31m-  [m
[31m-  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(2))} ${sizes[i]}`;[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Generate random ID[m
[31m- * @param {number} length - Length of ID[m
[31m- * @returns {string} Random ID[m
[31m- */[m
[31m-export const generateId = (length = 8) => {[m
[31m-  return Math.random().toString(36).substring(2, length + 2);[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Debounce function[m
[31m- * @param {Function} func - Function to debounce[m
[31m- * @param {number} wait - Wait time in milliseconds[m
[31m- * @returns {Function} Debounced function[m
[31m- */[m
[31m-export const debounce = (func, wait = 300) => {[m
[31m-  let timeout;[m
[31m-  return function executedFunction(...args) {[m
[31m-    const later = () => {[m
[31m-      clearTimeout(timeout);[m
[31m-      func(...args);[m
[31m-    };[m
[31m-    clearTimeout(timeout);[m
[31m-    timeout = setTimeout(later, wait);[m
[31m-  };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Throttle function[m
[31m- * @param {Function} func - Function to throttle[m
[31m- * @param {number} limit - Time limit in milliseconds[m
[31m- * @returns {Function} Throttled function[m
[31m- */[m
[31m-export const throttle = (func, limit = 300) => {[m
[31m-  let inThrottle;[m
[31m-  return function executedFunction(...args) {[m
[31m-    if (!inThrottle) {[m
[31m-      func(...args);[m
[31m-      inThrottle = true;[m
[31m-      setTimeout(() => (inThrottle = false), limit);[m
[31m-    }[m
[31m-  };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Deep clone object[m
[31m- * @param {Object} obj - Object to clone[m
[31m- * @returns {Object} Cloned object[m
[31m- */[m
[31m-export const deepClone = (obj) => {[m
[31m-  return JSON.parse(JSON.stringify(obj));[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Check if object is empty[m
[31m- * @param {Object} obj - Object to check[m
[31m- * @returns {boolean} True if empty[m
[31m- */[m
[31m-export const isEmpty = (obj) => {[m
[31m-  return obj && Object.keys(obj).length === 0 && obj.constructor === Object;[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Get initials from name[m
[31m- * @param {string} name - Full name[m
[31m- * @returns {string} Initials[m
[31m- */[m
[31m-export const getInitials = (name) => {[m
[31m-  if (!name) return '';[m
[31m-  [m
[31m-  const parts = name.trim().split(' ');[m
[31m-  if (parts.length === 1) {[m
[31m-    return parts[0].charAt(0).toUpperCase();[m
[31m-  }[m
[31m-  [m
[31m-  return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Generate random color for avatar[m
[31m- * @param {string} str - String to generate color from[m
[31m- * @returns {string} Hex color code[m
[31m- */[m
[31m-export const stringToColor = (str) => {[m
[31m-  if (!str) return '#3b82f6';[m
[31m-  [m
[31m-  let hash = 0;[m
[31m-  for (let i = 0; i < str.length; i++) {[m
[31m-    hash = str.charCodeAt(i) + ((hash << 5) - hash);[m
[31m-  }[m
[31m-  [m
[31m-  const colors = [[m
[31m-    '#3b82f6', '#8b5cf6', '#ec4899', '#f43f5e', '#f59e0b',[m
[31m-    '#10b981', '#14b8a6', '#06b6d4', '#6366f1', '#a855f7'[m
[31m-  ];[m
[31m-  [m
[31m-  return colors[Math.abs(hash) % colors.length];[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Calculate percentage[m
[31m- * @param {number} value - Current value[m
[31m- * @param {number} total - Total value[m
[31m- * @returns {number} Percentage[m
[31m- */[m
[31m-export const calculatePercentage = (value, total) => {[m
[31m-  if (!total || total === 0) return 0;[m
[31m-  return Math.round((value / total) * 100);[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Group array by key[m
[31m- * @param {Array} array - Array to group[m
[31m- * @param {string} key - Key to group by[m
[31m- * @returns {Object} Grouped object[m
[31m- */[m
[31m-export const groupBy = (array, key) => {[m
[31m-  return array.reduce((result, item) => {[m
[31m-    const group = item[key];[m
[31m-    if (!result[group]) {[m
[31m-      result[group] = [];[m
[31m-    }[m
[31m-    result[group].push(item);[m
[31m-    return result;[m
[31m-  }, {});[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Sort array by key[m
[31m- * @param {Array} array - Array to sort[m
[31m- * @param {string} key - Key to sort by[m
[31m- * @param {string} order - Sort order ('asc' or 'desc')[m
[31m- * @returns {Array} Sorted array[m
[31m- */[m
[31m-export const sortBy = (array, key, order = 'asc') => {[m
[31m-  return [...array].sort((a, b) => {[m
[31m-    if (order === 'asc') {[m
[31m-      return a[key] > b[key] ? 1 : -1;[m
[31m-    }[m
[31m-    return a[key] < b[key] ? 1 : -1;[m
[31m-  });[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Remove duplicates from array[m
[31m- * @param {Array} array - Array with duplicates[m
[31m- * @param {string} key - Key to check for uniqueness (optional)[m
[31m- * @returns {Array} Array without duplicates[m
[31m- */[m
[31m-export const removeDuplicates = (array, key = null) => {[m
[31m-  if (!key) {[m
[31m-    return [...new Set(array)];[m
[31m-  }[m
[31m-  [m
[31m-  const seen = new Set();[m
[31m-  return array.filter(item => {[m
[31m-    const value = item[key];[m
[31m-    if (seen.has(value)) {[m
[31m-      return false;[m
[31m-    }[m
[31m-    seen.add(value);[m
[31m-    return true;[m
[31m-  });[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Download file from blob[m
[31m- * @param {Blob} blob - Blob to download[m
[31m- * @param {string} filename - File name[m
[31m- */[m
[31m-export const downloadBlob = (blob, filename) => {[m
[31m-  const url = window.URL.createObjectURL(blob);[m
[31m-  const link = document.createElement('a');[m
[31m-  link.href = url;[m
[31m-  link.download = filename;[m
[31m-  document.body.appendChild(link);[m
[31m-  link.click();[m
[31m-  document.body.removeChild(link);[m
[31m-  window.URL.revokeObjectURL(url);[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Copy text to clipboard[m
[31m- * @param {string} text - Text to copy[m
[31m- * @returns {Promise<boolean>} Success status[m
[31m- */[m
[31m-export const copyToClipboard = async (text) => {[m
[31m-  try {[m
[31m-    await navigator.clipboard.writeText(text);[m
[31m-    return true;[m
[31m-  } catch (error) {[m
[31m-    console.error('Failed to copy to clipboard:', error);[m
[31m-    return false;[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Check if user is on mobile device[m
[31m- * @returns {boolean} True if mobile[m
[31m- */[m
[31m-export const isMobile = () => {[m
[31m-  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Scroll to element[m
[31m- * @param {string} id - Element ID[m
[31m- * @param {Object} options - Scroll options[m
[31m- */[m
[31m-export const scrollToElement = (id, options = {}) => {[m
[31m-  const element = document.getElementById(id);[m
[31m-  if (element) {[m
[31m-    element.scrollIntoView({[m
[31m-      behavior: 'smooth',[m
[31m-      block: 'start',[m
[31m-      ...options[m
[31m-    });[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Format number with commas[m
[31m- * @param {number} num - Number to format[m
[31m- * @returns {string} Formatted number[m
[31m- */[m
[31m-export const formatNumber = (num) => {[m
[31m-  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Parse query string to object[m
[31m- * @param {string} queryString - Query string[m
[31m- * @returns {Object} Query parameters object[m
[31m- */[m
[31m-export const parseQueryString = (queryString) => {[m
[31m-  const params = new URLSearchParams(queryString);[m
[31m-  const result = {};[m
[31m-  for (const [key, value] of params) {[m
[31m-    result[key] = value;[m
[31m-  }[m
[31m-  return result;[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Build query string from object[m
[31m- * @param {Object} params - Parameters object[m
[31m- * @returns {string} Query string[m
[31m- */[m
[31m-export const buildQueryString = (params) => {[m
[31m-  return Object.keys(params)[m
[31m-    .filter(key => params[key] !== null && params[key] !== undefined)[m
[31m-    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`)[m
[31m-    .join('&');[m
[31m-};[m
[31m-[m
[31m-export default {[m
[31m-  formatDate,[m
[31m-  formatDateTime,[m
[31m-  formatRelativeTime,[m
[31m-  truncateText,[m
[31m-  capitalizeFirst,[m
[31m-  toTitleCase,[m
[31m-  formatFileSize,[m
[31m-  generateId,[m
[31m-  debounce,[m
[31m-  throttle,[m
[31m-  deepClone,[m
[31m-  isEmpty,[m
[31m-  getInitials,[m
[31m-  stringToColor,[m
[31m-  calculatePercentage,[m
[31m-  groupBy,[m
[31m-  sortBy,[m
[31m-  removeDuplicates,[m
[31m-  downloadBlob,[m
[31m-  copyToClipboard,[m
[31m-  isMobile,[m
[31m-  scrollToElement,[m
[31m-  formatNumber,[m
[31m-  parseQueryString,[m
[31m-  buildQueryString,[m
[31m-};[m
[1mdiff --git a/zenai-frontend/src/utils/validators.js b/zenai-frontend/src/utils/validators.js[m
[1mdeleted file mode 100644[m
[1mindex 1551b30..0000000[m
[1m--- a/zenai-frontend/src/utils/validators.js[m
[1m+++ /dev/null[m
[36m@@ -1,398 +0,0 @@[m
[31m-// src/utils/validators.js[m
[31m-import { VALIDATION } from './constants';[m
[31m-[m
[31m-/**[m
[31m- * Validate email address[m
[31m- * @param {string} email - Email to validate[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateEmail = (email) => {[m
[31m-  if (!email || email.trim() === '') {[m
[31m-    return { isValid: false, message: 'Email is required' };[m
[31m-  }[m
[31m-  [m
[31m-  if (!VALIDATION.EMAIL_REGEX.test(email)) {[m
[31m-    return { isValid: false, message: 'Please enter a valid email address' };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate password[m
[31m- * @param {string} password - Password to validate[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validatePassword = (password) => {[m
[31m-  if (!password || password.trim() === '') {[m
[31m-    return { isValid: false, message: 'Password is required' };[m
[31m-  }[m
[31m-  [m
[31m-  if (password.length < VALIDATION.PASSWORD_MIN_LENGTH) {[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: `Password must be at least ${VALIDATION.PASSWORD_MIN_LENGTH} characters long` [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  if (!VALIDATION.PASSWORD_REGEX.test(password)) {[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: 'Password must contain at least one uppercase letter, one lowercase letter, and one number' [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate username[m
[31m- * @param {string} username - Username to validate[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateUsername = (username) => {[m
[31m-  if (!username || username.trim() === '') {[m
[31m-    return { isValid: false, message: 'Username is required' };[m
[31m-  }[m
[31m-  [m
[31m-  if (username.length < VALIDATION.USERNAME_MIN_LENGTH) {[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: `Username must be at least ${VALIDATION.USERNAME_MIN_LENGTH} characters long` [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  if (username.length > VALIDATION.USERNAME_MAX_LENGTH) {[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: `Username cannot exceed ${VALIDATION.USERNAME_MAX_LENGTH} characters` [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  if (!/^[a-zA-Z0-9_]+$/.test(username)) {[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: 'Username can only contain letters, numbers, and underscores' [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate required field[m
[31m- * @param {any} value - Value to validate[m
[31m- * @param {string} fieldName - Field name for error message[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateRequired = (value, fieldName = 'This field') => {[m
[31m-  if (value === null || value === undefined || value === '' || [m
[31m-      (Array.isArray(value) && value.length === 0)) {[m
[31m-    return { isValid: false, message: `${fieldName} is required` };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate string length[m
[31m- * @param {string} value - String to validate[m
[31m- * @param {number} min - Minimum length[m
[31m- * @param {number} max - Maximum length[m
[31m- * @param {string} fieldName - Field name for error message[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateLength = (value, min, max, fieldName = 'This field') => {[m
[31m-  if (!value) {[m
[31m-    return { isValid: false, message: `${fieldName} is required` };[m
[31m-  }[m
[31m-  [m
[31m-  if (value.length < min) {[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: `${fieldName} must be at least ${min} characters long` [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  if (max && value.length > max) {[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: `${fieldName} cannot exceed ${max} characters` [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate URL[m
[31m- * @param {string} url - URL to validate[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateURL = (url) => {[m
[31m-  if (!url || url.trim() === '') {[m
[31m-    return { isValid: false, message: 'URL is required' };[m
[31m-  }[m
[31m-  [m
[31m-  try {[m
[31m-    new URL(url);[m
[31m-    return { isValid: true, message: '' };[m
[31m-  } catch (error) {[m
[31m-    return { isValid: false, message: 'Please enter a valid URL' };[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate phone number[m
[31m- * @param {string} phone - Phone number to validate[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validatePhone = (phone) => {[m
[31m-  if (!phone || phone.trim() === '') {[m
[31m-    return { isValid: false, message: 'Phone number is required' };[m
[31m-  }[m
[31m-  [m
[31m-  const phoneRegex = /^[\d\s\-\+\(\)]+$/;[m
[31m-  if (!phoneRegex.test(phone)) {[m
[31m-    return { isValid: false, message: 'Please enter a valid phone number' };[m
[31m-  }[m
[31m-  [m
[31m-  const digits = phone.replace(/\D/g, '');[m
[31m-  if (digits.length < 10) {[m
[31m-    return { isValid: false, message: 'Phone number must have at least 10 digits' };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate date[m
[31m- * @param {string|Date} date - Date to validate[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateDate = (date) => {[m
[31m-  if (!date) {[m
[31m-    return { isValid: false, message: 'Date is required' };[m
[31m-  }[m
[31m-  [m
[31m-  const dateObj = new Date(date);[m
[31m-  if (isNaN(dateObj.getTime())) {[m
[31m-    return { isValid: false, message: 'Please enter a valid date' };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate date range[m
[31m- * @param {string|Date} startDate - Start date[m
[31m- * @param {string|Date} endDate - End date[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateDateRange = (startDate, endDate) => {[m
[31m-  const startValidation = validateDate(startDate);[m
[31m-  if (!startValidation.isValid) {[m
[31m-    return { isValid: false, message: 'Invalid start date' };[m
[31m-  }[m
[31m-  [m
[31m-  const endValidation = validateDate(endDate);[m
[31m-  if (!endValidation.isValid) {[m
[31m-    return { isValid: false, message: 'Invalid end date' };[m
[31m-  }[m
[31m-  [m
[31m-  if (new Date(startDate) > new Date(endDate)) {[m
[31m-    return { isValid: false, message: 'Start date must be before end date' };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate number[m
[31m- * @param {any} value - Value to validate[m
[31m- * @param {number} min - Minimum value (optional)[m
[31m- * @param {number} max - Maximum value (optional)[m
[31m- * @param {string} fieldName - Field name for error message[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateNumber = (value, min = null, max = null, fieldName = 'This field') => {[m
[31m-  if (value === null || value === undefined || value === '') {[m
[31m-    return { isValid: false, message: `${fieldName} is required` };[m
[31m-  }[m
[31m-  [m
[31m-  const num = Number(value);[m
[31m-  if (isNaN(num)) {[m
[31m-    return { isValid: false, message: `${fieldName} must be a valid number` };[m
[31m-  }[m
[31m-  [m
[31m-  if (min !== null && num < min) {[m
[31m-    return { isValid: false, message: `${fieldName} must be at least ${min}` };[m
[31m-  }[m
[31m-  [m
[31m-  if (max !== null && num > max) {[m
[31m-    return { isValid: false, message: `${fieldName} cannot exceed ${max}` };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate file[m
[31m- * @param {File} file - File to validate[m
[31m- * @param {Object} options - Validation options[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validateFile = (file, options = {}) => {[m
[31m-  const { [m
[31m-    maxSize = 10 * 1024 * 1024, // 10MB default[m
[31m-    allowedTypes = [],[m
[31m-    required = true [m
[31m-  } = options;[m
[31m-  [m
[31m-  if (!file) {[m
[31m-    if (required) {[m
[31m-      return { isValid: false, message: 'File is required' };[m
[31m-    }[m
[31m-    return { isValid: true, message: '' };[m
[31m-  }[m
[31m-  [m
[31m-  if (maxSize && file.size > maxSize) {[m
[31m-    const maxSizeMB = (maxSize / (1024 * 1024)).toFixed(2);[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: `File size cannot exceed ${maxSizeMB}MB` [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  if (allowedTypes.length > 0 && !allowedTypes.includes(file.type)) {[m
[31m-    return { [m
[31m-      isValid: false, [m
[31m-      message: `File type not allowed. Allowed types: ${allowedTypes.join(', ')}` [m
[31m-    };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate form data[m
[31m- * @param {Object} data - Form data to validate[m
[31m- * @param {Object} rules - Validation rules[m
[31m- * @returns {Object} Validation results[m
[31m- */[m
[31m-export const validateForm = (data, rules) => {[m
[31m-  const errors = {};[m
[31m-  let isValid = true;[m
[31m-  [m
[31m-  Object.keys(rules).forEach(field => {[m
[31m-    const rule = rules[field];[m
[31m-    const value = data[field];[m
[31m-    let result = { isValid: true, message: '' };[m
[31m-    [m
[31m-    // Required validation[m
[31m-    if (rule.required) {[m
[31m-      result = validateRequired(value, rule.label || field);[m
[31m-      if (!result.isValid) {[m
[31m-        errors[field] = result.message;[m
[31m-        isValid = false;[m
[31m-        return;[m
[31m-      }[m
[31m-    }[m
[31m-    [m
[31m-    // Skip other validations if value is empty and not required[m
[31m-    if (!value && !rule.required) return;[m
[31m-    [m
[31m-    // Email validation[m
[31m-    if (rule.type === 'email') {[m
[31m-      result = validateEmail(value);[m
[31m-    }[m
[31m-    [m
[31m-    // Password validation[m
[31m-    else if (rule.type === 'password') {[m
[31m-      result = validatePassword(value);[m
[31m-    }[m
[31m-    [m
[31m-    // URL validation[m
[31m-    else if (rule.type === 'url') {[m
[31m-      result = validateURL(value);[m
[31m-    }[m
[31m-    [m
[31m-    // Phone validation[m
[31m-    else if (rule.type === 'phone') {[m
[31m-      result = validatePhone(value);[m
[31m-    }[m
[31m-    [m
[31m-    // Date validation[m
[31m-    else if (rule.type === 'date') {[m
[31m-      result = validateDate(value);[m
[31m-    }[m
[31m-    [m
[31m-    // Number validation[m
[31m-    else if (rule.type === 'number') {[m
[31m-      result = validateNumber(value, rule.min, rule.max, rule.label || field);[m
[31m-    }[m
[31m-    [m
[31m-    // Length validation[m
[31m-    if (result.isValid && (rule.minLength || rule.maxLength)) {[m
[31m-      result = validateLength(value, rule.minLength || 0, rule.maxLength, rule.label || field);[m
[31m-    }[m
[31m-    [m
[31m-    // Custom validation[m
[31m-    if (result.isValid && rule.custom) {[m
[31m-      result = rule.custom(value, data);[m
[31m-    }[m
[31m-    [m
[31m-    if (!result.isValid) {[m
[31m-      errors[field] = result.message;[m
[31m-      isValid = false;[m
[31m-    }[m
[31m-  });[m
[31m-  [m
[31m-  return { isValid, errors };[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Sanitize HTML to prevent XSS[m
[31m- * @param {string} html - HTML string to sanitize[m
[31m- * @returns {string} Sanitized HTML[m
[31m- */[m
[31m-export const sanitizeHTML = (html) => {[m
[31m-  const div = document.createElement('div');[m
[31m-  div.textContent = html;[m
[31m-  return div.innerHTML;[m
[31m-};[m
[31m-[m
[31m-/**[m
[31m- * Validate password match[m
[31m- * @param {string} password - Password[m
[31m- * @param {string} confirmPassword - Confirm password[m
[31m- * @returns {Object} Validation result[m
[31m- */[m
[31m-export const validatePasswordMatch = (password, confirmPassword) => {[m
[31m-  if (!confirmPassword) {[m
[31m-    return { isValid: false, message: 'Please confirm your password' };[m
[31m-  }[m
[31m-  [m
[31m-  if (password !== confirmPassword) {[m
[31m-    return { isValid: false, message: 'Passwords do not match' };[m
[31m-  }[m
[31m-  [m
[31m-  return { isValid: true, message: '' };[m
[31m-};[m
[31m-[m
[31m-export default {[m
[31m-  validateEmail,[m
[31m-  validatePassword,[m
[31m-  validateUsername,[m
[31m-  validateRequired,[m
[31m-  validateLength,[m
[31m-  validateURL,[m
[31m-  validatePhone,[m
[31m-  validateDate,[m
[31m-  validateDateRange,[m
[31m-  validateNumber,[m
[31m-  validateFile,[m
[31m-  validateForm,[m
[31m-  sanitizeHTML,[m
[31m-  validatePasswordMatch,[m
[31m-};[m
[1mdiff --git a/zenai-frontend/tailwind.config.js b/zenai-frontend/tailwind.config.js[m
[1mdeleted file mode 100644[m
[1mindex 569c139..0000000[m
[1m--- a/zenai-frontend/tailwind.config.js[m
[1m+++ /dev/null[m
[36m@@ -1,39 +0,0 @@[m
[31m-/** @type {import('tailwindcss').Config} */[m
[31m-export default {[m
[31m-  content: [[m
[31m-    "./index.html",[m
[31m-    "./src/**/*.{js,ts,jsx,tsx}",[m
[31m-  ],[m
[31m-  theme: {[m
[31m-    extend: {[m
[31m-      colors: {[m
[31m-        primary: {[m
[31m-          50: '#f0f9ff',[m
[31m-          100: '#e0f2fe',[m
[31m-          500: '#0ea5e9',[m
[31m-          600: '#0284c7',[m
[31m-          700: '#0369a1',[m
[31m-        },[m
[31m-        secondary: {[m
[31m-          500: '#8b5cf6',[m
[31m-          600: '#7c3aed',[m
[31m-        }[m
[31m-      },[m
[31m-      animation: {[m
[31m-        'fade-in': 'fadeIn 0.3s ease-in',[m
[31m-        'slide-in': 'slideIn 0.3s ease-out',[m
[31m-      },[m
[31m-      keyframes: {[m
[31m-        fadeIn: {[m
[31m-          '0%': { opacity: '0' },[m
[31m-          '100%': { opacity: '1' },[m
[31m-        },[m
[31m-        slideIn: {[m
[31m-          '0%': { transform: 'translateY(-10px)', opacity: '0' },[m
[31m-          '100%': { transform: 'translateY(0)', opacity: '1' },[m
[31m-        }[m
[31m-      }[m
[31m-    },[m
[31m-  },[m
[31m-  plugins: [],[m
[31m-}[m
\ No newline at end of file[m
[1mdiff --git a/zenai-frontend/vite.config.js b/zenai-frontend/vite.config.js[m
[1mdeleted file mode 100644[m
[1mindex 0814d6b..0000000[m
[1m--- a/zenai-frontend/vite.config.js[m
[1m+++ /dev/null[m
[36m@@ -1,21 +0,0 @@[m
[31m-// vite.config.js[m
[31m-import { defineConfig } from 'vite';[m
[31m-import react from '@vitejs/plugin-react';[m
[31m-[m
[31m-export default defineConfig({[m
[31m-  plugins: [react()],[m
[31m-  server: {[m
[31m-    port: 3000,[m
[31m-    proxy: {[m
[31m-      '/api': {[m
[31m-        target: 'http://localhost:5000',[m
[31m-        changeOrigin: true,[m
[31m-      },[m
[31m-    },[m
[31m-  },[m
[31m-  build: {[m
[31m-    outDir: 'dist',[m
[31m-    sourcemap: false,[m
[31m-    minify: 'terser',[m
[31m-  },[m
[31m-});[m
\ No newline at end of file[m
[1mdiff --git a/zenai-integration-fix (2).md b/zenai-integration-fix (2).md[m
[1mdeleted file mode 100644[m
[1mindex ff3aa30..0000000[m
[1m--- a/zenai-integration-fix (2).md[m	
[1m+++ /dev/null[m
[36m@@ -1,1863 +0,0 @@[m
[31m-# üöÄ ZenAI - Complete Integration & Production Setup[m
[31m-[m
[31m-## üìã Table of Contents[m
[31m-1. [Missing Integration Files](#missing-integration-files)[m
[31m-2. [Production Architecture](#production-architecture)[m
[31m-3. [Deployment Guide](#deployment-guide)[m
[31m-4. [Monitoring & Security](#monitoring--security)[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîß Missing Integration Files[m
[31m-[m
[31m-### **1. AI Service (Bridge Layer)**[m
[31m-```javascript[m
[31m-// src/services/ai.service.js[m
[31m-const ProductManagerAgent = require('../../zenai-ai-engine/src/agents/product-manager.agent');[m
[31m-const TaskAnalyzerAgent = require('../../zenai-ai-engine/src/agents/task-analyzer.agent');[m
[31m-const MeetingSummarizerAgent = require('../../zenai-ai-engine/src/agents/meeting-summarizer.agent');[m
[31m-const WhisperService = require('../../zenai-ai-engine/src/whisper/transcription.service');[m
[31m-const DocumentProcessor = require('../../zenai-ai-engine/src/embeddings/document-processor');[m
[31m-const ChatMessage = require('../models/ChatMessage.model');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class AIService {[m
[31m-  constructor() {[m
[31m-    this.productManager = null;[m
[31m-    this.taskAnalyzer = null;[m
[31m-    this.meetingSummarizer = null;[m
[31m-    this.whisperService = null;[m
[31m-    this.documentProcessor = null;[m
[31m-    this.initialized = false;[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    try {[m
[31m-      // Initialize all AI agents[m
[31m-      this.productManager = new ProductManagerAgent();[m
[31m-      await this.productManager.initialize();[m
[31m-[m
[31m-      this.taskAnalyzer = new TaskAnalyzerAgent();[m
[31m-      await this.taskAnalyzer.initialize();[m
[31m-[m
[31m-      this.meetingSummarizer = new MeetingSummarizerAgent();[m
[31m-[m
[31m-      this.whisperService = new WhisperService();[m
[31m-[m
[31m-      this.documentProcessor = new DocumentProcessor();[m
[31m-      await this.documentProcessor.initialize();[m
[31m-[m
[31m-      this.initialized = true;[m
[31m-      logger.info('AI Service initialized successfully');[m
[31m-    } catch (error) {[m
[31m-      logger.error('AI Service initialization failed:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async chat(userId, message, context = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const startTime = Date.now();[m
[31m-[m
[31m-      // Choose appropriate agent based on context[m
[31m-      let response;[m
[31m-      if (context.type === 'task-analysis') {[m
[31m-        response = await this.taskAnalyzer.run(message, context);[m
[31m-      } else if (context.type === 'project-management') {[m
[31m-        response = await this.productManager.run(message, context);[m
[31m-      } else {[m
[31m-        // Default to product manager for general queries[m
[31m-        response = await this.productManager.chat(message);[m
[31m-      }[m
[31m-[m
[31m-      const responseTime = Date.now() - startTime;[m
[31m-[m
[31m-      // Save conversation to database[m
[31m-      await ChatMessage.create({[m
[31m-        user: userId,[m
[31m-        role: 'user',[m
[31m-        content: message,[m
[31m-        context: {[m
[31m-          projectId: context.projectId,[m
[31m-          taskId: context.taskId[m
[31m-        }[m
[31m-      });[m
[31m-[m
[31m-      await ChatMessage.create({[m
[31m-        user: userId,[m
[31m-        role: 'ai',[m
[31m-        content: response,[m
[31m-        context: {[m
[31m-          projectId: context.projectId,[m
[31m-          taskId: context.taskId[m
[31m-        },[m
[31m-        metadata: {[m
[31m-          model: 'gpt-4',[m
[31m-          responseTime[m
[31m-        }[m
[31m-      });[m
[31m-[m
[31m-      return {[m
[31m-        response,[m
[31m-        metadata: {[m
[31m-          responseTime,[m
[31m-          agent: context.type || 'product-manager'[m
[31m-        }[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('AI Chat error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async createTaskFromDescription(description, projectId, userId) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const taskData = await this.productManager.createTaskFromDescription([m
[31m-        description,[m
[31m-        projectId[m
[31m-      );[m
[31m-[m
[31m-      return {[m
[31m-        success: true,[m
[31m-        task: taskData[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Task creation error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async analyzeTask(task, projectContext) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const analysis = await this.taskAnalyzer.analyzeTask(task, projectContext);[m
[31m-      return analysis;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Task analysis error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async analyzeProject(projectData, tasks) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const health = await this.productManager.analyzeProjectHealth([m
[31m-        projectData,[m
[31m-        tasks[m
[31m-      );[m
[31m-      return health;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Project analysis error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async transcribeAudio(audioFilePath, meetingContext) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const result = await this.meetingSummarizer.transcribeAndSummarize([m
[31m-        audioFilePath,[m
[31m-        meetingContext[m
[31m-      );[m
[31m-      return result;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Transcription error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async indexDocument(content, metadata) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const result = await this.documentProcessor.indexDocument([m
[31m-        content,[m
[31m-        metadata[m
[31m-      );[m
[31m-      return result;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Document indexing error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async searchDocuments(query, options) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const results = await this.documentProcessor.similaritySearch([m
[31m-        query,[m
[31m-        options[m
[31m-      );[m
[31m-      return results;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Document search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async suggestTaskBreakdown(epicTask) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const subtasks = await this.productManager.suggestTaskBreakdown(epicTask);[m
[31m-      return subtasks;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Task breakdown error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async estimateEffort(tasks) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const estimates = await this.taskAnalyzer.estimateEffort(tasks);[m
[31m-      return estimates;[m
[31m-    } catch (error) {[m
[31m-      logger.error('Effort estimation error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-// Singleton instance[m
[31m-const aiService = new AIService();[m
[31m-[m
[31m-module.exports = aiService;[m
[31m-```[m
[31m-[m
[31m-### **2. AI Controller**[m
[31m-```javascript[m
[31m-// src/controllers/ai.controller.js[m
[31m-const aiService = require('../services/ai.service');[m
[31m-const Project = require('../models/Project.model');[m
[31m-const Task = require('../models/Task.model');[m
[31m-const multer = require('multer');[m
[31m-const path = require('path');[m
[31m-const fs = require('fs');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-// Configure multer for file uploads[m
[31m-const storage = multer.diskStorage({[m
[31m-  destination: (req, file, cb) => {[m
[31m-    const uploadDir = path.join(__dirname, '../../uploads/audio');[m
[31m-    if (!fs.existsSync(uploadDir)) {[m
[31m-      fs.mkdirSync(uploadDir, { recursive: true });[m
[31m-    }[m
[31m-    cb(null, uploadDir);[m
[31m-  },[m
[31m-  filename: (req, file, cb) => {[m
[31m-    const uniqueName = `${Date.now()}-${file.originalname}`;[m
[31m-    cb(null, uniqueName);[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-const upload = multer({[m
[31m-  storage,[m
[31m-  limits: { fileSize: 50 * 1024 * 1024 }, // 50MB[m
[31m-  fileFilter: (req, file, cb) => {[m
[31m-    const allowedTypes = /mp3|wav|m4a|mp4|webm|ogg/;[m
[31m-    const extname = allowedTypes.test([m
[31m-      path.extname(file.originalname).toLowerCase()[m
[31m-    );[m
[31m-    const mimetype = allowedTypes.test(file.mimetype);[m
[31m-[m
[31m-    if (mimetype && extname) {[m
[31m-      return cb(null, true);[m
[31m-    }[m
[31m-    cb(new Error('Invalid file type. Only audio files allowed.'));[m
[31m-  }[m
[31m-});[m
[31m-[m
[31m-exports.uploadAudio = upload.single('audio');[m
[31m-[m
[31m-// Chat with AI[m
[31m-exports.chat = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { message, context } = req.body;[m
[31m-    const userId = req.user.userId;[m
[31m-[m
[31m-    if (!message) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Message is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const result = await aiService.chat(userId, message, context);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: result[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Create task from natural language[m
[31m-exports.createTask = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { description, projectId } = req.body;[m
[31m-    const userId = req.user.userId;[m
[31m-[m
[31m-    if (!description || !projectId) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Description and projectId are required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Verify project access[m
[31m-    const project = await Project.findById(projectId);[m
[31m-    if (!project) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const hasAccess = project.owner.toString() === userId ||[m
[31m-                      project.team.some(t => t.user.toString() === userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const result = await aiService.createTaskFromDescription([m
[31m-      description,[m
[31m-      projectId,[m
[31m-      userId[m
[31m-    );[m
[31m-[m
[31m-    // Create actual task in database[m
[31m-    const task = await Task.create({[m
[31m-      ...result.task,[m
[31m-      project: projectId,[m
[31m-      createdBy: userId[m
[31m-    });[m
[31m-[m
[31m-    logger.info(`AI created task: ${task._id} for project: ${projectId}`);[m
[31m-[m
[31m-    res.status(201).json({[m
[31m-      success: true,[m
[31m-      message: 'Task created successfully',[m
[31m-      data: task[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Analyze task complexity and effort[m
[31m-exports.analyzeTask = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { taskId } = req.params;[m
[31m-[m
[31m-    const task = await Task.findById(taskId).populate('project');[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = task.project.owner.toString() === req.user.userId ||[m
[31m-                      task.project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const projectContext = {[m
[31m-      name: task.project.name,[m
[31m-      status: task.project.status,[m
[31m-      priority: task.project.priority[m
[31m-    };[m
[31m-[m
[31m-    const analysis = await aiService.analyzeTask(task, projectContext);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: analysis[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Analyze project health[m
[31m-exports.analyzeProject = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { projectId } = req.params;[m
[31m-[m
[31m-    const project = await Project.findById(projectId);[m
[31m-    if (!project) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Project not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    // Check access[m
[31m-    const hasAccess = project.owner.toString() === req.user.userId ||[m
[31m-                      project.team.some(t => t.user.toString() === req.user.userId);[m
[31m-[m
[31m-    if (!hasAccess) {[m
[31m-      return res.status(403).json({[m
[31m-        success: false,[m
[31m-        message: 'Access denied'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const tasks = await Task.find({ project: projectId });[m
[31m-[m
[31m-    const analysis = await aiService.analyzeProject(project, tasks);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: analysis[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Transcribe audio/meeting[m
[31m-exports.transcribe = async (req, res, next) => {[m
[31m-  try {[m
[31m-    if (!req.file) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Audio file is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const { title, participants } = req.body;[m
[31m-    const audioPath = req.file.path;[m
[31m-[m
[31m-    const meetingContext = {[m
[31m-      title: title || 'Team Meeting',[m
[31m-      participants: participants ? JSON.parse(participants) : [],[m
[31m-      date: new Date().toISOString()[m
[31m-    };[m
[31m-[m
[31m-    const result = await aiService.transcribeAudio(audioPath, meetingContext);[m
[31m-[m
[31m-    // Clean up uploaded file[m
[31m-    fs.unlinkSync(audioPath);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: result[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    // Clean up file on error[m
[31m-    if (req.file && fs.existsSync(req.file.path)) {[m
[31m-      fs.unlinkSync(req.file.path);[m
[31m-    }[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Suggest task breakdown[m
[31m-exports.suggestBreakdown = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { taskId } = req.params;[m
[31m-[m
[31m-    const task = await Task.findById(taskId).populate('project');[m
[31m-    if (!task) {[m
[31m-      return res.status(404).json({[m
[31m-        success: false,[m
[31m-        message: 'Task not found'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const subtasks = await aiService.suggestTaskBreakdown(task);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: subtasks[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Estimate effort for multiple tasks[m
[31m-exports.estimateEffort = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { taskIds } = req.body;[m
[31m-[m
[31m-    if (!Array.isArray(taskIds) || taskIds.length === 0) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Task IDs array is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const tasks = await Task.find({ _id: { $in: taskIds } });[m
[31m-[m
[31m-    const estimates = await aiService.estimateEffort(tasks);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: estimates[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Get chat history[m
[31m-exports.getChatHistory = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { page = 1, limit = 50 } = req.query;[m
[31m-    const userId = req.user.userId;[m
[31m-[m
[31m-    const skip = (page - 1) * limit;[m
[31m-[m
[31m-    const [messages, total] = await Promise.all([[m
[31m-      ChatMessage.find({ user: userId })[m
[31m-        .sort({ createdAt: -1 })[m
[31m-        .skip(skip)[m
[31m-        .limit(parseInt(limit)),[m
[31m-      ChatMessage.countDocuments({ user: userId })[m
[31m-    ]);[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: {[m
[31m-        messages: messages.reverse(), // Reverse to show oldest first[m
[31m-        pagination: {[m
[31m-          page: parseInt(page),[m
[31m-          limit: parseInt(limit),[m
[31m-          total,[m
[31m-          pages: Math.ceil(total / limit)[m
[31m-        }[m
[31m-      }[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Index document for RAG[m
[31m-exports.indexDocument = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { content, metadata } = req.body;[m
[31m-[m
[31m-    if (!content) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Content is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const result = await aiService.indexDocument(content, {[m
[31m-      ...metadata,[m
[31m-      userId: req.user.userId,[m
[31m-      indexedAt: new Date()[m
[31m-    });[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: result[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-[m
[31m-// Search documents[m
[31m-exports.searchDocuments = async (req, res, next) => {[m
[31m-  try {[m
[31m-    const { query, limit = 5 } = req.query;[m
[31m-[m
[31m-    if (!query) {[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Search query is required'[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    const results = await aiService.searchDocuments(query, {[m
[31m-      limit: parseInt(limit),[m
[31m-      filter: { userId: req.user.userId }[m
[31m-    });[m
[31m-[m
[31m-    res.json({[m
[31m-      success: true,[m
[31m-      data: results[m
[31m-    });[m
[31m-  } catch (error) {[m
[31m-    next(error);[m
[31m-  }[m
[31m-};[m
[31m-```[m
[31m-[m
[31m-### **3. AI Routes**[m
[31m-```javascript[m
[31m-// src/routes/ai.routes.js[m
[31m-const express = require('express');[m
[31m-const router = express.Router();[m
[31m-const aiController = require('../controllers/ai.controller');[m
[31m-const { authenticate } = require('../middleware/auth.middleware');[m
[31m-const { aiLimiter } = require('../middleware/rateLimiter.middleware');[m
[31m-[m
[31m-// Apply authentication and rate limiting to all routes[m
[31m-router.use(authenticate);[m
[31m-router.use(aiLimiter);[m
[31m-[m
[31m-// Chat endpoints[m
[31m-router.post('/chat', aiController.chat);[m
[31m-router.get('/chat/history', aiController.getChatHistory);[m
[31m-[m
[31m-// Task AI endpoints[m
[31m-router.post('/tasks/create', aiController.createTask);[m
[31m-router.get('/tasks/:taskId/analyze', aiController.analyzeTask);[m
[31m-router.get('/tasks/:taskId/breakdown', aiController.suggestBreakdown);[m
[31m-router.post('/tasks/estimate', aiController.estimateEffort);[m
[31m-[m
[31m-// Project AI endpoints[m
[31m-router.get('/projects/:projectId/analyze', aiController.analyzeProject);[m
[31m-[m
[31m-// Audio/Meeting endpoints[m
[31m-router.post([m
[31m-  '/transcribe',[m
[31m-  aiController.uploadAudio,[m
[31m-  aiController.transcribe[m
[31m-);[m
[31m-[m
[31m-// RAG endpoints[m
[31m-router.post('/documents/index', aiController.indexDocument);[m
[31m-router.get('/documents/search', aiController.searchDocuments);[m
[31m-[m
[31m-module.exports = router;[m
[31m-```[m
[31m-[m
[31m-### **4. Update Main App**[m
[31m-```javascript[m
[31m-// src/app.js - Add AI routes[m
[31m-const aiRoutes = require('./routes/ai.routes');[m
[31m-[m
[31m-// ... existing code ...[m
[31m-[m
[31m-// Mount routes[m
[31m-app.use('/api/v1/auth', authRoutes);[m
[31m-app.use('/api/v1/projects', projectRoutes);[m
[31m-app.use('/api/v1/tasks', taskRoutes);[m
[31m-app.use('/api/v1/ai', aiRoutes); // ADD THIS LINE[m
[31m-app.use('/api/v1/users', userRoutes);[m
[31m-app.use('/api/v1/analytics', analyticsRoutes);[m
[31m-[m
[31m-// ... rest of the code ...[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üèóÔ∏è Production Architecture[m
[31m-[m
[31m-### **Production File Structure**[m
[31m-```[m
[31m-zenai-production/[m
[31m-‚îú‚îÄ‚îÄ docker-compose.yml[m
[31m-‚îú‚îÄ‚îÄ docker-compose.prod.yml[m
[31m-‚îú‚îÄ‚îÄ nginx/[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf[m
[31m-‚îÇ   ‚îî‚îÄ‚îÄ ssl/[m
[31m-‚îú‚îÄ‚îÄ backend/[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ .env.production[m
[31m-‚îÇ   ‚îî‚îÄ‚îÄ [backend files][m
[31m-‚îú‚îÄ‚îÄ ai-engine/[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile[m
[31m-‚îÇ   ‚îî‚îÄ‚îÄ [ai-engine files][m
[31m-‚îú‚îÄ‚îÄ frontend/[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile[m
[31m-‚îÇ   ‚îî‚îÄ‚îÄ [frontend files][m
[31m-‚îú‚îÄ‚îÄ scripts/[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh[m
[31m-‚îÇ   ‚îú‚îÄ‚îÄ backup.sh[m
[31m-‚îÇ   ‚îî‚îÄ‚îÄ restore.sh[m
[31m-‚îî‚îÄ‚îÄ monitoring/[m
[31m-    ‚îú‚îÄ‚îÄ prometheus.yml[m
[31m-    ‚îî‚îÄ‚îÄ grafana/[m
[31m-```[m
[31m-[m
[31m-### **Docker Compose - Production**[m
[31m-```yaml[m
[31m-# docker-compose.prod.yml[m
[31m-version: '3.8'[m
[31m-[m
[31m-services:[m
[31m-  nginx:[m
[31m-    image: nginx:alpine[m
[31m-    container_name: zenai-nginx[m
[31m-    ports:[m
[31m-      - "80:80"[m
[31m-      - "443:443"[m
[31m-    volumes:[m
[31m-      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro[m
[31m-      - ./nginx/ssl:/etc/nginx/ssl:ro[m
[31m-      - ./frontend/build:/usr/share/nginx/html:ro[m
[31m-    depends_on:[m
[31m-      - backend[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-[m
[31m-  backend:[m
[31m-    build:[m
[31m-      context: ./backend[m
[31m-      dockerfile: Dockerfile[m
[31m-    container_name: zenai-backend[m
[31m-    environment:[m
[31m-      - NODE_ENV=production[m
[31m-      - MONGODB_URI=${MONGODB_URI}[m
[31m-      - REDIS_HOST=redis[m
[31m-      - REDIS_PORT=6379[m
[31m-    env_file:[m
[31m-      - ./backend/.env.production[m
[31m-    depends_on:[m
[31m-      - mongodb[m
[31m-      - redis[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-    deploy:[m
[31m-      replicas: 3[m
[31m-      resources:[m
[31m-        limits:[m
[31m-          cpus: '2'[m
[31m-          memory: 2G[m
[31m-[m
[31m-  ai-engine:[m
[31m-    build:[m
[31m-      context: ./ai-engine[m
[31m-      dockerfile: Dockerfile[m
[31m-    container_name: zenai-ai-engine[m
[31m-    environment:[m
[31m-      - NODE_ENV=production[m
[31m-      - OPENAI_API_KEY=${OPENAI_API_KEY}[m
[31m-    env_file:[m
[31m-      - ./ai-engine/.env.production[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-    deploy:[m
[31m-      resources:[m
[31m-        limits:[m
[31m-          cpus: '4'[m
[31m-          memory: 4G[m
[31m-[m
[31m-  mongodb:[m
[31m-    image: mongo:6[m
[31m-    container_name: zenai-mongodb[m
[31m-    environment:[m
[31m-      - MONGO_INITDB_ROOT_USERNAME=${MONGO_USERNAME}[m
[31m-      - MONGO_INITDB_ROOT_PASSWORD=${MONGO_PASSWORD}[m
[31m-    volumes:[m
[31m-      - mongodb-data:/data/db[m
[31m-      - mongodb-config:/data/configdb[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-    deploy:[m
[31m-      resources:[m
[31m-        limits:[m
[31m-          cpus: '2'[m
[31m-          memory: 4G[m
[31m-[m
[31m-  redis:[m
[31m-    image: redis:7-alpine[m
[31m-    container_name: zenai-redis[m
[31m-    command: redis-server --requirepass ${REDIS_PASSWORD}[m
[31m-    volumes:[m
[31m-      - redis-data:/data[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-[m
[31m-  prometheus:[m
[31m-    image: prom/prometheus:latest[m
[31m-    container_name: zenai-prometheus[m
[31m-    volumes:[m
[31m-      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml[m
[31m-      - prometheus-data:/prometheus[m
[31m-    command:[m
[31m-      - '--config.file=/etc/prometheus/prometheus.yml'[m
[31m-      - '--storage.tsdb.path=/prometheus'[m
[31m-    ports:[m
[31m-      - "9090:9090"[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-[m
[31m-  grafana:[m
[31m-    image: grafana/grafana:latest[m
[31m-    container_name: zenai-grafana[m
[31m-    environment:[m
[31m-      - GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_PASSWORD}[m
[31m-    volumes:[m
[31m-      - grafana-data:/var/lib/grafana[m
[31m-    ports:[m
[31m-      - "3001:3000"[m
[31m-    networks:[m
[31m-      - zenai-network[m
[31m-    restart: unless-stopped[m
[31m-[m
[31m-networks:[m
[31m-  zenai-network:[m
[31m-    driver: bridge[m
[31m-[m
[31m-volumes:[m
[31m-  mongodb-data:[m
[31m-  mongodb-config:[m
[31m-  redis-data:[m
[31m-  prometheus-data:[m
[31m-  grafana-data:[m
[31m-```[m
[31m-[m
[31m-### **Nginx Configuration**[m
[31m-```nginx[m
[31m-# nginx/nginx.conf[m
[31m-upstream backend {[m
[31m-    least_conn;[m
[31m-    server backend:5000 max_fails=3 fail_timeout=30s;[m
[31m-}[m
[31m-[m
[31m-# Rate limiting[m
[31m-limit_req_zone $binary_remote_addr zone=api_limit:10m rate=10r/s;[m
[31m-limit_req_zone $binary_remote_addr zone=auth_limit:10m rate=5r/m;[m
[31m-[m
[31m-server {[m
[31m-    listen 80;[m
[31m-    server_name your-domain.com;[m
[31m-[m
[31m-    # Redirect to HTTPS[m
[31m-    return 301 https://$server_name$request_uri;[m
[31m-}[m
[31m-[m
[31m-server {[m
[31m-    listen 443 ssl http2;[m
[31m-    server_name your-domain.com;[m
[31m-[m
[31m-    # SSL Configuration[m
[31m-    ssl_certificate /etc/nginx/ssl/cert.pem;[m
[31m-    ssl_certificate_key /etc/nginx/ssl/key.pem;[m
[31m-    ssl_protocols TLSv1.2 TLSv1.3;[m
[31m-    ssl_ciphers HIGH:!aNULL:!MD5;[m
[31m-    ssl_prefer_server_ciphers on;[m
[31m-[m
[31m-    # Security Headers[m
[31m-    add_header X-Frame-Options "SAMEORIGIN" always;[m
[31m-    add_header X-Content-Type-Options "nosniff" always;[m
[31m-    add_header X-XSS-Protection "1; mode=block" always;[m
[31m-    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;[m
[31m-[m
[31m-    # Frontend[m
[31m-    location / {[m
[31m-        root /usr/share/nginx/html;[m
[31m-        try_files $uri $uri/ /index.html;[m
[31m-        [m
[31m-        # Cache static assets[m
[31m-        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {[m
[31m-            expires 1y;[m
[31m-            add_header Cache-Control "public, immutable";[m
[31m-        }[m
[31m-    }[m
[31m-[m
[31m-    # API Proxy[m
[31m-    location /api/ {[m
[31m-        limit_req zone=api_limit burst=20 nodelay;[m
[31m-        [m
[31m-        proxy_pass http://backend;[m
[31m-        proxy_http_version 1.1;[m
[31m-        proxy_set_header Upgrade $http_upgrade;[m
[31m-        proxy_set_header Connection 'upgrade';[m
[31m-        proxy_set_header Host $host;[m
[31m-        proxy_set_header X-Real-IP $remote_addr;[m
[31m-        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;[m
[31m-        proxy_set_header X-Forwarded-Proto $scheme;[m
[31m-        proxy_cache_bypass $http_upgrade;[m
[31m-        [m
[31m-        # Timeouts[m
[31m-        proxy_connect_timeout 60s;[m
[31m-        proxy_send_timeout 60s;[m
[31m-        proxy_read_timeout 60s;[m
[31m-    }[m
[31m-[m
[31m-    # Auth endpoints - stricter rate limit[m
[31m-    location /api/v1/auth/ {[m
[31m-        limit_req zone=auth_limit burst=5 nodelay;[m
[31m-        [m
[31m-        proxy_pass http://backend;[m
[31m-        proxy_set_header Host $host;[m
[31m-        proxy_set_header X-Real-IP $remote_addr;[m
[31m-        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;[m
[31m-    }[m
[31m-[m
[31m-    # WebSocket support[m
[31m-    location /socket.io/ {[m
[31m-        proxy_pass http://backend;[m
[31m-        proxy_http_version 1.1;[m
[31m-        proxy_set_header Upgrade $http_upgrade;[m
[31m-        proxy_set_header Connection "upgrade";[m
[31m-        proxy_set_header Host $host;[m
[31m-    }[m
[31m-[m
[31m-    # Health check[m
[31m-    location /health {[m
[31m-        access_log off;[m
[31m-        return 200 "healthy\n";[m
[31m-        add_header Content-Type text/plain;[m
[31m-    }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **Backend Dockerfile**[m
[31m-```dockerfile[m
[31m-# backend/Dockerfile[m
[31m-FROM node:18-alpine AS builder[m
[31m-[m
[31m-WORKDIR /app[m
[31m-[m
[31m-# Copy package files[m
[31m-COPY package*.json ./[m
[31m-[m
[31m-# Install dependencies[m
[31m-RUN npm ci --only=production && npm cache clean --force[m
[31m-[m
[31m-# Copy application files[m
[31m-COPY . .[m
[31m-[m
[31m-# Production stage[m
[31m-FROM node:18-alpine[m
[31m-[m
[31m-WORKDIR /app[m
[31m-[m
[31m-# Copy from builder[m
[31m-COPY --from=builder /app/node_modules ./node_modules[m
[31m-COPY --from=builder /app ./[m
[31m-[m
[31m-# Create non-root user[m
[31m-RUN addgroup -g 1001 -S nodejs && \[m
[31m-    adduser -S nodejs -u 1001 && \[m
[31m-    chown -R nodejs:nodejs /app[m
[31m-[m
[31m-USER nodejs[m
[31m-[m
[31m-EXPOSE 5000[m
[31m-[m
[31m-# Health check[m
[31m-HEALTHCHECK --interval=30s --timeout=3s --start-period=40s --retries=3 \[m
[31m-  CMD node -e "require('http').get('http://localhost:5000/health', (r) => {process.exit(r.statusCode === 200 ? 0 : 1)})"[m
[31m-[m
[31m-CMD ["node", "src/server.js"][m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üöÄ Deployment Guide[m
[31m-[m
[31m-### **1. Environment Setup**[m
[31m-```bash[m
[31m-# Create production environment file[m
[31m-cat > backend/.env.production << EOF[m
[31m-NODE_ENV=production[m
[31m-PORT=5000[m
[31m-MONGODB_URI=mongodb://username:password@mongodb:27017/zenai?authSource=admin[m
[31m-REDIS_HOST=redis[m
[31m-REDIS_PORT=6379[m
[31m-REDIS_PASSWORD=your-redis-password[m
[31m-JWT_SECRET=$(openssl rand -base64 32)[m
[31m-JWT_REFRESH_SECRET=$(openssl rand -base64 32)[m
[31m-OPENAI_API_KEY=sk-your-openai-key[m
[31m-PINECONE_API_KEY=your-pinecone-key[m
[31m-CORS_ORIGIN=https://your-domain.com[m
[31m-EOF[m
[31m-```[m
[31m-[m
[31m-### **2. SSL Certificate Setup (Let's Encrypt)**[m
[31m-```bash[m
[31m-# Install certbot[m
[31m-sudo apt-get update[m
[31m-sudo apt-get install certbot[m
[31m-[m
[31m-# Generate certificate[m
[31m-sudo certbot certonly --standalone -d your-domain.com[m
[31m-[m
[31m-# Copy certificates[m
[31m-sudo cp /etc/letsencrypt/live/your-domain.com/fullchain.pem nginx/ssl/cert.pem[m
[31m-sudo cp /etc/letsencrypt/live/your-domain.com/privkey.pem nginx/ssl/key.pem[m
[31m-```[m
[31m-[m
[31m-### **3. Deploy Script**[m
[31m-```bash[m
[31m-# scripts/deploy.sh[m
[31m-#!/bin/bash[m
[31m-[m
[31m-set -e[m
[31m-[m
[31m-echo "üöÄ Starting ZenAI Production Deployment..."[m
[31m-[m
[31m-# Pull latest code[m
[31m-git pull origin main[m
[31m-[m
[31m-# Build and start services[m
[31m-docker-compose -f docker-compose.prod.yml build[m
[31m-docker-compose -f docker-compose.prod.yml up -d[m
[31m-[m
[31m-# Wait for services to be healthy[m
[31m-echo "‚è≥ Waiting for services to be healthy..."[m
[31m-sleep 30[m
[31m-[m
[31m-# Run database migrations[m
[31m-docker-compose -f docker-compose.prod.yml exec backend npm run migrate[m
[31m-[m
[31m-# Check health[m
[31m-echo "üè• Checking service health..."[m
[31m-curl -f http://localhost/health || exit 1[m
[31m-[m
[31m-echo "‚úÖ Deployment completed successfully!"[m
[31m-```[m
[31m-[m
[31m-### **4. Database Backup Script**[m
[31m-```bash[m
[31m-# scripts/backup.sh[m
[31m-#!/bin/bash[m
[31m-[m
[31m-BACKUP_DIR="/backups/mongodb"[m
[31m-DATE=$(date +%Y%m%d_%H%M%S)[m
[31m-[m
[31m-mkdir -p $BACKUP_DIR[m
[31m-[m
[31m-# Backup MongoDB[m
[31m-docker-compose -f docker-compose.prod.yml exec -T mongodb \[m
[31m-  mongodump --username $MONGO_USERNAME --password $MONGO_PASSWORD \[m
[31m-  --authenticationDatabase admin --archive > $BACKUP_DIR/backup_$DATE.archive[m
[31m-[m
[31m-# Compress[m
[31m-gzip $BACKUP_DIR/backup_$DATE.archive[m
[31m-[m
[31m-# Keep only last 7 days of backups[m
[31m-find $BACKUP_DIR -name "backup_*.archive.gz" -mtime +7 -delete[m
[31m-[m
[31m-echo "Backup completed: backup_$DATE.archive.gz"[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìä Monitoring & Security[m
[31m-[m
[31m-### **Prometheus Configuration**[m
[31m-```yaml[m
[31m-# monitoring/prometheus.yml[m
[31m-global:[m
[31m-  scrape_interval: 15s[m
[31m-  evaluation_interval: 15s[m
[31m-[m
[31m-scrape_configs:[m
[31m-  - job_name: 'backend'[m
[31m-    static_configs:[m
[31m-      - targets: ['backend:5000'][m
[31m-    [m
[31m-  - job_name: 'nginx'[m
[31m-    static_configs:[m
[31m-      - targets: ['nginx:9113'][m
[31m-    [m
[31m-  - job_name: 'mongodb'[m
[31m-    static_configs:[m
[31m-      - targets: ['mongodb-exporter:9216'][m
[31m-    [m
[31m-  - job_name: 'redis'[m
[31m-    static_configs:[m
[31m-      - targets: ['redis-exporter:9121'][m
[31m-```[m
[31m-[m
[31m-### **Application Monitoring (Backend)**[m
[31m-```javascript[m
[31m-// src/utils/metrics.js[m
[31m-const client = require('prom-client');[m
[31m-[m
[31m-// Create metrics[m
[31m-const register = new client.Registry();[m
[31m-[m
[31m-const httpRequestDuration = new client.Histogram({[m
[31m-  name: 'http_request_duration_seconds',[m
[31m-  help: 'Duration of HTTP requests in seconds',[m
[31m-  labelNames: ['method', 'route', 'status_code'],[m
[31m-  buckets: [0.1, 0.5, 1, 2, 5][m
[31m-});[m
[31m-[m
[31m-const aiRequestCounter = new client.Counter({[m
[31m-  name: 'ai_requests_total',[m
[31m-  help: 'Total number of AI requests',[m
[31m-  labelNames: ['agent', 'status'][m
[31m-});[m
[31m-[m
[31m-const aiRequestDuration = new client.Histogram({[m
[31m-  name: 'ai_request_duration_seconds',[m
[31m-  help: 'Duration of AI requests in seconds',[m
[31m-  labelNames: ['agent'],[m
[31m-  buckets: [1, 3, 5, 10, 30][m
[31m-});[m
[31m-[m
[31m-const activeConnections = new client.Gauge({[m
[31m-  name: 'active_connections',[m
[31m-  help: 'Number of active connections'[m
[31m-});[m
[31m-[m
[31m-// Register metrics[m
[31m-register.registerMetric(httpRequestDuration);[m
[31m-register.registerMetric(aiRequestCounter);[m
[31m-register.registerMetric(aiRequestDuration);[m
[31m-register.registerMetric(activeConnections);[m
[31m-[m
[31m-// Enable default metrics[m
[31m-client.collectDefaultMetrics({ register });[m
[31m-[m
[31m-module.exports = {[m
[31m-  register,[m
[31m-  httpRequestDuration,[m
[31m-  aiRequestCounter,[m
[31m-  aiRequestDuration,[m
[31m-  activeConnections[m
[31m-};[m
[31m-```[m
[31m-[m
[31m-### **Metrics Middleware**[m
[31m-```javascript[m
[31m-// src/middleware/metrics.middleware.js[m
[31m-const { httpRequestDuration, activeConnections } = require('../utils/metrics');[m
[31m-[m
[31m-exports.metricsMiddleware = (req, res, next) => {[m
[31m-  const start = Date.now();[m
[31m-  [m
[31m-  activeConnections.inc();[m
[31m-  [m
[31m-  res.on('finish', () => {[m
[31m-    const duration = (Date.now() - start) / 1000;[m
[31m-    [m
[31m-    httpRequestDuration[m
[31m-      .labels(req.method, req.route?.path || req.path, res.statusCode)[m
[31m-      .observe(duration);[m
[31m-    [m
[31m-    activeConnections.dec();[m
[31m-  });[m
[31m-  [m
[31m-  next();[m
[31m-};[m
[31m-[m
[31m-// Metrics endpoint[m
[31m-exports.getMetrics = async (req, res) => {[m
[31m-  res.set('Content-Type', register.contentType);[m
[31m-  res.end(await register.metrics());[m
[31m-};[m
[31m-```[m
[31m-[m
[31m-### **Enhanced Logger with Production Settings**[m
[31m-```javascript[m
[31m-// src/utils/logger.js[m
[31m-const winston = require('winston');[m
[31m-const DailyRotateFile = require('winston-daily-rotate-file');[m
[31m-[m
[31m-const logFormat = winston.format.combine([m
[31m-  winston.format.timestamp(),[m
[31m-  winston.format.errors({ stack: true }),[m
[31m-  winston.format.json()[m
[31m-);[m
[31m-[m
[31m-const logger = winston.createLogger({[m
[31m-  level: process.env.LOG_LEVEL || 'info',[m
[31m-  format: logFormat,[m
[31m-  defaultMeta: { service: 'zenai-backend' },[m
[31m-  transports: [[m
[31m-    // Error logs[m
[31m-    new DailyRotateFile({[m
[31m-      filename: 'logs/error-%DATE%.log',[m
[31m-      datePattern: 'YYYY-MM-DD',[m
[31m-      level: 'error',[m
[31m-      maxSize: '20m',[m
[31m-      maxFiles: '14d',[m
[31m-      zippedArchive: true[m
[31m-    }),[m
[31m-    [m
[31m-    // Combined logs[m
[31m-    new DailyRotateFile({[m
[31m-      filename: 'logs/combined-%DATE%.log',[m
[31m-      datePattern: 'YYYY-MM-DD',[m
[31m-      maxSize: '20m',[m
[31m-      maxFiles: '14d',[m
[31m-      zippedArchive: true[m
[31m-    })[m
[31m-  ][m
[31m-});[m
[31m-[m
[31m-// Console logging in development[m
[31m-if (process.env.NODE_ENV !== 'production') {[m
[31m-  logger.add(new winston.transports.Console({[m
[31m-    format: winston.format.combine([m
[31m-      winston.format.colorize(),[m
[31m-      winston.format.simple()[m
[31m-    )[m
[31m-  }));[m
[31m-}[m
[31m-[m
[31m-module.exports = logger;[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîê Security Enhancements[m
[31m-[m
[31m-### **Security Middleware**[m
[31m-```javascript[m
[31m-// src/middleware/security.middleware.js[m
[31m-const helmet = require('helmet');[m
[31m-const mongoSanitize = require('express-mongo-sanitize');[m
[31m-const xss = require('xss-clean');[m
[31m-const hpp = require('hpp');[m
[31m-[m
[31m-exports.securityMiddleware = [[m
[31m-  // Helmet - Security headers[m
[31m-  helmet({[m
[31m-    contentSecurityPolicy: {[m
[31m-      directives: {[m
[31m-        defaultSrc: ["'self'"],[m
[31m-        styleSrc: ["'self'", "'unsafe-inline'"],[m
[31m-        scriptSrc: ["'self'"],[m
[31m-        imgSrc: ["'self'", "data:", "https:"],[m
[31m-        connectSrc: ["'self'", "https://api.openai.com"][m
[31m-      }[m
[31m-    },[m
[31m-    hsts: {[m
[31m-      maxAge: 31536000,[m
[31m-      includeSubDomains: true,[m
[31m-      preload: true[m
[31m-    }[m
[31m-  }),[m
[31m-  [m
[31m-  // Sanitize data against NoSQL injection[m
[31m-  mongoSanitize(),[m
[31m-  [m
[31m-  // Prevent XSS attacks[m
[31m-  xss(),[m
[31m-  [m
[31m-  // Prevent HTTP Parameter Pollution[m
[31m-  hpp({[m
[31m-    whitelist: ['status', 'priority', 'tags'][m
[31m-  })[m
[31m-];[m
[31m-```[m
[31m-[m
[31m-### **API Key Management**[m
[31m-```javascript[m
[31m-// src/middleware/apiKey.middleware.js[m
[31m-const crypto = require('crypto');[m
[31m-const { cache } = require('../config/redis');[m
[31m-[m
[31m-class APIKeyManager {[m
[31m-  static generateAPIKey(userId) {[m
[31m-    const key = `zn_${crypto.randomBytes(32).toString('hex')}`;[m
[31m-    return key;[m
[31m-  }[m
[31m-[m
[31m-  static async validateAPIKey(key) {[m
[31m-    // Check cache first[m
[31m-    const cachedUserId = await cache.get(`apikey:${key}`);[m
[31m-    if (cachedUserId) {[m
[31m-      return cachedUserId;[m
[31m-    }[m
[31m-[m
[31m-    // Check database[m
[31m-    const apiKey = await APIKey.findOne({ key, isActive: true });[m
[31m-    if (!apiKey) {[m
[31m-      return null;[m
[31m-    }[m
[31m-[m
[31m-    // Update last used[m
[31m-    apiKey.lastUsed = new Date();[m
[31m-    await apiKey.save();[m
[31m-[m
[31m-    // Cache for 1 hour[m
[31m-    await cache.set(`apikey:${key}`, apiKey.userId, 3600);[m
[31m-[m
[31m-    return apiKey.userId;[m
[31m-  }[m
[31m-[m
[31m-  static middleware() {[m
[31m-    return async (req, res, next) => {[m
[31m-      const apiKey = req.headers['x-api-key'];[m
[31m-[m
[31m-      if (!apiKey) {[m
[31m-        return res.status(401).json({[m
[31m-          success: false,[m
[31m-          message: 'API key required'[m
[31m-        });[m
[31m-      }[m
[31m-[m
[31m-      const userId = await APIKeyManager.validateAPIKey(apiKey);[m
[31m-[m
[31m-      if (!userId) {[m
[31m-        return res.status(401).json({[m
[31m-          success: false,[m
[31m-          message: 'Invalid API key'[m
[31m-        });[m
[31m-      }[m
[31m-[m
[31m-      req.user = { userId };[m
[31m-      next();[m
[31m-    };[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = APIKeyManager;[m
[31m-```[m
[31m-[m
[31m-### **Input Validation Schema**[m
[31m-```javascript[m
[31m-// src/middleware/validation.middleware.js[m
[31m-const Joi = require('joi');[m
[31m-[m
[31m-const schemas = {[m
[31m-  chat: Joi.object({[m
[31m-    message: Joi.string().required().max(5000),[m
[31m-    context: Joi.object({[m
[31m-      type: Joi.string().valid('task-analysis', 'project-management'),[m
[31m-      projectId: Joi.string().length(24).hex(),[m
[31m-      taskId: Joi.string().length(24).hex()[m
[31m-    })[m
[31m-  }),[m
[31m-[m
[31m-  createTask: Joi.object({[m
[31m-    description: Joi.string().required().min(10).max(5000),[m
[31m-    projectId: Joi.string().required().length(24).hex()[m
[31m-  }),[m
[31m-[m
[31m-  transcribe: Joi.object({[m
[31m-    title: Joi.string().max(200),[m
[31m-    participants: Joi.array().items(Joi.string())[m
[31m-  })[m
[31m-};[m
[31m-[m
[31m-exports.validate = (schemaName) => {[m
[31m-  return (req, res, next) => {[m
[31m-    const schema = schemas[schemaName];[m
[31m-    [m
[31m-    if (!schema) {[m
[31m-      return next();[m
[31m-    }[m
[31m-[m
[31m-    const { error } = schema.validate(req.body, {[m
[31m-      abortEarly: false,[m
[31m-      stripUnknown: true[m
[31m-    });[m
[31m-[m
[31m-    if (error) {[m
[31m-      const errors = error.details.map(detail => ({[m
[31m-        field: detail.path.join('.'),[m
[31m-        message: detail.message[m
[31m-      }));[m
[31m-[m
[31m-      return res.status(400).json({[m
[31m-        success: false,[m
[31m-        message: 'Validation failed',[m
[31m-        errors[m
[31m-      });[m
[31m-    }[m
[31m-[m
[31m-    next();[m
[31m-  };[m
[31m-};[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üß™ Testing Setup[m
[31m-[m
[31m-### **Integration Tests**[m
[31m-```javascript[m
[31m-// tests/integration/ai.test.js[m
[31m-const request = require('supertest');[m
[31m-const app = require('../../src/app');[m
[31m-const User = require('../../src/models/User.model');[m
[31m-const Project = require('../../src/models/Project.model');[m
[31m-const { generateAccessToken } = require('../../src/config/jwt');[m
[31m-[m
[31m-describe('AI Endpoints', () => {[m
[31m-  let token;[m
[31m-  let userId;[m
[31m-  let projectId;[m
[31m-[m
[31m-  beforeAll(async () => {[m
[31m-    // Create test user[m
[31m-    const user = await User.create({[m
[31m-      name: 'Test User',[m
[31m-      email: 'test@example.com',[m
[31m-      password: 'password123'[m
[31m-    });[m
[31m-    userId = user._id;[m
[31m-    token = generateAccessToken(userId);[m
[31m-[m
[31m-    // Create test project[m
[31m-    const project = await Project.create({[m
[31m-      name: 'Test Project',[m
[31m-      owner: userId[m
[31m-    });[m
[31m-    projectId = project._id;[m
[31m-  });[m
[31m-[m
[31m-  describe('POST /api/v1/ai/chat', () => {[m
[31m-    it('should respond to chat message', async () => {[m
[31m-      const response = await request(app)[m
[31m-        .post('/api/v1/ai/chat')[m
[31m-        .set('Authorization', `Bearer ${token}`)[m
[31m-        .send({[m
[31m-          message: 'Create a task for implementing user authentication',[m
[31m-          context: {[m
[31m-            type: 'project-management',[m
[31m-            projectId: projectId.toString()[m
[31m-          }[m
[31m-        });[m
[31m-[m
[31m-      expect(response.status).toBe(200);[m
[31m-      expect(response.body.success).toBe(true);[m
[31m-      expect(response.body.data.response).toBeDefined();[m
[31m-    });[m
[31m-[m
[31m-    it('should reject without authentication', async () => {[m
[31m-      const response = await request(app)[m
[31m-        .post('/api/v1/ai/chat')[m
[31m-        .send({ message: 'Hello' });[m
[31m-[m
[31m-      expect(response.status).toBe(401);[m
[31m-    });[m
[31m-[m
[31m-    it('should reject empty message', async () => {[m
[31m-      const response = await request(app)[m
[31m-        .post('/api/v1/ai/chat')[m
[31m-        .set('Authorization', `Bearer ${token}`)[m
[31m-        .send({ message: '' });[m
[31m-[m
[31m-      expect(response.status).toBe(400);[m
[31m-    });[m
[31m-  });[m
[31m-[m
[31m-  describe('POST /api/v1/ai/tasks/create', () => {[m
[31m-    it('should create task from description', async () => {[m
[31m-      const response = await request(app)[m
[31m-        .post('/api/v1/ai/tasks/create')[m
[31m-        .set('Authorization', `Bearer ${token}`)[m
[31m-        .send({[m
[31m-          description: 'Implement user login with JWT authentication',[m
[31m-          projectId: projectId.toString()[m
[31m-        });[m
[31m-[m
[31m-      expect(response.status).toBe(201);[m
[31m-      expect(response.body.success).toBe(true);[m
[31m-      expect(response.body.data.title).toBeDefined();[m
[31m-      expect(response.body.data.priority).toBeDefined();[m
[31m-    });[m
[31m-  });[m
[31m-[m
[31m-  afterAll(async () => {[m
[31m-    await User.deleteMany({});[m
[31m-    await Project.deleteMany({});[m
[31m-  });[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-### **Load Testing Script**[m
[31m-```javascript[m
[31m-// tests/load/load-test.js[m
[31m-const autocannon = require('autocannon');[m
[31m-[m
[31m-async function runLoadTest() {[m
[31m-  const result = await autocannon({[m
[31m-    url: 'http://localhost:5000',[m
[31m-    connections: 100,[m
[31m-    duration: 30,[m
[31m-    pipelining: 10,[m
[31m-    requests: [[m
[31m-      {[m
[31m-        method: 'POST',[m
[31m-        path: '/api/v1/auth/login',[m
[31m-        headers: {[m
[31m-          'Content-Type': 'application/json'[m
[31m-        },[m
[31m-        body: JSON.stringify({[m
[31m-          email: 'test@example.com',[m
[31m-          password: 'password123'[m
[31m-        })[m
[31m-      },[m
[31m-      {[m
[31m-        method: 'GET',[m
[31m-        path: '/api/v1/projects',[m
[31m-        headers: {[m
[31m-          'Authorization': 'Bearer YOUR_TOKEN'[m
[31m-        }[m
[31m-      }[m
[31m-    ][m
[31m-  });[m
[31m-[m
[31m-  console.log('Load Test Results:');[m
[31m-  console.log(`Requests: ${result.requests.total}`);[m
[31m-  console.log(`Throughput: ${result.throughput.average} req/sec`);[m
[31m-  console.log(`Latency: ${result.latency.mean}ms`);[m
[31m-  console.log(`Errors: ${result.errors}`);[m
[31m-}[m
[31m-[m
[31m-runLoadTest();[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üöÄ CI/CD Pipeline[m
[31m-[m
[31m-### **GitHub Actions Workflow**[m
[31m-```yaml[m
[31m-# .github/workflows/deploy.yml[m
[31m-name: Deploy to Production[m
[31m-[m
[31m-on:[m
[31m-  push:[m
[31m-    branches: [main][m
[31m-  workflow_dispatch:[m
[31m-[m
[31m-jobs:[m
[31m-  test:[m
[31m-    runs-on: ubuntu-latest[m
[31m-    [m
[31m-    services:[m
[31m-      mongodb:[m
[31m-        image: mongo:6[m
[31m-        ports:[m
[31m-          - 27017:27017[m
[31m-      [m
[31m-      redis:[m
[31m-        image: redis:7-alpine[m
[31m-        ports:[m
[31m-          - 6379:6379[m
[31m-    [m
[31m-    steps:[m
[31m-      - uses: actions/checkout@v3[m
[31m-      [m
[31m-      - name: Setup Node.js[m
[31m-        uses: actions/setup-node@v3[m
[31m-        with:[m
[31m-          node-version: '18'[m
[31m-          cache: 'npm'[m
[31m-      [m
[31m-      - name: Install dependencies[m
[31m-        run: |[m
[31m-          cd backend[m
[31m-          npm ci[m
[31m-      [m
[31m-      - name: Run tests[m
[31m-        run: |[m
[31m-          cd backend[m
[31m-          npm test[m
[31m-        env:[m
[31m-          NODE_ENV: test[m
[31m-          MONGODB_URI: mongodb://localhost:27017/zenai-test[m
[31m-          REDIS_HOST: localhost[m
[31m-          JWT_SECRET: test-secret[m
[31m-      [m
[31m-      - name: Run linting[m
[31m-        run: |[m
[31m-          cd backend[m
[31m-          npm run lint[m
[31m-[m
[31m-  build:[m
[31m-    needs: test[m
[31m-    runs-on: ubuntu-latest[m
[31m-    [m
[31m-    steps:[m
[31m-      - uses: actions/checkout@v3[m
[31m-      [m
[31m-      - name: Set up Docker Buildx[m
[31m-        uses: docker/setup-buildx-action@v2[m
[31m-      [m
[31m-      - name: Login to Docker Hub[m
[31m-        uses: docker/login-action@v2[m
[31m-        with:[m
[31m-          username: ${{ secrets.DOCKER_USERNAME }}[m
[31m-          password: ${{ secrets.DOCKER_PASSWORD }}[m
[31m-      [m
[31m-      - name: Build and push backend[m
[31m-        uses: docker/build-push-action@v4[m
[31m-        with:[m
[31m-          context: ./backend[m
[31m-          push: true[m
[31m-          tags: |[m
[31m-            yourusername/zenai-backend:latest[m
[31m-            yourusername/zenai-backend:${{ github.sha }}[m
[31m-          cache-from: type=registry,ref=yourusername/zenai-backend:buildcache[m
[31m-          cache-to: type=registry,ref=yourusername/zenai-backend:buildcache,mode=max[m
[31m-      [m
[31m-      - name: Build and push AI engine[m
[31m-        uses: docker/build-push-action@v4[m
[31m-        with:[m
[31m-          context: ./ai-engine[m
[31m-          push: true[m
[31m-          tags: |[m
[31m-            yourusername/zenai-ai-engine:latest[m
[31m-            yourusername/zenai-ai-engine:${{ github.sha }}[m
[31m-[m
[31m-  deploy:[m
[31m-    needs: build[m
[31m-    runs-on: ubuntu-latest[m
[31m-    [m
[31m-    steps:[m
[31m-      - name: Deploy to server[m
[31m-        uses: appleboy/ssh-action@master[m
[31m-        with:[m
[31m-          host: ${{ secrets.SERVER_HOST }}[m
[31m-          username: ${{ secrets.SERVER_USER }}[m
[31m-          key: ${{ secrets.SSH_PRIVATE_KEY }}[m
[31m-          script: |[m
[31m-            cd /opt/zenai[m
[31m-            docker-compose -f docker-compose.prod.yml pull[m
[31m-            docker-compose -f docker-compose.prod.yml up -d[m
[31m-            docker system prune -af[m
[31m-      [m
[31m-      - name: Health check[m
[31m-        run: |[m
[31m-          sleep 30[m
[31m-          curl -f https://your-domain.com/health || exit 1[m
[31m-      [m
[31m-      - name: Notify on Slack[m
[31m-        if: always()[m
[31m-        uses: 8398a7/action-slack@v3[m
[31m-        with:[m
[31m-          status: ${{ job.status }}[m
[31m-          text: 'Deployment ${{ job.status }}'[m
[31m-          webhook_url: ${{ secrets.SLACK_WEBHOOK }}[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üì¶ Package.json Scripts[m
[31m-[m
[31m-### **Backend Package.json**[m
[31m-```json[m
[31m-{[m
[31m-  "name": "zenai-backend",[m
[31m-  "version": "1.0.0",[m
[31m-  "scripts": {[m
[31m-    "start": "node src/server.js",[m
[31m-    "dev": "nodemon src/server.js",[m
[31m-    "test": "jest --coverage --detectOpenHandles",[m
[31m-    "test:watch": "jest --watch",[m
[31m-    "test:integration": "jest --testPathPattern=tests/integration",[m
[31m-    "test:load": "node tests/load/load-test.js",[m
[31m-    "lint": "eslint src/**/*.js",[m
[31m-    "lint:fix": "eslint src/**/*.js --fix",[m
[31m-    "format": "prettier --write \"src/**/*.js\"",[m
[31m-    "migrate": "node scripts/migrate.js",[m
[31m-    "seed": "node scripts/seed.js",[m
[31m-    "backup": "bash scripts/backup.sh",[m
[31m-    "docker:build": "docker build -t zenai-backend .",[m
[31m-    "docker:run": "docker-compose up -d",[m
[31m-    "docker:stop": "docker-compose down",[m
[31m-    "docker:logs": "docker-compose logs -f"[m
[31m-  },[m
[31m-  "dependencies": {[m
[31m-    "express": "^4.18.2",[m
[31m-    "mongoose": "^7.6.3",[m
[31m-    "ioredis": "^5.3.2",[m
[31m-    "bcryptjs": "^2.4.3",[m
[31m-    "jsonwebtoken": "^9.0.2",[m
[31m-    "dotenv": "^16.3.1",[m
[31m-    "cors": "^2.8.5",[m
[31m-    "helmet": "^7.0.0",[m
[31m-    "morgan": "^1.10.0",[m
[31m-    "express-rate-limit": "^7.0.1",[m
[31m-    "rate-limit-redis": "^3.0.2",[m
[31m-    "joi": "^17.11.0",[m
[31m-    "express-validator": "^7.0.1",[m
[31m-    "openai": "^4.20.0",[m
[31m-    "langchain": "^0.0.193",[m
[31m-    "@langchain/openai": "^0.0.10",[m
[31m-    "@langchain/anthropic": "^0.0.5",[m
[31m-    "bull": "^4.11.5",[m
[31m-    "bullmq": "^4.14.0",[m
[31m-    "socket.io": "^4.6.2",[m
[31m-    "winston": "^3.11.0",[m
[31m-    "winston-daily-rotate-file": "^4.7.1",[m
[31m-    "axios": "^1.6.0",[m
[31m-    "multer": "^1.4.5-lts.1",[m
[31m-    "compression": "^1.7.4",[m
[31m-    "express-mongo-sanitize": "^2.2.0",[m
[31m-    "xss-clean": "^0.1.4",[m
[31m-    "hpp": "^0.2.3",[m
[31m-    "prom-client": "^15.0.0"[m
[31m-  },[m
[31m-  "devDependencies": {[m
[31m-    "nodemon": "^3.0.1",[m
[31m-    "jest": "^29.7.0",[m
[31m-    "supertest": "^6.3.3",[m
[31m-    "eslint": "^8.52.0",[m
[31m-    "prettier": "^3.0.3",[m
[31m-    "autocannon": "^7.12.0"[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üéØ Production Checklist[m
[31m-[m
[31m-### **Pre-Deployment**[m
[31m-- [ ] All environment variables configured[m
[31m-- [ ] SSL certificates installed[m
[31m-- [ ] Database backups automated[m
[31m-- [ ] Rate limiting configured[m
[31m-- [ ] Security headers enabled[m
[31m-- [ ] CORS properly configured[m
[31m-- [ ] Error handling complete[m
[31m-- [ ] Logging configured[m
[31m-- [ ] Monitoring setup (Prometheus + Grafana)[m
[31m-- [ ] Load testing completed[m
[31m-[m
[31m-### **Post-Deployment**[m
[31m-- [ ] Health checks passing[m
[31m-- [ ] Metrics collecting[m
[31m-- [ ] Logs flowing[m
[31m-- [ ] Backups running[m
[31m-- [ ] SSL certificate auto-renewal[m
[31m-- [ ] Alerts configured[m
[31m-- [ ] Documentation updated[m
[31m-- [ ] Team trained[m
[31m-[m
[31m-### **Monitoring Metrics**[m
[31m-- Response time (< 200ms for 95th percentile)[m
[31m-- Error rate (< 0.1%)[m
[31m-- CPU usage (< 70%)[m
[31m-- Memory usage (< 80%)[m
[31m-- Database connections (within limits)[m
[31m-- Cache hit rate (> 80%)[m
[31m-- AI request success rate (> 95%)[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîÑ Scaling Strategy[m
[31m-[m
[31m-### **Horizontal Scaling**[m
[31m-```yaml[m
[31m-# docker-compose.prod.yml - Scale backend[m
[31m-services:[m
[31m-  backend:[m
[31m-    deploy:[m
[31m-      replicas: 5[m
[31m-      update_config:[m
[31m-        parallelism: 2[m
[31m-        delay: 10s[m
[31m-      restart_policy:[m
[31m-        condition: on-failure[m
[31m-```[m
[31m-[m
[31m-### **Database Sharding**[m
[31m-```javascript[m
[31m-// For high load, implement MongoDB sharding[m
[31m-// config/database.js[m
[31m-const shardingConfig = {[m
[31m-  shards: [[m
[31m-    { name: 'shard1', uri: 'mongodb://shard1:27017' },[m
[31m-    { name: 'shard2', uri: 'mongodb://shard2:27017' }[m
[31m-  ],[m
[31m-  shardKey: { userId: 1 }[m
[31m-};[m
[31m-```[m
[31m-[m
[31m-### **Redis Cluster**[m
[31m-```javascript[m
[31m-// config/redis.js - Redis Cluster mode[m
[31m-const Redis = require('ioredis');[m
[31m-[m
[31m-const cluster = new Redis.Cluster([[m
[31m-  { host: 'redis-node-1', port: 6379 },[m
[31m-  { host: 'redis-node-2', port: 6379 },[m
[31m-  { host: 'redis-node-3', port: 6379 }[m
[31m-]);[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìö Documentation[m
[31m-[m
[31m-### **API Documentation (Swagger)**[m
[31m-```javascript[m
[31m-// src/docs/swagger.js[m
[31m-const swaggerJsdoc = require('swagger-jsdoc');[m
[31m-const swaggerUi = require('swagger-ui-express');[m
[31m-[m
[31m-const options = {[m
[31m-  definition: {[m
[31m-    openapi: '3.0.0',[m
[31m-    info: {[m
[31m-      title: 'ZenAI API',[m
[31m-      version: '1.0.0',[m
[31m-      description: 'AI-powered project management API'[m
[31m-    },[m
[31m-    servers: [[m
[31m-      {[m
[31m-        url: 'https://api.zenai.com/v1',[m
[31m-        description: 'Production'[m
[31m-      }[m
[31m-    ],[m
[31m-    components: {[m
[31m-      securitySchemes: {[m
[31m-        bearerAuth: {[m
[31m-          type: 'http',[m
[31m-          scheme: 'bearer',[m
[31m-          bearerFormat: 'JWT'[m
[31m-        }[m
[31m-      }[m
[31m-    }[m
[31m-  },[m
[31m-  apis: ['./src/routes/*.js'][m
[31m-};[m
[31m-[m
[31m-const specs = swaggerJsdoc(options);[m
[31m-[m
[31m-module.exports = { swaggerUi, specs };[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## ‚úÖ Summary[m
[31m-[m
[31m-You now have:[m
[31m-1. ‚úÖ **Complete AI integration** - Backend connected to AI Engine[m
[31m-2. ‚úÖ **Production-ready infrastructure** - Docker, Nginx, SSL[m
[31m-3. ‚úÖ **Monitoring & Logging** - Prometheus, Grafana, Winston[m
[31m-4. ‚úÖ **Security hardened** - Helmet, rate limiting, validation[m
[31m-5. ‚úÖ **CI/CD pipeline** - GitHub Actions automated deployment[m
[31m-6. ‚úÖ **Scalable architecture** - Load balanced, horizontally scalable[m
[31m-7. ‚úÖ **Testing suite** - Unit, integration, and load tests[m
[31m-8. ‚úÖ **Documentation** - API docs with Swagger[m
[31m-[m
[31m-**Next Steps:**[m
[31m-1. Implement missing files in your codebase[m
[31m-2. Configure environment variables[m
[31m-3. Setup SSL certificates[m
[31m-4. Deploy to production server[m
[31m-5. Monitor and optimize based on metrics[m
\ No newline at end of file[m
[1mdiff --git a/zenai-missing-files.md b/zenai-missing-files.md[m
[1mdeleted file mode 100644[m
[1mindex c7ae67b..0000000[m
[1m--- a/zenai-missing-files.md[m
[1m+++ /dev/null[m
[36m@@ -1,1138 +0,0 @@[m
[31m-# üóÇÔ∏è ZenAI Missing Files - Complete Code[m
[31m-[m
[31m-## üìÅ AI Engine Files[m
[31m-[m
[31m-### **similarity-search.js**[m
[31m-```javascript[m
[31m-// src/embeddings/similarity-search.js[m
[31m-const { OpenAIEmbeddings } = require('@langchain/openai');[m
[31m-const { PineconeStore } = require('@langchain/pinecone');[m
[31m-const { Pinecone } = require('@pinecone-database/pinecone');[m
[31m-const logger = require('../utils/logger');[m
[31m-[m
[31m-class SimilaritySearchService {[m
[31m-  constructor() {[m
[31m-    this.embeddings = new OpenAIEmbeddings({[m
[31m-      modelName: process.env.EMBEDDING_MODEL || 'text-embedding-3-small',[m
[31m-      openAIApiKey: process.env.OPENAI_API_KEY[m
[31m-    });[m
[31m-[m
[31m-    this.pinecone = new Pinecone({[m
[31m-      apiKey: process.env.PINECONE_API_KEY,[m
[31m-      environment: process.env.PINECONE_ENVIRONMENT[m
[31m-    });[m
[31m-[m
[31m-    this.vectorStore = null;[m
[31m-    this.initialized = false;[m
[31m-  }[m
[31m-[m
[31m-  async initialize() {[m
[31m-    try {[m
[31m-      const indexName = process.env.PINECONE_INDEX || 'zenai-embeddings';[m
[31m-      this.index = this.pinecone.Index(indexName);[m
[31m-[m
[31m-      this.vectorStore = await PineconeStore.fromExistingIndex([m
[31m-        this.embeddings,[m
[31m-        { pineconeIndex: this.index }[m
[31m-      );[m
[31m-[m
[31m-      this.initialized = true;[m
[31m-      logger.info('Similarity search service initialized');[m
[31m-    } catch (error) {[m
[31m-      logger.error('Similarity search initialization error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async search(query, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const {[m
[31m-        k = 5,[m
[31m-        filter = {},[m
[31m-        scoreThreshold = 0.7,[m
[31m-        namespace = 'default'[m
[31m-      } = options;[m
[31m-[m
[31m-      // Perform similarity search with scores[m
[31m-      const results = await this.vectorStore.similaritySearchWithScore([m
[31m-        query,[m
[31m-        k,[m
[31m-        filter[m
[31m-      );[m
[31m-[m
[31m-      // Filter by score threshold[m
[31m-      const filteredResults = results[m
[31m-        .filter(([doc, score]) => score >= scoreThreshold)[m
[31m-        .map(([doc, score]) => ({[m
[31m-          content: doc.pageContent,[m
[31m-          metadata: doc.metadata,[m
[31m-          score: score,[m
[31m-          relevance: this.calculateRelevance(score)[m
[31m-        }));[m
[31m-[m
[31m-      logger.info(`Similarity search returned ${filteredResults.length} results`);[m
[31m-[m
[31m-      return {[m
[31m-        results: filteredResults,[m
[31m-        query,[m
[31m-        totalResults: filteredResults.length,[m
[31m-        options: { k, scoreThreshold }[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Similarity search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async searchByVector(vector, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const { k = 5, filter = {} } = options;[m
[31m-[m
[31m-      const results = await this.index.query({[m
[31m-        vector,[m
[31m-        topK: k,[m
[31m-        filter,[m
[31m-        includeMetadata: true[m
[31m-      });[m
[31m-[m
[31m-      return results.matches.map(match => ({[m
[31m-        id: match.id,[m
[31m-        score: match.score,[m
[31m-        metadata: match.metadata,[m
[31m-        relevance: this.calculateRelevance(match.score)[m
[31m-      }));[m
[31m-    } catch (error) {[m
[31m-      logger.error('Vector search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async searchRelatedDocuments(documentId, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const { k = 5 } = options;[m
[31m-[m
[31m-      // Get the document's vector[m
[31m-      const docVector = await this.index.fetch([documentId]);[m
[31m-      [m
[31m-      if (!docVector.vectors[documentId]) {[m
[31m-        throw new Error('Document not found');[m
[31m-      }[m
[31m-[m
[31m-      const vector = docVector.vectors[documentId].values;[m
[31m-[m
[31m-      // Search for similar documents[m
[31m-      const results = await this.searchByVector(vector, {[m
[31m-        k: k + 1, // +1 to exclude the original document[m
[31m-        filter: { documentId: { $ne: documentId } }[m
[31m-      });[m
[31m-[m
[31m-      return results.slice(0, k);[m
[31m-    } catch (error) {[m
[31m-      logger.error('Related documents search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async hybridSearch(query, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const {[m
[31m-        k = 10,[m
[31m-        semanticWeight = 0.7,[m
[31m-        keywordWeight = 0.3,[m
[31m-        filter = {}[m
[31m-      } = options;[m
[31m-[m
[31m-      // Semantic search[m
[31m-      const semanticResults = await this.search(query, { k, filter });[m
[31m-[m
[31m-      // Simple keyword matching (you can enhance this with BM25 or similar)[m
[31m-      const keywords = query.toLowerCase().split(' ');[m
[31m-      const keywordResults = semanticResults.results.map(result => {[m
[31m-        const content = result.content.toLowerCase();[m
[31m-        const keywordScore = keywords.reduce((score, keyword) => {[m
[31m-          return score + (content.includes(keyword) ? 1 : 0);[m
[31m-        }, 0) / keywords.length;[m
[31m-[m
[31m-        return {[m
[31m-          ...result,[m
[31m-          keywordScore,[m
[31m-          hybridScore: (result.score * semanticWeight) + (keywordScore * keywordWeight)[m
[31m-        };[m
[31m-      });[m
[31m-[m
[31m-      // Sort by hybrid score[m
[31m-      keywordResults.sort((a, b) => b.hybridScore - a.hybridScore);[m
[31m-[m
[31m-      return {[m
[31m-        results: keywordResults.slice(0, k),[m
[31m-        query,[m
[31m-        method: 'hybrid',[m
[31m-        weights: { semantic: semanticWeight, keyword: keywordWeight }[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Hybrid search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async multiQuerySearch(queries, options = {}) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      const { k = 5, aggregation = 'union' } = options;[m
[31m-[m
[31m-      // Search for each query[m
[31m-      const searchPromises = queries.map(query => [m
[31m-        this.search(query, { k, ...options })[m
[31m-      );[m
[31m-[m
[31m-      const allResults = await Promise.all(searchPromises);[m
[31m-[m
[31m-      let finalResults;[m
[31m-      if (aggregation === 'union') {[m
[31m-        // Combine all unique results[m
[31m-        const resultsMap = new Map();[m
[31m-        allResults.forEach(({ results }) => {[m
[31m-          results.forEach(result => {[m
[31m-            const key = result.metadata.id || result.content;[m
[31m-            if (!resultsMap.has(key) || resultsMap.get(key).score < result.score) {[m
[31m-              resultsMap.set(key, result);[m
[31m-            }[m
[31m-          });[m
[31m-        });[m
[31m-        finalResults = Array.from(resultsMap.values());[m
[31m-      } else if (aggregation === 'intersection') {[m
[31m-        // Only results that appear in all queries[m
[31m-        const resultCounts = new Map();[m
[31m-        allResults.forEach(({ results }) => {[m
[31m-          results.forEach(result => {[m
[31m-            const key = result.metadata.id || result.content;[m
[31m-            resultCounts.set(key, (resultCounts.get(key) || 0) + 1);[m
[31m-          });[m
[31m-        });[m
[31m-        finalResults = Array.from(resultCounts.entries())[m
[31m-          .filter(([key, count]) => count === queries.length)[m
[31m-          .map(([key]) => key);[m
[31m-      }[m
[31m-[m
[31m-      // Sort by score[m
[31m-      finalResults.sort((a, b) => b.score - a.score);[m
[31m-[m
[31m-      return {[m
[31m-        results: finalResults.slice(0, k),[m
[31m-        queries,[m
[31m-        aggregation,[m
[31m-        totalResults: finalResults.length[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Multi-query search error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  calculateRelevance(score) {[m
[31m-    if (score >= 0.9) return 'very_high';[m
[31m-    if (score >= 0.8) return 'high';[m
[31m-    if (score >= 0.7) return 'medium';[m
[31m-    if (score >= 0.6) return 'low';[m
[31m-    return 'very_low';[m
[31m-  }[m
[31m-[m
[31m-  async getStats(namespace = 'default') {[m
[31m-    try {[m
[31m-      const stats = await this.index.describeIndexStats();[m
[31m-      return {[m
[31m-        totalVectors: stats.totalVectorCount,[m
[31m-        dimension: stats.dimension,[m
[31m-        namespaces: stats.namespaces[m
[31m-      };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Get stats error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  async deleteByMetadata(filter) {[m
[31m-    if (!this.initialized) await this.initialize();[m
[31m-[m
[31m-    try {[m
[31m-      await this.index.delete1({[m
[31m-        filter,[m
[31m-        deleteAll: false[m
[31m-      });[m
[31m-[m
[31m-      logger.info('Documents deleted by metadata filter');[m
[31m-      return { success: true };[m
[31m-    } catch (error) {[m
[31m-      logger.error('Delete by metadata error:', error);[m
[31m-      throw error;[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-module.exports = SimilaritySearchService;[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üìö Documentation Files[m
[31m-[m
[31m-### **architecture.md**[m
[31m-```markdown[m
[31m-# üèóÔ∏è ZenAI Architecture Documentation[m
[31m-[m
[31m-## System Overview[m
[31m-[m
[31m-ZenAI is an AI-powered project management platform built with a microservices architecture. The system consists of three main layers:[m
[31m-[m
[31m-1. **Frontend Layer** - React-based user interface[m
[31m-2. **Backend Layer** - Node.js/Express REST API[m
[31m-3. **AI Engine Layer** - LangChain-based AI agents and services[m
[31m-[m
[31m-## Architecture Diagram[m
[31m-[m
[31m-```[m
[31m-‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-‚îÇ                         Client Layer                            ‚îÇ[m
[31m-‚îÇ                    (React + Tailwind CSS)                       ‚îÇ[m
[31m-‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-                         ‚îÇ HTTPS/WSS[m
[31m-‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-‚îÇ                       Load Balancer                             ‚îÇ[m
[31m-‚îÇ                      (Nginx + SSL)                              ‚îÇ[m
[31m-‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-                         ‚îÇ[m
[31m-‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-‚îÇ                    Backend API Layer                            ‚îÇ[m
[31m-‚îÇ                  (Node.js + Express)                            ‚îÇ[m
[31m-‚îÇ                                                                 ‚îÇ[m
[31m-‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ[m
[31m-‚îÇ  ‚îÇ   Auth       ‚îÇ  ‚îÇ   Projects   ‚îÇ  ‚îÇ   AI API     ‚îÇ        ‚îÇ[m
[31m-‚îÇ  ‚îÇ  Controller  ‚îÇ  ‚îÇ  Controller  ‚îÇ  ‚îÇ  Controller  ‚îÇ        ‚îÇ[m
[31m-‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ[m
[31m-‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-         ‚îÇ                  ‚îÇ                  ‚îÇ[m
[31m-         ‚îÇ                  ‚îÇ                  ‚îÇ[m
[31m-    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-    ‚îÇ MongoDB ‚îÇ       ‚îÇ  Redis  ‚îÇ      ‚îÇ   AI Engine       ‚îÇ[m
[31m-    ‚îÇ         ‚îÇ       ‚îÇ  Cache  ‚îÇ      ‚îÇ   (LangChain)     ‚îÇ[m
[31m-    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ                   ‚îÇ[m
[31m-                                        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îÇ   Agents    ‚îÇ  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îÇ  Whisper    ‚îÇ  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îÇ   RAG/VDB   ‚îÇ  ‚îÇ[m
[31m-                                        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ[m
[31m-                                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-                                                ‚îÇ[m
[31m-                                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê[m
[31m-                                        ‚îÇ   OpenAI API      ‚îÇ[m
[31m-                                        ‚îÇ   Pinecone        ‚îÇ[m
[31m-                                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò[m
[31m-```[m
[31m-[m
[31m-## Component Details[m
[31m-[m
[31m-### 1. Frontend Layer[m
[31m-- **Technology**: React 18, TailwindCSS, Axios[m
[31m-- **Features**:[m
[31m-  - Project dashboard[m
[31m-  - Task management[m
[31m-  - AI chat interface[m
[31m-  - Real-time updates via WebSocket[m
[31m-  - Audio recording for meetings[m
[31m-[m
[31m-### 2. Backend API Layer[m
[31m-- **Technology**: Node.js, Express, MongoDB, Redis[m
[31m-- **Components**:[m
[31m-  - **Authentication**: JWT-based auth with refresh tokens[m
[31m-  - **API Gateway**: RESTful API with versioning[m
[31m-  - **Middleware**: Auth, validation, rate limiting, error handling[m
[31m-  - **Cache Layer**: Redis for session and query caching[m
[31m-  - **Database**: MongoDB with Mongoose ODM[m
[31m-[m
[31m-### 3. AI Engine Layer[m
[31m-- **Technology**: LangChain, OpenAI, Anthropic[m
[31m-- **Components**:[m
[31m-  - **Agents**:[m
[31m-    - Product Manager Agent[m
[31m-    - Task Analyzer Agent[m
[31m-    - Code Reviewer Agent[m
[31m-    - Meeting Summarizer Agent[m
[31m-  - **Chains**: LangChain chains for complex workflows[m
[31m-  - **Tools**: Integration with Notion, Slack, GitHub[m
[31m-  - **Memory**: Conversation history and context management[m
[31m-  - **Vector Store**: Pinecone for RAG implementation[m
[31m-[m
[31m-## Data Flow[m
[31m-[m
[31m-### Task Creation Flow[m
[31m-```[m
[31m-User Input ‚Üí Backend Controller ‚Üí AI Service ‚Üí Product Manager Agent[m
[31m-                                                        ‚Üì[m
[31m-                                              OpenAI API (GPT-4)[m
[31m-                                                        ‚Üì[m
[31m-MongoDB ‚Üê Backend Controller ‚Üê AI Service ‚Üê Structured Task Data[m
[31m-```[m
[31m-[m
[31m-### Meeting Transcription Flow[m
[31m-```[m
[31m-Audio File ‚Üí Backend Upload ‚Üí AI Service ‚Üí Whisper Service[m
[31m-                                                  ‚Üì[m
[31m-                                          OpenAI Whisper API[m
[31m-                                                  ‚Üì[m
[31m-                    Meeting Summarizer Agent ‚Üê Transcription[m
[31m-                                ‚Üì[m
[31m-                          AI Analysis[m
[31m-                                ‚Üì[m
[31m-             Summary + Action Items ‚Üí MongoDB ‚Üí User[m
[31m-```[m
[31m-[m
[31m-## Security Architecture[m
[31m-[m
[31m-### Authentication Flow[m
[31m-1. User logs in with credentials[m
[31m-2. Backend validates and generates JWT access token (7 days)[m
[31m-3. Refresh token generated (30 days) and stored in DB[m
[31m-4. Access token sent in Authorization header[m
[31m-5. Middleware validates token on each request[m
[31m-[m
[31m-### Rate Limiting[m
[31m-- **API Endpoints**: 100 requests per 15 minutes[m
[31m-- **Auth Endpoints**: 5 attempts per 15 minutes[m
[31m-- **AI Endpoints**: 10 requests per minute[m
[31m-[m
[31m-### Data Protection[m
[31m-- Passwords hashed with bcrypt (12 rounds)[m
[31m-- Sensitive data encrypted at rest[m
[31m-- HTTPS/TLS 1.3 for data in transit[m
[31m-- Input sanitization against XSS and NoSQL injection[m
[31m-[m
[31m-## Scalability[m
[31m-[m
[31m-### Horizontal Scaling[m
[31m-- Backend API can be scaled to N instances[m
[31m-- Load balancer distributes traffic[m
[31m-- Stateless design (sessions in Redis)[m
[31m-- Database read replicas for read-heavy operations[m
[31m-[m
[31m-### Caching Strategy[m
[31m-- **L1 Cache**: In-memory (Node.js)[m
[31m-- **L2 Cache**: Redis (shared across instances)[m
[31m-- **Cache Invalidation**: Event-driven updates[m
[31m-[m
[31m-### Database Optimization[m
[31m-- Indexes on frequently queried fields[m
[31m-- Connection pooling (max 10 connections)[m
[31m-- Query optimization with explain()[m
[31m-- Aggregation pipelines for complex queries[m
[31m-[m
[31m-## Monitoring & Observability[m
[31m-[m
[31m-### Metrics Collection[m
[31m-- **Application Metrics**: Prometheus[m
[31m-- **Visualization**: Grafana dashboards[m
[31m-- **Logging**: Winston with daily rotation[m
[31m-- **Error Tracking**: Sentry integration[m
[31m-- **APM**: New Relic or DataDog[m
[31m-[m
[31m-### Key Metrics[m
[31m-- Request rate and latency[m
[31m-- Error rate by endpoint[m
[31m-- AI request success rate[m
[31m-- Database query performance[m
[31m-- Cache hit ratio[m
[31m-- Memory and CPU usage[m
[31m-[m
[31m-## Deployment Strategy[m
[31m-[m
[31m-### Environments[m
[31m-1. **Development**: Local Docker Compose[m
[31m-2. **Staging**: AWS ECS or DigitalOcean[m
[31m-3. **Production**: Kubernetes or Docker Swarm[m
[31m-[m
[31m-### CI/CD Pipeline[m
[31m-```[m
[31m-Git Push ‚Üí GitHub Actions ‚Üí Run Tests ‚Üí Build Docker Images[m
[31m-                                              ‚Üì[m
[31m-                                    Push to Registry[m
[31m-                                              ‚Üì[m
[31m-                                Deploy to Production[m
[31m-                                              ‚Üì[m
[31m-                                    Health Checks[m
[31m-                                              ‚Üì[m
[31m-                                  Rollback if Failed[m
[31m-```[m
[31m-[m
[31m-## Technology Stack Summary[m
[31m-[m
[31m-| Layer | Technology |[m
[31m-|-------|-----------|[m
[31m-| Frontend | React, TailwindCSS, Axios |[m
[31m-| Backend | Node.js, Express, MongoDB, Redis |[m
[31m-| AI Engine | LangChain, OpenAI, Anthropic |[m
[31m-| Vector DB | Pinecone / ChromaDB |[m
[31m-| Cache | Redis |[m
[31m-| Load Balancer | Nginx |[m
[31m-| Monitoring | Prometheus, Grafana |[m
[31m-| Logging | Winston |[m
[31m-| Deployment | Docker, Docker Compose |[m
[31m-| CI/CD | GitHub Actions |[m
[31m-[m
[31m-## Performance Targets[m
[31m-[m
[31m-- **API Response Time**: < 200ms (p95)[m
[31m-- **AI Response Time**: < 5s (p95)[m
[31m-- **Uptime**: 99.9%[m
[31m-- **Error Rate**: < 0.1%[m
[31m-- **Concurrent Users**: 10,000+[m
[31m-```[m
[31m-[m
[31m-### **agents.md**[m
[31m-```markdown[m
[31m-# ü§ñ ZenAI Agents Documentation[m
[31m-[m
[31m-## Overview[m
[31m-[m
[31m-ZenAI uses multiple specialized AI agents built with LangChain to handle different aspects of project management. Each agent is designed with specific capabilities and tools.[m
[31m-[m
[31m-## Agent Architecture[m
[31m-[m
[31m-All agents inherit from the `BaseAgent` class which provides:[m
[31m-- Model initialization (OpenAI/Anthropic)[m
[31m-- Memory management[m
[31m-- Tool execution[m
[31m-- Error handling[m
[31m-[m
[31m-## Available Agents[m
[31m-[m
[31m-### 1. Product Manager Agent[m
[31m-[m
[31m-**Purpose**: Helps organize projects, create tasks, and provide strategic insights[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Create structured tasks from natural language descriptions[m
[31m-- Analyze project health and metrics[m
[31m-- Prioritize tasks based on business impact[m
[31m-- Break down epics into subtasks[m
[31m-- Suggest workflow improvements[m
[31m-- Identify bottlenecks and risks[m
[31m-[m
[31m-**Tools**:[m
[31m-- `create_task`: Creates tasks in the system[m
[31m-- `analyze_project`: Analyzes project metrics[m
[31m-- `prioritize_tasks`: Intelligent task prioritization[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const agent = new ProductManagerAgent();[m
[31m-await agent.initialize();[m
[31m-[m
[31m-// Create task from description[m
[31m-const task = await agent.createTaskFromDescription([m
[31m-  "Implement user authentication with OAuth",[m
[31m-  "project_123"[m
[31m-);[m
[31m-[m
[31m-// Analyze project health[m
[31m-const health = await agent.analyzeProjectHealth([m
[31m-  projectData,[m
[31m-  tasks[m
[31m-);[m
[31m-```[m
[31m-[m
[31m-**System Prompt**:[m
[31m-```[m
[31m-You are an expert AI Product Manager for ZenAI platform. Your responsibilities include:[m
[31m-[m
[31m-Core Capabilities:[m
[31m-- Creating and managing tasks and projects[m
[31m-- Analyzing project health and providing actionable insights[m
[31m-- Prioritizing work based on business impact[m
[31m-- Breaking down complex projects into manageable tasks[m
[31m-- Suggesting improvements to workflow efficiency[m
[31m-- Identifying bottlenecks and risks[m
[31m-[m
[31m-Communication Style:[m
[31m-- Professional yet friendly[m
[31m-- Data-driven decision making[m
[31m-- Proactive problem solving[m
[31m-- Clear and concise explanations[m
[31m-[m
[31m-Always provide actionable recommendations and be proactive in identifying issues.[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 2. Task Analyzer Agent[m
[31m-[m
[31m-**Purpose**: Analyzes tasks for complexity, dependencies, and optimal execution[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Estimate task complexity (1-10 scale)[m
[31m-- Calculate effort in hours[m
[31m-- Identify dependencies and blockers[m
[31m-- Recommend required skills[m
[31m-- Flag potential risks[m
[31m-- Suggest execution strategies[m
[31m-[m
[31m-**Tools**:[m
[31m-- `estimate_complexity`: Estimates task difficulty[m
[31m-- `suggest_dependencies`: Identifies task dependencies[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const agent = new TaskAnalyzerAgent();[m
[31m-await agent.initialize();[m
[31m-[m
[31m-// Analyze single task[m
[31m-const analysis = await agent.analyzeTask(task, projectContext);[m
[31m-console.log(analysis.complexityScore); // 7/10[m
[31m-console.log(analysis.estimatedHours); // 16[m
[31m-console.log(analysis.risks); // ["API integration complexity"][m
[31m-[m
[31m-// Estimate effort for multiple tasks[m
[31m-const estimates = await agent.estimateEffort(tasks);[m
[31m-console.log(estimates.totalHours); // 120[m
[31m-console.log(estimates.criticalPath); // ["task1", "task3", "task5"][m
[31m-```[m
[31m-[m
[31m-**Output Format**:[m
[31m-```json[m
[31m-{[m
[31m-  "complexityScore": 7,[m
[31m-  "estimatedHours": 16,[m
[31m-  "skillsRequired": ["Node.js", "MongoDB", "JWT"],[m
[31m-  "dependencies": ["Setup database", "Configure auth middleware"],[m
[31m-  "risks": ["Third-party API reliability"],[m
[31m-  "recommendations": ["Implement retry logic", "Add comprehensive tests"],[m
[31m-  "blockers": [][m
[31m-}[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 3. Meeting Summarizer Agent[m
[31m-[m
[31m-**Purpose**: Transcribes meetings and generates summaries with action items[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Transcribe audio using Whisper API[m
[31m-- Extract key discussion points[m
[31m-- Identify decisions made[m
[31m-- List action items with owners[m
[31m-- Capture questions and blockers[m
[31m-- Generate professional meeting reports[m
[31m-[m
[31m-**Integration**: Works with WhisperService[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const agent = new MeetingSummarizerAgent();[m
[31m-[m
[31m-// Transcribe and summarize meeting[m
[31m-const result = await agent.transcribeAndSummarize([m
[31m-  '/path/to/meeting.mp3',[m
[31m-  {[m
[31m-    title: 'Sprint Planning Meeting',[m
[31m-    participants: ['Alice', 'Bob', 'Charlie'],[m
[31m-    date: '2024-01-15'[m
[31m-  }[m
[31m-);[m
[31m-[m
[31m-console.log(result.summary.executiveSummary);[m
[31m-console.log(result.actionItems);[m
[31m-console.log(result.transcription.text);[m
[31m-```[m
[31m-[m
[31m-**Output Format**:[m
[31m-```json[m
[31m-{[m
[31m-  "transcription": {[m
[31m-    "text": "Full meeting transcript...",[m
[31m-    "duration": 1800,[m
[31m-    "language": "en"[m
[31m-  },[m
[31m-  "summary": {[m
[31m-    "executiveSummary": "Team discussed Q1 priorities...",[m
[31m-    "keyPoints": ["Feature X approved", "Budget allocated"],[m
[31m-    "decisions": ["Use React for frontend"],[m
[31m-    "nextSteps": ["Setup dev environment", "Create wireframes"],[m
[31m-    "questions": ["Which API version to use?"],[m
[31m-    "blockers": ["Waiting for design approval"][m
[31m-  },[m
[31m-  "actionItems": [[m
[31m-    {[m
[31m-      "action": "Setup development environment",[m
[31m-      "owner": "Alice",[m
[31m-      "dueDate": "2024-01-20",[m
[31m-      "priority": "high"[m
[31m-    }[m
[31m-  ][m
[31m-}[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 4. Code Reviewer Agent[m
[31m-[m
[31m-**Purpose**: Review code for quality, security, and best practices[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Analyze code quality[m
[31m-- Identify security vulnerabilities[m
[31m-- Suggest performance improvements[m
[31m-- Check best practices adherence[m
[31m-- Review test coverage[m
[31m-- Provide refactoring suggestions[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const agent = new CodeReviewerAgent();[m
[31m-[m
[31m-const review = await agent.reviewCode({[m
[31m-  language: 'javascript',[m
[31m-  code: codeString,[m
[31m-  context: 'Express API endpoint'[m
[31m-});[m
[31m-[m
[31m-console.log(review.issues); // Security, performance, style issues[m
[31m-console.log(review.suggestions); // Improvement recommendations[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-### 5. Orchestrator Agent[m
[31m-[m
[31m-**Purpose**: Coordinates multiple agents for complex workflows[m
[31m-[m
[31m-**Capabilities**:[m
[31m-- Route requests to appropriate agents[m
[31m-- Chain multiple agent operations[m
[31m-- Aggregate results from multiple agents[m
[31m-- Handle complex multi-step workflows[m
[31m-[m
[31m-**Example Usage**:[m
[31m-```javascript[m
[31m-const orchestrator = new OrchestratorAgent();[m
[31m-[m
[31m-// Complex workflow: Create project ‚Üí Analyze ‚Üí Generate tasks[m
[31m-const result = await orchestrator.run({[m
[31m-  workflow: 'project-setup',[m
[31m-  input: {[m
[31m-    projectName: 'E-commerce Platform',[m
[31m-    description: 'Build online store with React and Node.js'[m
[31m-  }[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-## Agent Configuration[m
[31m-[m
[31m-### Model Selection[m
[31m-```javascript[m
[31m-// OpenAI GPT-4[m
[31m-const config = {[m
[31m-  modelType: 'openai',[m
[31m-  modelName: 'gpt-4-turbo-preview',[m
[31m-  temperature: 0.7,[m
[31m-  maxTokens: 2000[m
[31m-};[m
[31m-[m
[31m-// Anthropic Claude[m
[31m-const config = {[m
[31m-  modelType: 'anthropic',[m
[31m-  modelName: 'claude-3-sonnet-20240229',[m
[31m-  temperature: 0.7,[m
[31m-  maxTokens: 2000[m
[31m-};[m
[31m-```[m
[31m-[m
[31m-### Memory Configuration[m
[31m-```javascript[m
[31m-const memory = new BufferMemory({[m
[31m-  returnMessages: true,[m
[31m-  memoryKey: 'chat_history',[m
[31m-  inputKey: 'input',[m
[31m-  outputKey: 'output'[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-## Best Practices[m
[31m-[m
[31m-### 1. Error Handling[m
[31m-```javascript[m
[31m-try {[m
[31m-  const result = await agent.run(input, context);[m
[31m-  return result;[m
[31m-} catch (error) {[m
[31m-  logger.error(`Agent error: ${error.message}`);[m
[31m-  // Implement fallback logic[m
[31m-  return defaultResponse;[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### 2. Context Management[m
[31m-```javascript[m
[31m-// Provide relevant context[m
[31m-const context = {[m
[31m-  projectId: 'proj_123',[m
[31m-  userId: 'user_456',[m
[31m-  previousActions: [],[m
[31m-  preferences: {}[m
[31m-};[m
[31m-[m
[31m-const result = await agent.run(input, context);[m
[31m-```[m
[31m-[m
[31m-### 3. Token Management[m
[31m-```javascript[m
[31m-// Monitor token usage[m
[31m-const tokens = countTokens(input);[m
[31m-if (tokens > MAX_TOKENS) {[m
[31m-  input = truncate(input, MAX_TOKENS);[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### 4. Caching[m
[31m-```javascript[m
[31m-// Cache agent responses[m
[31m-const cacheKey = `agent:${agentName}:${hash(input)}`;[m
[31m-const cached = await cache.get(cacheKey);[m
[31m-[m
[31m-if (cached) {[m
[31m-  return cached;[m
[31m-}[m
[31m-[m
[31m-const result = await agent.run(input);[m
[31m-await cache.set(cacheKey, result, 3600);[m
[31m-```[m
[31m-[m
[31m-## Performance Optimization[m
[31m-[m
[31m-### 1. Parallel Agent Execution[m
[31m-```javascript[m
[31m-const [taskAnalysis, projectHealth] = await Promise.all([[m
[31m-  taskAnalyzer.analyzeTask(task),[m
[31m-  productManager.analyzeProjectHealth(project, tasks)[m
[31m-]);[m
[31m-```[m
[31m-[m
[31m-### 2. Streaming Responses[m
[31m-```javascript[m
[31m-const agent = new ProductManagerAgent({[m
[31m-  streaming: true[m
[31m-});[m
[31m-[m
[31m-agent.on('token', (token) => {[m
[31m-  // Stream tokens to client[m
[31m-  res.write(token);[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-### 3. Agent Pooling[m
[31m-```javascript[m
[31m-// Maintain agent pool for reuse[m
[31m-class AgentPool {[m
[31m-  constructor(AgentClass, size = 5) {[m
[31m-    this.pool = Array(size).fill(null).map(() => new AgentClass());[m
[31m-  }[m
[31m-[m
[31m-  async execute(input) {[m
[31m-    const agent = this.getAvailableAgent();[m
[31m-    return await agent.run(input);[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-## Monitoring[m
[31m-[m
[31m-### Agent Metrics[m
[31m-- Request count per agent[m
[31m-- Average response time[m
[31m-- Success/failure rate[m
[31m-- Token usage[m
[31m-- Error types and frequency[m
[31m-[m
[31m-### Logging[m
[31m-```javascript[m
[31m-logger.info('Agent execution', {[m
[31m-  agent: agent.name,[m
[31m-  input: input.substring(0, 100),[m
[31m-  duration: responseTime,[m
[31m-  tokens: tokensUsed[m
[31m-});[m
[31m-```[m
[31m-[m
[31m-## Testing Agents[m
[31m-[m
[31m-```javascript[m
[31m-describe('ProductManagerAgent', () => {[m
[31m-  let agent;[m
[31m-[m
[31m-  beforeAll(async () => {[m
[31m-    agent = new ProductManagerAgent();[m
[31m-    await agent.initialize();[m
[31m-  });[m
[31m-[m
[31m-  test('should create task from description', async () => {[m
[31m-    const task = await agent.createTaskFromDescription([m
[31m-      'Add user login feature',[m
[31m-      'project_123'[m
[31m-    );[m
[31m-[m
[31m-    expect(task.title).toBeDefined();[m
[31m-    expect(task.priority).toMatch(/low|medium|high|urgent/);[m
[31m-  });[m
[31m-[m
[31m-  afterAll(() => {[m
[31m-    agent.clearMemory();[m
[31m-  });[m
[31m-});[m
[31m-```[m
[31m-```[m
[31m-[m
[31m-### **api.md**[m
[31m-```markdown[m
[31m-# üì° ZenAI API Documentation[m
[31m-[m
[31m-## Base URL[m
[31m-```[m
[31m-Production: https://api.zenai.com/v1[m
[31m-Development: http://localhost:5000/api/v1[m
[31m-```[m
[31m-[m
[31m-## Authentication[m
[31m-[m
[31m-All API requests (except auth endpoints) require a valid JWT token in the Authorization header:[m
[31m-[m
[31m-```bash[m
[31m-Authorization: Bearer <your_jwt_token>[m
[31m-```[m
[31m-[m
[31m-### Token Lifespan[m
[31m-- Access Token: 7 days[m
[31m-- Refresh Token: 30 days[m
[31m-[m
[31m----[m
[31m-[m
[31m-## üîê Authentication Endpoints[m
[31m-[m
[31m-### Register User[m
[31m-```http[m
[31m-POST /auth/register[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "name": "John Doe",[m
[31m-  "email": "john@example.com",[m
[31m-  "password": "securePassword123"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Response** (201):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "message": "Registration successful",[m
[31m-  "data": {[m
[31m-    "user": {[m
[31m-      "_id": "user_123",[m
[31m-      "name": "John Doe",[m
[31m-      "email": "john@example.com",[m
[31m-      "role": "user"[m
[31m-    },[m
[31m-    "accessToken": "eyJhbGciOiJIUzI1NiIs...",[m
[31m-    "refreshToken": "eyJhbGciOiJIUzI1NiIs..."[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Login[m
[31m-```http[m
[31m-POST /auth/login[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "email": "john@example.com",[m
[31m-  "password": "securePassword123"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "message": "Login successful",[m
[31m-  "data": {[m
[31m-    "user": { /* user object */ },[m
[31m-    "accessToken": "eyJhbGciOiJIUzI1NiIs...",[m
[31m-    "refreshToken": "eyJhbGciOiJIUzI1NiIs..."[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Refresh Token[m
[31m-```http[m
[31m-POST /auth/refresh[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "refreshToken": "eyJhbGciOiJIUzI1NiIs..."[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Logout[m
[31m-```http[m
[31m-POST /auth/logout[m
[31m-```[m
[31m-[m
[31m-### Get Profile[m
[31m-```http[m
[31m-GET /auth/profile[m
[31m-```[m
[31m-[m
[31m----[m
[31m-[m
[31m-## ü§ñ AI Endpoints[m
[31m-[m
[31m-### Chat with AI[m
[31m-```http[m
[31m-POST /ai/chat[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "message": "Create a task for implementing user authentication",[m
[31m-  "context": {[m
[31m-    "type": "project-management",[m
[31m-    "projectId": "proj_123"[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "data": {[m
[31m-    "response": "I'll help you create a task for user authentication...",[m
[31m-    "metadata": {[m
[31m-      "responseTime": 1250,[m
[31m-      "agent": "product-manager"[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Create Task with AI[m
[31m-```http[m
[31m-POST /ai/tasks/create[m
[31m-```[m
[31m-[m
[31m-**Request Body**:[m
[31m-```json[m
[31m-{[m
[31m-  "description": "Build user login with Google OAuth and email/password options",[m
[31m-  "projectId": "proj_123"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Response** (201):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "message": "Task created successfully",[m
[31m-  "data": {[m
[31m-    "_id": "task_456",[m
[31m-    "title": "Implement User Authentication System",[m
[31m-    "description": "Build comprehensive auth system...",[m
[31m-    "priority": "high",[m
[31m-    "estimatedTime": 16,[m
[31m-    "tags": ["authentication", "security", "backend"],[m
[31m-    "acceptanceCriteria": [[m
[31m-      "User can register with email",[m
[31m-      "OAuth integration working",[m
[31m-      "JWT tokens generated"[m
[31m-    ][m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Analyze Task[m
[31m-```http[m
[31m-GET /ai/tasks/:taskId/analyze[m
[31m-```[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "data": {[m
[31m-    "complexityScore": 7,[m
[31m-    "estimatedHours": 16,[m
[31m-    "skillsRequired": ["Node.js", "OAuth", "JWT", "MongoDB"],[m
[31m-    "dependencies": ["Database setup", "Email service"],[m
[31m-    "risks": ["Third-party OAuth service downtime"],[m
[31m-    "recommendations": [[m
[31m-      "Implement comprehensive error handling",[m
[31m-      "Add rate limiting to auth endpoints"[m
[31m-    ],[m
[31m-    "blockers": [][m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Analyze Project Health[m
[31m-```http[m
[31m-GET /ai/projects/:projectId/analyze[m
[31m-```[m
[31m-[m
[31m-**Response** (200):[m
[31m-```json[m
[31m-{[m
[31m-  "success": true,[m
[31m-  "data": {[m
[31m-    "healthScore": 75,[m
[31m-    "status": "healthy",[m
[31m-    "insights": [[m
[31m-      "Project is on track for deadline",[m
[31m-      "Good task completion rate",[m
[31m-      "Team velocity is consistent"[m
[31m-    ],[m
[31m-    "risks": [[m
[31m-      "3 tasks overdue",[m
[31m-      "Testing coverage below target"[m
[31m-    ],[m
[31m-    "recommendations": [[m
[31m-      "Prioritize overdue tasks",[m
[31m-      "Allocate time for testing",[m
[31m-      "Consider adding another developer"[m
[31m-    ][m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### Transcribe Audio/Meeting[m
[31m-```http[m
[31m-POST /ai/transcribe[m
[31m-Content-Type: multipart/form-data[m
[31m-```[m
[31m-[m
[31m-**Form Data**:[m
[31m-- `audio`: Audio file (mp3, wav, m4a,[m
\ No newline at end of file[m
